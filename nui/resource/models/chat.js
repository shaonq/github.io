/**
 * @info: shaonq.github.io 机器人客户
 * @update: 2018-07-17
 */
;!function () {
    /**
     * @info: 支持回复的聊天信息
     * @type {{type: {msg: msg, zip: zip}}}
     */
    var modelName = 'models/chat.js';
    var global = function (option) {
        this.init();
    };
    /** Ai模板 */
    var AI_tpl = {};
    global.prototype.addTpl = function (type,callback) {
        AI_tpl[type] = callback;
        return this
    };
    /** Ai能力 */
    var AI_filter = {};
    global.prototype.addFilter = function (type,callback) {
        AI_filter[type] = callback;
        return this
    };
    /** html转义 */
    global.prototype.escape = function (html) {
        return String(html || '').replace(/&(?!#?[a-zA-Z0-9]+;)/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/'/g, '&#39;').replace(/"/g, '&quot;');
    };
    /** 接受信息 */
    global.prototype.send = function (op) {
        var box = this.$el;
        if (typeof op === "object") {
            op.type in AI_tpl ? box.append(AI_tpl[op.type](op)) : box.append(AI_tpl.msg(op));
            var thisBox = box[0];
            nui.animate(thisBox.scrollTop, thisBox.scrollHeight, function (v) {
                thisBox.scrollTop = v
            }, "easeOut", 1000)
        }

    };
    // 创建ui框架
    // hide && show
    global.prototype.hide = function () {
        this.$open.hide()
    };
    global.prototype.show = function () {
        this.$open.show()
    };
    global.prototype.init = function () {
        var othis = this;
        /** 只负责Ui框架 */
        var content = '<style>  \
            .nui_model_chat {border-color:#e2e2e2;-webkit-animation-name: scale-in;animation-name: scale-in;} \
            .nui_model_chat .nui-open-bd {position: relative;padding: 0;overflow: hidden;} \
            .nui_model_chat .model_chat__bd,\
            .nui_model_chat .model_chat__fd{position: absolute;left: 0;width: 100%;}\
            .nui_model_chat .model_chat__bd{top:0;bottom: 100px;}\
            .nui_model_chat .model_chat__fd{bottom: 0;height: 100px;background-color: #fff;}\
            .nui_model_chat .model_chat__content {height:100%;padding: 5px;-webkit-box-sizing: border-box;box-sizing: border-box;background-color:#f7f7f7;overflow-x: hidden; overflow-y: auto;}\
            .nui_model_chat .model_chat__tpl-content{max-width:280px;padding:9px 13px;background-color:#fff;min-height:1em;display:inline-block;vertical-align:top;position:relative;text-align:left;font-size:13px;border-radius:3px;color:#333;margin:5px 10px;animation:scale-in cubic-bezier(0.22,0.58,0.12,0.98) .5s}\
            .nui_model_chat .model_chat__tpl-content:before{content:" ";position:absolute;top:12px;right:100%;border:6px solid transparent;border-right-color:#fafafa}\
            .nui_model_chat .model_chat__tpl.this .model_chat__tpl-content:before{right:auto;left:100%;border-right-color:transparent;border-left-color:#b2e281}\
            .nui_model_chat .model_chat__tpl.this{text-align:right}\
            .nui_model_chat .model_chat__tpl.this .model_chat__tpl-content{background-color:#b2e281}\
            </style>\
            <div class="model_chat__bd"><div class="model_chat__content"></div></div>\
            <div class="model_chat__fd"><textarea class="nui-textarea nui-noborder" placeholder="按 Enter 发送"></textarea></div>';
        var $textarea;
        nui.open({
            content: content,
            skin: 'nui_model_chat',
            shadow: false,
            title: '有什么可以帮到你的？',
            full: true,
            fixed: true,
            close: true,
            width: ['550px', '640px'],
            success: function (that, index) {
                othis.$open = that;
                // 去掉原始的clsoe事件
                var close = that.find('.nui-open-close');
                var el = close.clone();
                el.on('click',function () {othis.hide();});
                close.remove();
                setTimeout(function () {
                    that.find('.nui-open-hd').append(el);
                },50);
                othis.hide();
                $textarea = $("textarea", this);
            }
        });

        // 内容操作.
        var $el = this.$el =  $(".model_chat__content");
        $el.on("click", "img", function () {
            nui.open({content: '<img src=' + this.getAttribute('src') + '>', title: $(this).next('span').html()})
        });

        // 问候.
/*        var arr = ['有什么可以帮你的吗？'],
            index = 0,
            timer = setInterval(function () {
                var text = arr[index];
                text ? (othis.send({text: text}), index++) : clearInterval(timer);
            }, 5e2);*/
        // 提交.
        var historyText = (nui.store("_Chat_History_Text") || {}).text;
        var submit = function () {
            var text = $textarea.val() || "";
            if ("" !== text.replace(/\s/g, "")) {
                nui.store("_Chat_History_Text", {text: text});
                historyText = text;
                othis.filter(text);
                $textarea.val('');
            }
        };
        $textarea.on("keydown", function (e) {
            if (e.keyCode === 13) {
                return submit(), false
            }
            if (e.keyCode === 38 && this.value === "" && historyText) {
                return this.value = historyText, false
            }
        });
        return this
    };
    // 过滤.
    global.prototype.filter = function (text) {
        var othis = this ,isFilter;
        text = this.escape(text);
        if (text) {
            othis.show();
            othis.send({text: text, me: true});
            for(var type in  AI_filter){
                if(text.indexOf(type) !== -1){
                    AI_filter[type](text);
                    isFilter = true;
                    break;
                }
            }
            isFilter||nui.debounce(function () {
                nui.http("https://bird.ioliu.cn/v1?url=http://www.tuling123.com/openapi/api", {
                    key: "71d42b94bc57459a9a99017b53377579", info: text
                }, function (e) {
                    othis.send({text: e.text});
                });
            }, 100)();
        }
    };
    // 暴露方法.
    window.nui[modelName] = function (form) {
        var a = new global();
        // 添加模板能力
        a.addTpl('msg',function (data) { // 默认模板
            var a = '<div class="model_chat__tpl {{d.me}}" type="msg">\
                        <div class="model_chat__tpl-content">{{d.text}}</div>\
                     </div>',
                b = {
                    text: data.text,
                    me: (data.me ? "this" : ""),


                    time: nui.util.date.now(),
                    user:"小哈",
                    img: "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTMyMzEyNzI5NjAzIiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQ1OTUiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTgwNi45IDcxMi41Qzc1NyA4MDAuMyA3MDkgODM4LjEgNjk2IDg0Ny4ybDEuNiAyNi43YzUzLTQ3IDgxLjItOTMuNiA5NS43LTEyNS4yIDYuMy0xMy43IDEwLjYtMjUuOSAxMy42LTM2LjJ6IiBmaWxsPSIjRkZGRkZGIiBwLWlkPSI0NTk2Ij48L3BhdGg+PHBhdGggZD0iTTgyNS4zIDY3NS45Yy0xLjEtMy41LTQtNS02LjItNS4yLTEuMS0wLjEtNC45IDAtNy4xIDQuNC02MC44IDEyMC44LTEyNS40IDE2Mi42LTEyNi4zIDE2My4ybC0zLjMgMi4xIDMuNyA2MC43IDEwLTguNGM2Mi40LTUyLjIgOTQuNC0xMDUuMyAxMTAuMi0xNDAuNiA5LjgtMjEuOCAxNC42LTM5LjIgMTYuOS01MC4xIDEtNC42IDQuMS0yMC4xIDIuMS0yNi4xeiBtLTEyNy43IDE5OGwtMS42LTI2LjdjMTMtOS4yIDYxLTQ2LjkgMTEwLjktMTM0LjctMyAxMC4yLTcuMyAyMi41LTEzLjYgMzYuMS0xNC40IDMxLjctNDIuNiA3OC4zLTk1LjcgMTI1LjN6IiBmaWxsPSIiIHAtaWQ9IjQ1OTciPjwvcGF0aD48cGF0aCBkPSJNMjQ3LjYgNzYzLjJjLTEyLjUgMTYuNC0xNS4xIDU5LjQgOSAxMTUuMSAxNC40IDMzLjQgMzMuMSA1Ni43IDQ2LjcgNTguMSAzNS42IDMuNyA0NiAyIDQ4LjYgMS4yIDEuMy0xLjQgMy4xLTIuMiA0LjktMi4ybDk5LjQgMC4zYzAuMiAwIDIzLjYgMC4xIDczLjUgMC43IDM2LjggMC40IDk5LjMgMC4xIDEwNy42IDAgNC45LTEuNSAzMi41LTExLjMgNDQuOC00Mi41IDE1LjItMzguNSAzMC41LTExMi4xIDI2LjgtMTI5LTIuNC0xMS4zLTcuNi0xOS4yLTE1LjUtMjMuNC0xMy42LTcuMy0zMy4xLTIuNS0zOS41IDBsLTIuNC02LjItMzY3LjQgMTAuNi0wLjkgNi41Yy0xNi42LTIuNC0yOC4yIDEuMi0zNS42IDEwLjh6IiBmaWxsPSIjRkY5NjQwIiBwLWlkPSI0NTk4Ij48L3BhdGg+PHBhdGggZD0iTTcyMS44IDc2Mi4xYy0zLjMtMTUuMy0xMC43LTI2LjEtMjIuMS0zMi4yLTIxLjctMTEuNy00OS40LTEuMi01MC41LTAuN2wyLjQgNi4yIDIuNCA2LjJjNi40LTIuNSAyNS45LTcuMyAzOS41IDAgNy44IDQuMiAxMyAxMi4xIDE1LjUgMjMuNCAzLjcgMTctMTEuNiA5MC41LTI2LjggMTI5LTEyLjMgMzEuMi0zOS45IDQxLTQ0LjggNDIuNS04LjMgMC4xLTcwLjggMC40LTEwNy42IDAtNDkuOS0wLjYtNzMuMi0wLjctNzMuNS0wLjdsLTk5LjQtMC4zYy0xLjkgMC0zLjcgMC44LTQuOSAyLjItMi42IDAuNy0xMyAyLjQtNDguNi0xLjItMTMuNS0xLjQtMzIuMy0yNC43LTQ2LjctNTguMS0yNC01NS43LTIxLjUtOTguNy05LTExNS4xIDcuNC05LjcgMTkuMS0xMy4yIDM1LjYtMTAuOGwwLjktNi41IDAuOS02LjVjLTE0LjctMi4xLTM0LjktMS4xLTQ3LjkgMTUuOS0yMS4yIDI3LjctMTEuNiA4NC40IDcuMyAxMjguMyA2LjQgMTQuOCAyOS4zIDYzLjEgNTcuNCA2NiAxNi41IDEuNyAyOC4yIDIuMyAzNi42IDIuMyAxMy43IDAgMTguNy0xLjcgMjEuMS0zLjNsOTYuNSAwLjNjMC4yIDAgMjMuNSAwLjEgNzMuMyAwLjcgMzkuNCAwLjUgMTA4LjEgMCAxMDguOCAwIDAuNiAwIDEuMS0wLjEgMS42LTAuMiAxLjYtMC40IDM4LjctMTAuNiA1NC41LTUwLjYgMTMuOS0zNS4yIDMyLjMtMTE0LjUgMjcuNS0xMzYuOHoiIGZpbGw9IiIgcC1pZD0iNDU5OSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMTIuMyA5NDguMmMtMi44IDAtNS4yLTEuNy02LjItNC4zLTMwLjMtODIuMi0zOS0xNzAuMS0yNS45LTI2MS4yIDEyLjMtODUuNyAzOS41LTE0MC45IDQyLjYtMTQ2LjkgMTMuOS0yNy4yIDg4LjEtMzEuMiAxMzEuMi0zMS4yIDUxLjIgMCAxMTMuOCA2LjIgMTM0LjEgMTguMSAzMS45IDE4LjYgNTUuNSA1NC45IDY4LjMgMTA0LjkgMjUuMSA5Ny43IDYgMjM0LjgtNDQuMyAzMTguOS0xLjIgMi0zLjMgMy4yLTUuNyAzLjIgMCAwLjEtMjk0LjEtMS41LTI5NC4xLTEuNXoiIGZpbGw9IiNGRjk2NDAiIHAtaWQ9IjQ2MDAiPjwvcGF0aD48cGF0aCBkPSJNNDU0IDUxMS4yYzU2LjIgMCAxMTMuNiA3LjIgMTMwLjggMTcuMiAxMDIgNTkuNiA5My4yIDI5NS4xIDIxLjYgNDE0LjdsLTI5NC4xLTEuNWMtNzAtMTkwLjEtMy43LTM2My41IDE2LjMtNDAyLjggMTAuMy0xOS45IDY3LjItMjcuNiAxMjUuNC0yNy42bTAtMTMuMmMtMzIuMiAwLTYxIDIuMy04My4yIDYuNi0yOS41IDUuNy00Ny4xIDE1LTUzLjkgMjguMy0zLjMgNi41LTEyLjEgMjQuOS0yMS43IDU0LjctOS43IDMwLjItMTYuOSA2MS45LTIxLjYgOTQuMi01LjkgNDEuMy03LjQgODIuOC00LjMgMTIzLjIgMy43IDQ4LjYgMTQgOTYuMSAzMC42IDE0MS4yIDEuOSA1LjIgNi44IDguNiAxMi4zIDguNmwyOTQuMSAxLjVoMC4xYzQuNiAwIDguOS0yLjQgMTEuMy02LjQgNTEuMS04NS40IDcwLjUtMjI0LjYgNDUuMS0zMjMuOS02LjMtMjQuNi0xNS4yLTQ2LjEtMjYuNC02NC0xMi4zLTE5LjYtMjcuNC0zNC43LTQ0LjktNDUtMTAtNS45LTI4LjgtMTAuNi01NS44LTE0LjEtMjQuNi0zLjEtNTMuNi00LjktODEuNy00Ljl6IiBmaWxsPSIiIHAtaWQ9IjQ2MDEiPjwvcGF0aD48cGF0aCBkPSJNNjAyLjIgOTQzLjJsLTI2NS45LTEuNGMzMS41LTIxOC4zIDQ5LjktMjc3LjMgMTQ0LjUtMjc1LjMgMTA1IDIuMiAxMjAgMTkxLjIgMTIxLjQgMjc2Ljd6IiBmaWxsPSIjRkZGRkZGIiBwLWlkPSI0NjAyIj48L3BhdGg+PHBhdGggZD0iTTM3My45IDkxMS4yaC0wLjJjLTE5LjMgMC4xLTMzLjYgMTIuNi00MCAyMy4zLTMuNiA2LjEtMy44IDEwLjEtMy41IDExLjEgMy4yIDIgMTguNiA0LjcgNDMuOSA0LjdoMC4xYzI0LjIgMCAzOS43LTIuNSA0My42LTQuNCAwLjEtMS43LTAuOS02LjgtNS45LTEzLjctNy4zLTEwLjItMjEuMS0yMS0zOC0yMXoiIGZpbGw9IiNGRkZGRkYiIHAtaWQ9IjQ2MDMiPjwvcGF0aD48cGF0aCBkPSJNMzczLjkgODk4aC0wLjNjLTE5LjkgMC4xLTM2LjkgMTAuNy00NyAyMy42LTYuMi0xMS4yLTE5LTIzLjctMzUuOC0yMy42LTE3LjIgMC4xLTMwLjggMTIuOS0zNi44IDI1LjUtNCA4LjYtNC4xIDE2LjEtMC4zIDIwLjcgNS4zIDYuNSAyNC4yIDcuNiAzNi44IDcuNiAyLjcgMCA1LjEtMC4xIDctMC4xIDkuMy0wLjMgMTUuNy0xLjEgMjAuMy0yLjEgMC42IDIgMS42IDMuNyAzIDUuMSA3LjMgNy42IDM1LjkgOC43IDUzIDguNyA1LjMgMCA5LjUtMC4xIDExLjYtMC4yIDM2LjItMS4yIDQwLjktNi44IDQyLjctOC45IDQtNC44IDMuOS0xMi40LTAuMy0yMS40LTguMy0xNy4zLTI5LjQtMzQuOS01My45LTM0Ljl6IG00My45IDQ3LjljLTMuOCAxLjktMTkuNCA0LjQtNDMuNiA0LjRoLTAuMWMtMjUuMyAwLTQwLjYtMi43LTQzLjktNC43LTAuMy0xLTAuMS01LjEgMy41LTExLjEgNi40LTEwLjcgMjAuNy0yMy4yIDQwLTIzLjNoMC4yYzE2LjkgMCAzMC43IDEwLjggMzggMjEgNSA2LjkgNiAxMiA1LjkgMTMuN3ogbS0xMjYuNy03LjJjLTE0LjQgMC0yNC0xLjYtMjctMi45IDAtMS44IDEtNi41IDUuMi0xMi4yIDIuNy0zLjcgMTAuMy0xMi4zIDIxLjYtMTIuNGgwLjFjOS43IDAgMTYuOCA3IDIwLjIgMTEuMiA0LjcgNS44IDYuNSAxMS4yIDYuNyAxMy42LTMuNCAxLjItMTMgMi43LTI2LjggMi43eiIgZmlsbD0iIiBwLWlkPSI0NjA0Ij48L3BhdGg+PHBhdGggZD0iTTMxMS4yIDkyMi40Yy0zLjQtNC4yLTEwLjUtMTEuMi0yMC4yLTExLjJoLTAuMWMtMTEuMyAwLjEtMTguOSA4LjctMjEuNiAxMi40LTQuMiA1LjctNS4yIDEwLjQtNS4yIDEyLjIgMyAxLjMgMTIuNiAyLjkgMjcgMi45IDEzLjggMCAyMy4zLTEuNSAyNi43LTIuNy0wLjEtMi40LTEuOS03LjgtNi42LTEzLjZ6TTY3OS4yIDkyOC4yQzY3NS45IDkyNCA2NjguNyA5MTcgNjU5IDkxN2gtMC4xYy0xMS4zIDAuMS0xOC45IDguNy0yMS42IDEyLjQtMS42IDIuMi0yLjggNC4zLTMuNiA2LjEgMC41IDIuNCAwLjggNC43IDAuOSA2LjggNC40IDEuMSAxMi45IDIuMSAyNC41IDIuMSAxMy44IDAgMjMuMy0xLjUgMjYuNy0yLjctMC4xLTIuMy0xLjgtNy43LTYuNi0xMy41eiIgZmlsbD0iI0ZGRkZGRiIgcC1pZD0iNDYwNSI+PC9wYXRoPjxwYXRoIGQ9Ik02OTUuMiA5MjguNWMtNS45LTExLjQtMTguOS0yNC43LTM2LjItMjQuN2gtMC4yYy0xMy4yIDAuMS0yNC4zIDcuNi0zMS40IDE2LjlsLTAuMS0wLjFjLTUuNy04LjQtMTcuMS0xOC41LTM4LjktMTguNS0xMi40IDAtMjMuNCAzLTMyLjYgOC45LTcuNCA0LjgtMTMuNCAxMS40LTE3IDE4LjctNCA4LjItNC4zIDE1LjgtMC43IDIwLjQgMS43IDIuMiA0LjggNi4yIDM3LjIgNy45IDYuOCAwLjQgMTMuNyAwLjUgMjAuMSAwLjUgMTAuMiAwIDE5LjMtMC41IDI1LjQtMS4zIDMuMS0wLjQgNi40LTEuMSA4LjktMi41IDguMiAyLjUgMTkuOSAzLjEgMjguNyAzLjEgMi43IDAgNS4xLTAuMSA3LTAuMSAyNi40LTAuOSAzMC4xLTYgMzEuNS03LjkgMy41LTQuOCAyLjgtMTIuNS0xLjctMjEuM3ogbS0xMDkuOCAxNi42Yy0xOS40LTAuNS0zMi4xLTIuMy0zNi41LTMuNiAwLjItMi4xIDEuNC02LjQgNS4xLTExLjMgNC4zLTUuNiAxNC42LTE1IDM0LjQtMTUgMTIuMiAwIDIxLjMgMy45IDI3LjEgMTEuNiA0LjggNi4zIDUuOSAxMy4zIDUuOSAxNi45LTQuOSAxLTE3LjQgMS45LTM2IDEuNHogbTczLjgtMC42Yy0xMS42IDAtMjAuMS0xLTI0LjUtMi4xLTAuMS0yLjEtMC40LTQuNC0wLjktNi44IDAuOC0xLjggMS45LTMuOSAzLjYtNi4xIDIuNy0zLjcgMTAuMy0xMi4zIDIxLjYtMTIuNGgwLjFjOS43IDAgMTYuOCA3IDIwLjIgMTEuMiA0LjcgNS44IDYuNSAxMS4yIDYuNyAxMy42LTMuNSAxLjEtMTMuMSAyLjYtMjYuOCAyLjZ6IiBmaWxsPSIiIHAtaWQ9IjQ2MDYiPjwvcGF0aD48cGF0aCBkPSJNNjIxLjUgOTQzLjdjMC0zLjUtMS4yLTEwLjUtNS45LTE2LjktNS44LTcuNy0xNC45LTExLjYtMjcuMS0xMS42LTE5LjggMC0zMC4xIDkuNC0zNC40IDE1LTMuOCA0LjktNSA5LjItNS4xIDExLjMgNC40IDEuMyAxNy4xIDMuMSAzNi41IDMuNiAxOC41IDAuNSAzMS0wLjQgMzYtMS40eiIgZmlsbD0iI0ZGRkZGRiIgcC1pZD0iNDYwNyI+PC9wYXRoPjxwYXRoIGQ9Ik0yNDUuNyA4Ni42Yy0xLjgtMC4yLTMuNSAwLjktNC4yIDIuNy05LjggMjUuMy0zOS4xIDExMi40LTExLjMgMTc5LjNMMzU2IDE1OS44bC01LjYgMy42Yy0xNi44LTI2LjUtNTIuOS03MS43LTEwNC43LTc2Ljh6TTIyNC45IDI3My4xeiIgZmlsbD0iI0ZGOTY0MCIgcC1pZD0iNDYwOCI+PC9wYXRoPjxwYXRoIGQ9Ik0yNDcgNzMuNWMtNy43LTAuOC0xNSAzLjgtMTcuOCAxMUMyMTguOSAxMTEuMiAxODcuNyAyMDQgMjE4LjkgMjc1LjdsNi4xLTIuNiA2LjEtMi42Yy0wLjMtMC42LTAuNS0xLjMtMC44LTEuOS0yNy44LTY2LjkgMS42LTE1NCAxMS4zLTE3OS4zIDAuNy0xLjcgMi40LTIuOCA0LjItMi43IDUxLjggNS4xIDg3LjkgNTAuMyAxMDQuOCA3Ni44bDUuNi0zLjYgNS42LTMuNkMzNDMuNCAxMjcuOCAzMDQuMyA3OS4xIDI0NyA3My41eiIgZmlsbD0iIzAyMDIwMiIgcC1pZD0iNDYwOSI+PC9wYXRoPjxwYXRoIGQ9Ik02NzkuNSA4OC4xYy00LjktMTIuNy05LjUtMTYuOS0xMS40LTE3LjMtNC43LTEuMS0xOS4xLTEuMS01MS40IDIxLjctMjMuNCAxNi42LTQ5LjQgNDAuNi03My4xIDY3LjdsMTMzLjIgODQuOS01LjQtMy44YzI2LjctMzguNyAyMi44LTExNS4zIDguMS0xNTMuMnpNNTM3LjkgMTU2Ljd6IiBmaWxsPSIjRkY5NjQwIiBwLWlkPSI0NjEwIj48L3BhdGg+PHBhdGggZD0iTTY5MS44IDgzLjRDNjg2IDY4LjQgNjc5IDU5LjggNjcxIDU4Yy0xNy43LTQuMS00My41IDEwLjctNjIgMjMuOC0yNC41IDE3LjQtNTEuNSA0Mi40LTc2LjEgNzAuNWw1IDQuMyA1IDQuM2MwLjItMC4zIDAuNC0wLjUgMC43LTAuOEM1NjcuMyAxMzMgNTkzLjIgMTA5IDYxNi43IDkyLjRjMzIuMy0yMi45IDQ2LjctMjIuOCA1MS40LTIxLjcgMS45IDAuNCA2LjUgNC42IDExLjQgMTcuMyAxNC43IDM3LjggMTguNiAxMTQuNC04LjIgMTUzLjJsNS40IDMuOCA1LjQgMy44YzMwLjUtNDMuOSAyNS4xLTEyNS43IDkuNy0xNjUuNHoiIGZpbGw9IiMwMjAyMDIiIHAtaWQ9IjQ2MTEiPjwvcGF0aD48cGF0aCBkPSJNMjY2LjQgMjE4LjlzLTIxLjEtNTItMTIuNy03OS40IDUyLjggNTkuNyA1Mi44IDU5LjdsLTQwLjEgMTkuN3pNNjA2LjQgMTcyLjhjLTEtMjkuMyA1Ni42LTcxLjUgNjEuMS02OC40IDguOCA1LjktNC40IDU0LjUtMjQuMyA5OS40IDggOC4yLTM2LjgtMzEtMzYuOC0zMXoiIGZpbGw9IiNGRkZGRkYiIHAtaWQ9IjQ2MTIiPjwvcGF0aD48cGF0aCBkPSJNNDY1LjEgNTg4LjFjLTY4LjggMC0xMzYuNC0xMS42LTE4NS41LTMxLjctMzAuNy0xMi42LTU0LjctMjguNS03MS41LTQ3LjQtMTkuNC0yMS43LTI5LjItNDcuMy0yOS4yLTc2LjEgMC02MC44IDI4LjEtMTMzLjQgNzMuMi0xODkuNyA1Mi02NC43IDExOS0xMDAuMyAxODguNi0xMDAuMyA0NCAwIDgxLjUgNS4zIDExNC42IDE2LjMgMzAuOCAxMC4yIDU3LjIgMjUuMSA4MC42IDQ1LjYgNDMgMzcuNSA3MC43IDg4LjYgOTkgMTUzLjcgMjEuNyA0OS44IDIwLjUgOTMuOS0zLjUgMTMxLTQ2IDcxLjEtMTY0LjUgOTcuNS0yNjAuMSA5OC41LTIgMC4xLTQuMSAwLjEtNi4yIDAuMXoiIGZpbGw9IiNGRjk2NDAiIHAtaWQ9IjQ2MTMiPjwvcGF0aD48cGF0aCBkPSJNNzQxLjEgMzU1LjhjLTE2LTM2LjctMjkuMy02My4yLTQzLjItODUuOS0xNy42LTI4LjctMzYuNC01MS43LTU3LjUtNzAuMS0yNC4xLTIxLTUxLjItMzYuNC04Mi45LTQ2LjgtMzMuOC0xMS4yLTcyLTE2LjYtMTE2LjctMTYuNi0zNy43IDAtNzQuNCA5LjktMTA5LjIgMjkuNi0zMS4yIDE3LjYtNTkuNiA0Mi4yLTg0LjYgNzMuMy0yMi44IDI4LjQtNDEuOCA2MS40LTU0LjkgOTUuNS0xMyAzMy44LTE5LjggNjcuOC0xOS44IDk4LjMgMCAzMC40IDEwLjQgNTcuNSAzMC44IDgwLjQgMTcuNSAxOS42IDQyLjQgMzYuMiA3NCA0OS4xIDI2LjkgMTEuMSA1OC40IDE5LjUgOTMuNyAyNSAzMC4yIDQuNyA2Mi44IDcuMiA5NC4zIDcuMmg2LjNjNTYuMi0wLjYgMTA5LjgtOS4yIDE1NC45LTI0LjcgMjQuNS04LjUgNDYuMS0xOC45IDY0LjItMzEuMSAxOS44LTEzLjMgMzUuNC0yOC43IDQ2LjUtNDUuOCAxMi4yLTE4LjggMTguOS0zOS43IDE5LjgtNjIuMSAxLjEtMjMuNy00LjMtNDguOS0xNS43LTc1LjN6TTQ3MS4zIDU4MS40aC02LjFjLTExNS4yIDAtMjc5LjYtMzMuOC0yNzkuNi0xNDguNkMxODUuNiAzMTUuOSAyOTIgMTQ5LjQgNDQwLjggMTQ5LjRjMTc3LjcgMCAyMzUuNCA5MC4xIDI4OC4yIDIxMS42IDY2IDE1MS43LTEwMSAyMTguOC0yNTcuNyAyMjAuNHoiIGZpbGw9IiIgcC1pZD0iNDYxNCI+PC9wYXRoPjxwYXRoIGQ9Ik03MjkuMyAzNjEuOGMtMTYuOC0xLjItMzYuNiAwLjItNTYuNSA3LjYtMjUgOS40LTQ2LjIgMzkuNC04Mi41IDUzLjYtNzQuMiAyOS0xMDkuNC0zNi4yLTEwNy42LTc0LjhDNDg0LjkgMzAwIDUyNi4yIDE5OSA1MTQuOCAxNTUuN2MtMjIuMS00LjEtNDYuNy02LjItNzQuMS02LjItMTUuNyAwLTMxIDEuOS00NS42IDUuMy0xNC40IDMwLjcgMTQuNCA5Ni45IDM4LjUgMTkxLjMgOS42IDM4LjYtMjIuNyA4NC42LTY2LjYgOTAuNy00Ny4zIDYuNi02NC44LTIxLjYtMTA3LTM5LjEtMjQuOS0xMC4zLTUwLjItMTAuMS03MC43LTUtMi41IDEzLjgtMy44IDI3LjMtMy44IDQwLjIgMCAxMTYuOSAxNzAuNCAxNDkuOCAyODUuOCAxNDguNiAzMC44LTAuMyA2Mi0zLjIgOTEuNy04LjdsNjUuOS0xNy44Yzg3LjItMzIuMyAxNDIuOC05NSAxMDAuNC0xOTMuMnoiIGZpbGw9IiNGRkZGRkYiIHAtaWQ9IjQ2MTUiPjwvcGF0aD48cGF0aCBkPSJNMzM0LjQgMzAzLjJoMjYuMmM0LjIgMCA3LjMtNCA2LjEtOC0yLTYuNy02LjgtMTUtMTguNi0xMy43LTExIDEuMi0xNi4zIDgtMTguOSAxMy42LTEuNyAzLjggMS4xIDguMSA1LjIgOC4xek01MzMuOCAzMDYuMmMtMi4yIDAuMS00LjEtMS42LTQtMy44IDAuMS0xNS40IDguMS0xNy40IDE4LTE3LjcgOC44LTAuMiAxNy4xIDYuNiAyMS4xIDE1LjcgMS4yIDIuNi0wLjggNS41LTMuNyA1LjQtMTEuNy0wLjYtMjUgMC0zMS40IDAuNHoiIGZpbGw9IiNGRkZGRkYiIHAtaWQ9IjQ2MTYiPjwvcGF0aD48cGF0aCBkPSJNMzQ4LjIgMzY3LjJtLTQxLjcgMGE0MS43IDQxLjcgMCAxIDAgODMuNCAwIDQxLjcgNDEuNyAwIDEgMC04My40IDBaIiBmaWxsPSIjRkZGRkZGIiBwLWlkPSI0NjE3Ij48L3BhdGg+PHBhdGggZD0iTTM0OC4yIDM2Ny4ybS0yNS43IDBhMjUuNyAyNS43IDAgMSAwIDUxLjQgMCAyNS43IDI1LjcgMCAxIDAtNTEuNCAwWiIgZmlsbD0iIiBwLWlkPSI0NjE4Ij48L3BhdGg+PHBhdGggZD0iTTM1OC44IDM2OS41bS0xMC42IDBhMTAuNiAxMC42IDAgMSAwIDIxLjIgMCAxMC42IDEwLjYgMCAxIDAtMjEuMiAwWiIgZmlsbD0iI0ZGRkZGRiIgcC1pZD0iNDYxOSI+PC9wYXRoPjxwYXRoIGQ9Ik01NTkuNCAzNjcuMm0tNDEuNyAwYTQxLjcgNDEuNyAwIDEgMCA4My40IDAgNDEuNyA0MS43IDAgMSAwLTgzLjQgMFoiIGZpbGw9IiNGRkZGRkYiIHAtaWQ9IjQ2MjAiPjwvcGF0aD48cGF0aCBkPSJNNTU5LjQgMzY3LjJtLTI1LjcgMGEyNS43IDI1LjcgMCAxIDAgNTEuNCAwIDI1LjcgMjUuNyAwIDEgMC01MS40IDBaIiBmaWxsPSIiIHAtaWQ9IjQ2MjEiPjwvcGF0aD48cGF0aCBkPSJNNTU1LjEgMzcxLjltLTEwLjYgMGExMC42IDEwLjYgMCAxIDAgMjEuMiAwIDEwLjYgMTAuNiAwIDEgMC0yMS4yIDBaIiBmaWxsPSIjRkZGRkZGIiBwLWlkPSI0NjIyIj48L3BhdGg+PHBhdGggZD0iTTU0MC40IDQ2Ny42Yy0xLjItMS4zLTMuMy0xLjQtNC43LTAuMi0xMi45IDExLjgtMjUgMTYuNC0zNS44IDEzLjYtMTYtNC4xLTI2LjItMjMtMzAuNi0zMyA4LjEtMy4zIDIxLjYtMTUuOCAxNS44LTI1LTYuNi0xMC42LTQ0LjMtMTAuOC00NC4zIDQuNiAwIDUuNiA4LjcgMTcgMTkuNCAyMC4zLTAuMiAwLjYtMC42IDEuNi0xIDIuN2gtMC4zcy0xIDIuOC0yLjcgNi45Yy0xLjQgMy0zLjEgNi4zLTUuMSA5LjctNS4zIDguOS0xMy42IDE5LjctMjMuNiAyMC45LTkuNCAxLjEtMTkuMy02LjUtMjkuNS0yMi42LTEtMS41LTMtMi00LjYtMS0xLjUgMS0yIDMtMSA0LjYgMTAuOCAxNy4xIDIxLjkgMjUuOCAzMy4yIDI1LjggMC45IDAgMS43LTAuMSAyLjYtMC4yIDIuOS0wLjMgNS42LTEuMiA4LjItMi42IDIuMSAxNS4xIDkuNiA1Mi44IDMwLjggNTQuNCAyMS41IDEuNiAzNC4yLTQxLjggMzguMi01OC4yaDAuOWMxMC44IDAgMjIuMi01LjQgMzMuOS0xNi4yIDEuMy0xLjEgMS40LTMuMiAwLjItNC41eiIgZmlsbD0iIiBwLWlkPSI0NjIzIj48L3BhdGg+PHBhdGggZD0iTTQ0OC4xIDQyNi4xYTUuMiA1IDAgMSAwIDEwLjQgMCA1LjIgNSAwIDEgMC0xMC40IDBaIiBmaWxsPSIjRkZGRkZGIiBwLWlkPSI0NjI0Ij48L3BhdGg+PHBhdGggZD0iTTQxNS40IDkwNGMtMi4yLTcuOC01LjMtMTguMy04LjQtMzEtNi44LTI3LjktMTMuOC02Ni4yLTEzLTEwNy45IDAuMi0xMC45IDEtMjIgMi40LTMzLjMgMC41LTMuNi0yLjEtNi45LTUuNy03LjRzLTYuOSAyLjEtNy40IDUuN2MtOS45IDc2LjcgMTAuNiAxNDcuNCAxOS4zIDE3Ny42IDEuNiA1LjQgMy4yIDExIDMuMyAxMi41IDAuMSAzLjYgMyA2LjQgNi42IDYuNCAzLjYgMCA2LjYtMyA2LjYtNi42IDAuMS0yLjYtMC45LTYuMi0zLjctMTZ6IiBmaWxsPSIiIHAtaWQ9IjQ2MjUiPjwvcGF0aD48cGF0aCBkPSJNNTU2LjcgNzI2LjdjLTAuNy0zLjYtNC4yLTUuOS03LjctNS4yLTMuNiAwLjctNS45IDQuMi01LjIgNy43IDIuNyAxMy44IDQuMyAyOC4zIDUuMiA0MyAyLjIgMzQuOCAwLjEgNzAuNC0yLjggOTguOS0zLjQgMzMuOS04IDU3LjgtOC4xIDU4LjMtMC43IDMuNiAxLjYgNyA1LjIgNy43IDAuNCAwLjEgMC45IDAuMSAxLjMgMC4xIDMuMSAwIDUuOS0yLjIgNi41LTUuMyAwLjktNC42IDIyLjYtMTE3LjMgNS42LTIwNS4yeiIgZmlsbD0iIiBwLWlkPSI0NjI2Ij48L3BhdGg+PHBhdGggZD0iTTU0NC41IDU2MS4zTDQ5MyA1ODQuMWMtMS41IDAuNy0zLjIgMS00LjggMWgtNDljLTEuNyAwLTMuMy0wLjQtNC45LTFMMzgzIDU2MS4zYy04LjkgMS4xLTE1LjggOC43LTE1LjggMTcuOXYzNy4xYzAgOS4yIDYuOSAxNi44IDE1LjggMTcuOWw1MS4zLTIyLjhjMS41LTAuNyAzLjItMSA0LjktMWgwLjFsNTAuNSAwLjVjMS42IDAgMy4zIDAuNCA0LjggMWw0OS45IDIyLjNjOC45LTEuMSAxNS44LTguNyAxNS44LTE3Ljl2LTM3LjFjMC05LjItNi45LTE2LjgtMTUuOC0xNy45eiIgZmlsbD0iI0ZGQzIzOSIgcC1pZD0iNDYyNyI+PC9wYXRoPjxwYXRoIGQ9Ik01MzUuNyA1NTIuMWwtNDcuNSAyMWgtNDlsLTQ3LjQtMjFjLTYuNi0yLjktMTQuMy0yLjgtMjAuNyAwLjYtOS41IDUuMS0xNS45IDE1LTE1LjkgMjYuNXYzNy4xYzAgMTEuNCA2LjUgMjEuNCAxNS45IDI2LjUgNi40IDMuNCAxNC4xIDMuNSAyMC43IDAuNmw0Ny40LTIxIDUwLjUgMC41IDQ1LjkgMjAuNWM2LjYgMyAxNC4zIDIuOSAyMC44LTAuNiA5LjQtNS4xIDE1LjktMTUgMTUuOS0yNi41di0zNy4xYzAtMTEuNC02LjUtMjEuNC0xNS45LTI2LjUtNi40LTMuNC0xNC4xLTMuNS0yMC43LTAuNnogbTI0LjYgNjQuMmMwIDEuOS0wLjMgMy44LTAuOSA1LjYtMi45IDguOS0xMy4xIDEzLjEtMjEuNiA5LjNsLTQzLjEtMTkuM2MtMS41LTAuNy0zLjEtMS00LjgtMWwtNTAuNS0wLjVoLTAuNGMtMS42IDAtMy4yIDAuNC00LjcgMS4xbC00NC42IDE5LjhjLTguMiAzLjYtMTgtMC4xLTIxLjItOC40LTAuOC0yLTEuMi00LjItMS4yLTYuNXYtMzcuMWMwLTIuMyAwLjQtNC41IDEuMi02LjUgMy4yLTguMyAxMy0xMiAyMS4yLTguNGw0NC43IDE5LjhjMS41IDAuNyAzLjIgMSA0LjkgMWg0OWMxLjcgMCAzLjMtMC40IDQuOC0xbDQ0LjgtMTkuOGM4LjItMy42IDE4IDAuMSAyMS4yIDguNCAwLjggMiAxLjIgNC4yIDEuMiA2LjV2Mzd6IiBmaWxsPSIiIHAtaWQ9IjQ2MjgiPjwvcGF0aD48cGF0aCBkPSJNNDc4LjggNTgzLjRoLTMwLjFjLTEuNyAwLTMuMSAxLjQtMy4xIDMuMVY2MDljMCAxLjcgMS40IDMuMSAzLjEgMy4xaDMwLjFjMS43IDAgMy4xLTEuNCAzLjEtMy4xdi0yMi42YzAtMS42LTEuNC0zLTMuMS0zeiIgZmlsbD0iI0ZGRkZGRiIgcC1pZD0iNDYyOSI+PC9wYXRoPjxwYXRoIGQ9Ik00NzguOCA1NzIuN2gtMzAuMWMtNy42IDAtMTMuOCA2LjItMTMuOCAxMy44VjYwOWMwIDcuNiA2LjIgMTMuOCAxMy44IDEzLjhoMzAuMWM3LjYgMCAxMy44LTYuMiAxMy44LTEzLjh2LTIyLjZjMC03LjYtNi4yLTEzLjctMTMuOC0xMy43eiBtMy4xIDM2LjNjMCAxLjctMS40IDMuMS0zLjEgMy4xaC0zMC4xYy0xLjcgMC0zLjEtMS40LTMuMS0zLjF2LTIyLjZjMC0xLjcgMS40LTMuMSAzLjEtMy4xaDMwLjFjMS43IDAgMy4xIDEuNCAzLjEgMy4xVjYwOXoiIGZpbGw9IiIgcC1pZD0iNDYzMCI+PC9wYXRoPjxwYXRoIGQ9Ik00MDIuNSA2MTkuNmMtMC40IDAtMC44LTAuMS0xLjItMC4yLTEuNi0wLjYtMi4zLTIuNC0xLjctNCA1LjQtMTMuMiAyNy44LTE0LjIgMzYuMy0xNC4xdi01LjZjLTcuNyAwLjItMjYuOC0wLjUtMzgtMTAuOC0xLjMtMS4xLTEuMy0zLjEtMC4yLTQuNCAxLjEtMS4zIDMuMS0xLjMgNC40LTAuMiAxMiAxMSAzNi40IDkuMSAzNi43IDlsMy4zLTAuM3YxOC43bC0zLjMtMC4yYy03LjktMC42LTI5LjQgMC4yLTMzLjUgMTAuMS0wLjUgMS4zLTEuNiAyLTIuOCAyeiIgZmlsbD0iIiBwLWlkPSI0NjMxIj48L3BhdGg+PHBhdGggZD0iTTUyNC43IDYxNC40Yy0xLjEgMC0yLjEtMC42LTIuNS0xLjctMi40LTUuNS0xMS03LjItMTcuOC03LjYtNy45LTAuNS0xNS4yIDAuNS0xNS4yIDAuNWwtMy4yIDAuNXYtMTcuNWwyLjItMC41YzAuMiAwIDIzLjctNC45IDM5LTE0LjQgMS4zLTAuOCAzLTAuNCAzLjggMC45IDAuOCAxLjMgMC40IDMtMC45IDMuOC0xMy41IDguMy0zMi4yIDEzLjEtMzguNiAxNC42djYuN2MzLjEtMC4zIDgtMC42IDEzLjItMC4yIDEyLjEgMC44IDE5LjcgNC41IDIyLjUgMTAuOSAwLjYgMS40IDAgMy0xLjQgMy43LTAuMyAwLjItMC43IDAuMy0xLjEgMC4zeiIgZmlsbD0iIiBwLWlkPSI0NjMyIj48L3BhdGg+PC9zdmc+",

                };
            return nui.tpl(a, b)
        }).addTpl('zip', function (data) { // 下载模板
            console.log(data)
            var a = '<div class="model_chat__tpl {{d.me}}" type="zip"> \
                         <a class="model_chat__tpl-content" href="{{d.src}}" download="{{d.text}}">\
                                <div class="nui-inline nui-vat">\
                                    <p>{{d.text}}</p>\
                                    <small class="nui-fc1">{{d.desc}}</small>\
                                </div>\
                                <div class="nui-inline nui-ml">\
                                    <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTMyMzEyMTQ0NTk2IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQyNzMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTk0NCA5NDRIODBjLTI2LjQgMC00OC0xOC40LTQ4LTQwLjhWNjU2aDk2MHYyNDcuMmMwIDIyLjQtMjEuNiA0MC44LTQ4IDQwLjh6IiBmaWxsPSIjNUFDQzlCIiBwLWlkPSI0Mjc0Ij48L3BhdGg+PHBhdGggZD0iTTgwIDgwaDg2NGMyNi40IDAgNDggMTguNCA0OCA0MC44VjM2OEgzMlYxMjAuOGMwLTIyLjQgMjEuNi00MC44IDQ4LTQwLjh6IiBmaWxsPSIjNkNDQkZGIiBwLWlkPSI0Mjc1Ij48L3BhdGg+PHBhdGggZD0iTTMyIDM2OGg5NjB2Mjg4SDMyeiIgZmlsbD0iI0ZGRDc2NiIgcC1pZD0iNDI3NiI+PC9wYXRoPjxwYXRoIGQ9Ik0zNTIgODBoMzIwdjg2NEgzNTJ6IiBmaWxsPSIjRkY1NTYyIiBwLWlkPSI0Mjc3Ij48L3BhdGg+PHBhdGggZD0iTTQ0NCAxMjhoNjR2NDhoLTY0ek01MDggODBoNjR2NDhoLTY0ek01MDggMTc2aDY0djQ4aC02NHpNNDQ0IDIyNGg2NHY0OGgtNjR6TTUwOCAyNzJoNjR2NDhoLTY0ek00NDQgMzIwaDY0djQ4aC02NHpNNTA4IDM2OGg2NHY0OGgtNjR6TTQ0NCA0MTZoNjR2NDhoLTY0ek01MDggNDY0aDY0djQ4aC02NHpNNDQ0IDUxMmg2NHY0OGgtNjR6TTUwOCA1NjBoNjR2NDhoLTY0ek00NDQgNjA4aDY0djQ4aC02NHpNNTA4IDY1Nmg2NHY0OGgtNjR6TTQ0NCA3MDRoNjR2NDhoLTY0ek01MDggNzUyaDY0djQ4aC02NHpNNDQ0IDgwMGg2NHY0OGgtNjR6TTQ0NCA4OTZoNjR2NDhoLTY0ek01MDggODQ4aDY0djQ4aC02NHoiIGZpbGw9IiNGRkZGRkYiIHAtaWQ9IjQyNzgiPjwvcGF0aD48L3N2Zz4=">\
                                </div>\
                         </a> \
                     </div>',
                b = {
                    text: data.text,
                    me: (data.me ? "this" : ""),
                    src:data.src,
                    desc:data.desc,

                    time: nui.util.date.now(),
                    user:"小哈",
                    img: "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTMyMzEyNzI5NjAzIiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQ1OTUiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTgwNi45IDcxMi41Qzc1NyA4MDAuMyA3MDkgODM4LjEgNjk2IDg0Ny4ybDEuNiAyNi43YzUzLTQ3IDgxLjItOTMuNiA5NS43LTEyNS4yIDYuMy0xMy43IDEwLjYtMjUuOSAxMy42LTM2LjJ6IiBmaWxsPSIjRkZGRkZGIiBwLWlkPSI0NTk2Ij48L3BhdGg+PHBhdGggZD0iTTgyNS4zIDY3NS45Yy0xLjEtMy41LTQtNS02LjItNS4yLTEuMS0wLjEtNC45IDAtNy4xIDQuNC02MC44IDEyMC44LTEyNS40IDE2Mi42LTEyNi4zIDE2My4ybC0zLjMgMi4xIDMuNyA2MC43IDEwLTguNGM2Mi40LTUyLjIgOTQuNC0xMDUuMyAxMTAuMi0xNDAuNiA5LjgtMjEuOCAxNC42LTM5LjIgMTYuOS01MC4xIDEtNC42IDQuMS0yMC4xIDIuMS0yNi4xeiBtLTEyNy43IDE5OGwtMS42LTI2LjdjMTMtOS4yIDYxLTQ2LjkgMTEwLjktMTM0LjctMyAxMC4yLTcuMyAyMi41LTEzLjYgMzYuMS0xNC40IDMxLjctNDIuNiA3OC4zLTk1LjcgMTI1LjN6IiBmaWxsPSIiIHAtaWQ9IjQ1OTciPjwvcGF0aD48cGF0aCBkPSJNMjQ3LjYgNzYzLjJjLTEyLjUgMTYuNC0xNS4xIDU5LjQgOSAxMTUuMSAxNC40IDMzLjQgMzMuMSA1Ni43IDQ2LjcgNTguMSAzNS42IDMuNyA0NiAyIDQ4LjYgMS4yIDEuMy0xLjQgMy4xLTIuMiA0LjktMi4ybDk5LjQgMC4zYzAuMiAwIDIzLjYgMC4xIDczLjUgMC43IDM2LjggMC40IDk5LjMgMC4xIDEwNy42IDAgNC45LTEuNSAzMi41LTExLjMgNDQuOC00Mi41IDE1LjItMzguNSAzMC41LTExMi4xIDI2LjgtMTI5LTIuNC0xMS4zLTcuNi0xOS4yLTE1LjUtMjMuNC0xMy42LTcuMy0zMy4xLTIuNS0zOS41IDBsLTIuNC02LjItMzY3LjQgMTAuNi0wLjkgNi41Yy0xNi42LTIuNC0yOC4yIDEuMi0zNS42IDEwLjh6IiBmaWxsPSIjRkY5NjQwIiBwLWlkPSI0NTk4Ij48L3BhdGg+PHBhdGggZD0iTTcyMS44IDc2Mi4xYy0zLjMtMTUuMy0xMC43LTI2LjEtMjIuMS0zMi4yLTIxLjctMTEuNy00OS40LTEuMi01MC41LTAuN2wyLjQgNi4yIDIuNCA2LjJjNi40LTIuNSAyNS45LTcuMyAzOS41IDAgNy44IDQuMiAxMyAxMi4xIDE1LjUgMjMuNCAzLjcgMTctMTEuNiA5MC41LTI2LjggMTI5LTEyLjMgMzEuMi0zOS45IDQxLTQ0LjggNDIuNS04LjMgMC4xLTcwLjggMC40LTEwNy42IDAtNDkuOS0wLjYtNzMuMi0wLjctNzMuNS0wLjdsLTk5LjQtMC4zYy0xLjkgMC0zLjcgMC44LTQuOSAyLjItMi42IDAuNy0xMyAyLjQtNDguNi0xLjItMTMuNS0xLjQtMzIuMy0yNC43LTQ2LjctNTguMS0yNC01NS43LTIxLjUtOTguNy05LTExNS4xIDcuNC05LjcgMTkuMS0xMy4yIDM1LjYtMTAuOGwwLjktNi41IDAuOS02LjVjLTE0LjctMi4xLTM0LjktMS4xLTQ3LjkgMTUuOS0yMS4yIDI3LjctMTEuNiA4NC40IDcuMyAxMjguMyA2LjQgMTQuOCAyOS4zIDYzLjEgNTcuNCA2NiAxNi41IDEuNyAyOC4yIDIuMyAzNi42IDIuMyAxMy43IDAgMTguNy0xLjcgMjEuMS0zLjNsOTYuNSAwLjNjMC4yIDAgMjMuNSAwLjEgNzMuMyAwLjcgMzkuNCAwLjUgMTA4LjEgMCAxMDguOCAwIDAuNiAwIDEuMS0wLjEgMS42LTAuMiAxLjYtMC40IDM4LjctMTAuNiA1NC41LTUwLjYgMTMuOS0zNS4yIDMyLjMtMTE0LjUgMjcuNS0xMzYuOHoiIGZpbGw9IiIgcC1pZD0iNDU5OSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMTIuMyA5NDguMmMtMi44IDAtNS4yLTEuNy02LjItNC4zLTMwLjMtODIuMi0zOS0xNzAuMS0yNS45LTI2MS4yIDEyLjMtODUuNyAzOS41LTE0MC45IDQyLjYtMTQ2LjkgMTMuOS0yNy4yIDg4LjEtMzEuMiAxMzEuMi0zMS4yIDUxLjIgMCAxMTMuOCA2LjIgMTM0LjEgMTguMSAzMS45IDE4LjYgNTUuNSA1NC45IDY4LjMgMTA0LjkgMjUuMSA5Ny43IDYgMjM0LjgtNDQuMyAzMTguOS0xLjIgMi0zLjMgMy4yLTUuNyAzLjIgMCAwLjEtMjk0LjEtMS41LTI5NC4xLTEuNXoiIGZpbGw9IiNGRjk2NDAiIHAtaWQ9IjQ2MDAiPjwvcGF0aD48cGF0aCBkPSJNNDU0IDUxMS4yYzU2LjIgMCAxMTMuNiA3LjIgMTMwLjggMTcuMiAxMDIgNTkuNiA5My4yIDI5NS4xIDIxLjYgNDE0LjdsLTI5NC4xLTEuNWMtNzAtMTkwLjEtMy43LTM2My41IDE2LjMtNDAyLjggMTAuMy0xOS45IDY3LjItMjcuNiAxMjUuNC0yNy42bTAtMTMuMmMtMzIuMiAwLTYxIDIuMy04My4yIDYuNi0yOS41IDUuNy00Ny4xIDE1LTUzLjkgMjguMy0zLjMgNi41LTEyLjEgMjQuOS0yMS43IDU0LjctOS43IDMwLjItMTYuOSA2MS45LTIxLjYgOTQuMi01LjkgNDEuMy03LjQgODIuOC00LjMgMTIzLjIgMy43IDQ4LjYgMTQgOTYuMSAzMC42IDE0MS4yIDEuOSA1LjIgNi44IDguNiAxMi4zIDguNmwyOTQuMSAxLjVoMC4xYzQuNiAwIDguOS0yLjQgMTEuMy02LjQgNTEuMS04NS40IDcwLjUtMjI0LjYgNDUuMS0zMjMuOS02LjMtMjQuNi0xNS4yLTQ2LjEtMjYuNC02NC0xMi4zLTE5LjYtMjcuNC0zNC43LTQ0LjktNDUtMTAtNS45LTI4LjgtMTAuNi01NS44LTE0LjEtMjQuNi0zLjEtNTMuNi00LjktODEuNy00Ljl6IiBmaWxsPSIiIHAtaWQ9IjQ2MDEiPjwvcGF0aD48cGF0aCBkPSJNNjAyLjIgOTQzLjJsLTI2NS45LTEuNGMzMS41LTIxOC4zIDQ5LjktMjc3LjMgMTQ0LjUtMjc1LjMgMTA1IDIuMiAxMjAgMTkxLjIgMTIxLjQgMjc2Ljd6IiBmaWxsPSIjRkZGRkZGIiBwLWlkPSI0NjAyIj48L3BhdGg+PHBhdGggZD0iTTM3My45IDkxMS4yaC0wLjJjLTE5LjMgMC4xLTMzLjYgMTIuNi00MCAyMy4zLTMuNiA2LjEtMy44IDEwLjEtMy41IDExLjEgMy4yIDIgMTguNiA0LjcgNDMuOSA0LjdoMC4xYzI0LjIgMCAzOS43LTIuNSA0My42LTQuNCAwLjEtMS43LTAuOS02LjgtNS45LTEzLjctNy4zLTEwLjItMjEuMS0yMS0zOC0yMXoiIGZpbGw9IiNGRkZGRkYiIHAtaWQ9IjQ2MDMiPjwvcGF0aD48cGF0aCBkPSJNMzczLjkgODk4aC0wLjNjLTE5LjkgMC4xLTM2LjkgMTAuNy00NyAyMy42LTYuMi0xMS4yLTE5LTIzLjctMzUuOC0yMy42LTE3LjIgMC4xLTMwLjggMTIuOS0zNi44IDI1LjUtNCA4LjYtNC4xIDE2LjEtMC4zIDIwLjcgNS4zIDYuNSAyNC4yIDcuNiAzNi44IDcuNiAyLjcgMCA1LjEtMC4xIDctMC4xIDkuMy0wLjMgMTUuNy0xLjEgMjAuMy0yLjEgMC42IDIgMS42IDMuNyAzIDUuMSA3LjMgNy42IDM1LjkgOC43IDUzIDguNyA1LjMgMCA5LjUtMC4xIDExLjYtMC4yIDM2LjItMS4yIDQwLjktNi44IDQyLjctOC45IDQtNC44IDMuOS0xMi40LTAuMy0yMS40LTguMy0xNy4zLTI5LjQtMzQuOS01My45LTM0Ljl6IG00My45IDQ3LjljLTMuOCAxLjktMTkuNCA0LjQtNDMuNiA0LjRoLTAuMWMtMjUuMyAwLTQwLjYtMi43LTQzLjktNC43LTAuMy0xLTAuMS01LjEgMy41LTExLjEgNi40LTEwLjcgMjAuNy0yMy4yIDQwLTIzLjNoMC4yYzE2LjkgMCAzMC43IDEwLjggMzggMjEgNSA2LjkgNiAxMiA1LjkgMTMuN3ogbS0xMjYuNy03LjJjLTE0LjQgMC0yNC0xLjYtMjctMi45IDAtMS44IDEtNi41IDUuMi0xMi4yIDIuNy0zLjcgMTAuMy0xMi4zIDIxLjYtMTIuNGgwLjFjOS43IDAgMTYuOCA3IDIwLjIgMTEuMiA0LjcgNS44IDYuNSAxMS4yIDYuNyAxMy42LTMuNCAxLjItMTMgMi43LTI2LjggMi43eiIgZmlsbD0iIiBwLWlkPSI0NjA0Ij48L3BhdGg+PHBhdGggZD0iTTMxMS4yIDkyMi40Yy0zLjQtNC4yLTEwLjUtMTEuMi0yMC4yLTExLjJoLTAuMWMtMTEuMyAwLjEtMTguOSA4LjctMjEuNiAxMi40LTQuMiA1LjctNS4yIDEwLjQtNS4yIDEyLjIgMyAxLjMgMTIuNiAyLjkgMjcgMi45IDEzLjggMCAyMy4zLTEuNSAyNi43LTIuNy0wLjEtMi40LTEuOS03LjgtNi42LTEzLjZ6TTY3OS4yIDkyOC4yQzY3NS45IDkyNCA2NjguNyA5MTcgNjU5IDkxN2gtMC4xYy0xMS4zIDAuMS0xOC45IDguNy0yMS42IDEyLjQtMS42IDIuMi0yLjggNC4zLTMuNiA2LjEgMC41IDIuNCAwLjggNC43IDAuOSA2LjggNC40IDEuMSAxMi45IDIuMSAyNC41IDIuMSAxMy44IDAgMjMuMy0xLjUgMjYuNy0yLjctMC4xLTIuMy0xLjgtNy43LTYuNi0xMy41eiIgZmlsbD0iI0ZGRkZGRiIgcC1pZD0iNDYwNSI+PC9wYXRoPjxwYXRoIGQ9Ik02OTUuMiA5MjguNWMtNS45LTExLjQtMTguOS0yNC43LTM2LjItMjQuN2gtMC4yYy0xMy4yIDAuMS0yNC4zIDcuNi0zMS40IDE2LjlsLTAuMS0wLjFjLTUuNy04LjQtMTcuMS0xOC41LTM4LjktMTguNS0xMi40IDAtMjMuNCAzLTMyLjYgOC45LTcuNCA0LjgtMTMuNCAxMS40LTE3IDE4LjctNCA4LjItNC4zIDE1LjgtMC43IDIwLjQgMS43IDIuMiA0LjggNi4yIDM3LjIgNy45IDYuOCAwLjQgMTMuNyAwLjUgMjAuMSAwLjUgMTAuMiAwIDE5LjMtMC41IDI1LjQtMS4zIDMuMS0wLjQgNi40LTEuMSA4LjktMi41IDguMiAyLjUgMTkuOSAzLjEgMjguNyAzLjEgMi43IDAgNS4xLTAuMSA3LTAuMSAyNi40LTAuOSAzMC4xLTYgMzEuNS03LjkgMy41LTQuOCAyLjgtMTIuNS0xLjctMjEuM3ogbS0xMDkuOCAxNi42Yy0xOS40LTAuNS0zMi4xLTIuMy0zNi41LTMuNiAwLjItMi4xIDEuNC02LjQgNS4xLTExLjMgNC4zLTUuNiAxNC42LTE1IDM0LjQtMTUgMTIuMiAwIDIxLjMgMy45IDI3LjEgMTEuNiA0LjggNi4zIDUuOSAxMy4zIDUuOSAxNi45LTQuOSAxLTE3LjQgMS45LTM2IDEuNHogbTczLjgtMC42Yy0xMS42IDAtMjAuMS0xLTI0LjUtMi4xLTAuMS0yLjEtMC40LTQuNC0wLjktNi44IDAuOC0xLjggMS45LTMuOSAzLjYtNi4xIDIuNy0zLjcgMTAuMy0xMi4zIDIxLjYtMTIuNGgwLjFjOS43IDAgMTYuOCA3IDIwLjIgMTEuMiA0LjcgNS44IDYuNSAxMS4yIDYuNyAxMy42LTMuNSAxLjEtMTMuMSAyLjYtMjYuOCAyLjZ6IiBmaWxsPSIiIHAtaWQ9IjQ2MDYiPjwvcGF0aD48cGF0aCBkPSJNNjIxLjUgOTQzLjdjMC0zLjUtMS4yLTEwLjUtNS45LTE2LjktNS44LTcuNy0xNC45LTExLjYtMjcuMS0xMS42LTE5LjggMC0zMC4xIDkuNC0zNC40IDE1LTMuOCA0LjktNSA5LjItNS4xIDExLjMgNC40IDEuMyAxNy4xIDMuMSAzNi41IDMuNiAxOC41IDAuNSAzMS0wLjQgMzYtMS40eiIgZmlsbD0iI0ZGRkZGRiIgcC1pZD0iNDYwNyI+PC9wYXRoPjxwYXRoIGQ9Ik0yNDUuNyA4Ni42Yy0xLjgtMC4yLTMuNSAwLjktNC4yIDIuNy05LjggMjUuMy0zOS4xIDExMi40LTExLjMgMTc5LjNMMzU2IDE1OS44bC01LjYgMy42Yy0xNi44LTI2LjUtNTIuOS03MS43LTEwNC43LTc2Ljh6TTIyNC45IDI3My4xeiIgZmlsbD0iI0ZGOTY0MCIgcC1pZD0iNDYwOCI+PC9wYXRoPjxwYXRoIGQ9Ik0yNDcgNzMuNWMtNy43LTAuOC0xNSAzLjgtMTcuOCAxMUMyMTguOSAxMTEuMiAxODcuNyAyMDQgMjE4LjkgMjc1LjdsNi4xLTIuNiA2LjEtMi42Yy0wLjMtMC42LTAuNS0xLjMtMC44LTEuOS0yNy44LTY2LjkgMS42LTE1NCAxMS4zLTE3OS4zIDAuNy0xLjcgMi40LTIuOCA0LjItMi43IDUxLjggNS4xIDg3LjkgNTAuMyAxMDQuOCA3Ni44bDUuNi0zLjYgNS42LTMuNkMzNDMuNCAxMjcuOCAzMDQuMyA3OS4xIDI0NyA3My41eiIgZmlsbD0iIzAyMDIwMiIgcC1pZD0iNDYwOSI+PC9wYXRoPjxwYXRoIGQ9Ik02NzkuNSA4OC4xYy00LjktMTIuNy05LjUtMTYuOS0xMS40LTE3LjMtNC43LTEuMS0xOS4xLTEuMS01MS40IDIxLjctMjMuNCAxNi42LTQ5LjQgNDAuNi03My4xIDY3LjdsMTMzLjIgODQuOS01LjQtMy44YzI2LjctMzguNyAyMi44LTExNS4zIDguMS0xNTMuMnpNNTM3LjkgMTU2Ljd6IiBmaWxsPSIjRkY5NjQwIiBwLWlkPSI0NjEwIj48L3BhdGg+PHBhdGggZD0iTTY5MS44IDgzLjRDNjg2IDY4LjQgNjc5IDU5LjggNjcxIDU4Yy0xNy43LTQuMS00My41IDEwLjctNjIgMjMuOC0yNC41IDE3LjQtNTEuNSA0Mi40LTc2LjEgNzAuNWw1IDQuMyA1IDQuM2MwLjItMC4zIDAuNC0wLjUgMC43LTAuOEM1NjcuMyAxMzMgNTkzLjIgMTA5IDYxNi43IDkyLjRjMzIuMy0yMi45IDQ2LjctMjIuOCA1MS40LTIxLjcgMS45IDAuNCA2LjUgNC42IDExLjQgMTcuMyAxNC43IDM3LjggMTguNiAxMTQuNC04LjIgMTUzLjJsNS40IDMuOCA1LjQgMy44YzMwLjUtNDMuOSAyNS4xLTEyNS43IDkuNy0xNjUuNHoiIGZpbGw9IiMwMjAyMDIiIHAtaWQ9IjQ2MTEiPjwvcGF0aD48cGF0aCBkPSJNMjY2LjQgMjE4LjlzLTIxLjEtNTItMTIuNy03OS40IDUyLjggNTkuNyA1Mi44IDU5LjdsLTQwLjEgMTkuN3pNNjA2LjQgMTcyLjhjLTEtMjkuMyA1Ni42LTcxLjUgNjEuMS02OC40IDguOCA1LjktNC40IDU0LjUtMjQuMyA5OS40IDggOC4yLTM2LjgtMzEtMzYuOC0zMXoiIGZpbGw9IiNGRkZGRkYiIHAtaWQ9IjQ2MTIiPjwvcGF0aD48cGF0aCBkPSJNNDY1LjEgNTg4LjFjLTY4LjggMC0xMzYuNC0xMS42LTE4NS41LTMxLjctMzAuNy0xMi42LTU0LjctMjguNS03MS41LTQ3LjQtMTkuNC0yMS43LTI5LjItNDcuMy0yOS4yLTc2LjEgMC02MC44IDI4LjEtMTMzLjQgNzMuMi0xODkuNyA1Mi02NC43IDExOS0xMDAuMyAxODguNi0xMDAuMyA0NCAwIDgxLjUgNS4zIDExNC42IDE2LjMgMzAuOCAxMC4yIDU3LjIgMjUuMSA4MC42IDQ1LjYgNDMgMzcuNSA3MC43IDg4LjYgOTkgMTUzLjcgMjEuNyA0OS44IDIwLjUgOTMuOS0zLjUgMTMxLTQ2IDcxLjEtMTY0LjUgOTcuNS0yNjAuMSA5OC41LTIgMC4xLTQuMSAwLjEtNi4yIDAuMXoiIGZpbGw9IiNGRjk2NDAiIHAtaWQ9IjQ2MTMiPjwvcGF0aD48cGF0aCBkPSJNNzQxLjEgMzU1LjhjLTE2LTM2LjctMjkuMy02My4yLTQzLjItODUuOS0xNy42LTI4LjctMzYuNC01MS43LTU3LjUtNzAuMS0yNC4xLTIxLTUxLjItMzYuNC04Mi45LTQ2LjgtMzMuOC0xMS4yLTcyLTE2LjYtMTE2LjctMTYuNi0zNy43IDAtNzQuNCA5LjktMTA5LjIgMjkuNi0zMS4yIDE3LjYtNTkuNiA0Mi4yLTg0LjYgNzMuMy0yMi44IDI4LjQtNDEuOCA2MS40LTU0LjkgOTUuNS0xMyAzMy44LTE5LjggNjcuOC0xOS44IDk4LjMgMCAzMC40IDEwLjQgNTcuNSAzMC44IDgwLjQgMTcuNSAxOS42IDQyLjQgMzYuMiA3NCA0OS4xIDI2LjkgMTEuMSA1OC40IDE5LjUgOTMuNyAyNSAzMC4yIDQuNyA2Mi44IDcuMiA5NC4zIDcuMmg2LjNjNTYuMi0wLjYgMTA5LjgtOS4yIDE1NC45LTI0LjcgMjQuNS04LjUgNDYuMS0xOC45IDY0LjItMzEuMSAxOS44LTEzLjMgMzUuNC0yOC43IDQ2LjUtNDUuOCAxMi4yLTE4LjggMTguOS0zOS43IDE5LjgtNjIuMSAxLjEtMjMuNy00LjMtNDguOS0xNS43LTc1LjN6TTQ3MS4zIDU4MS40aC02LjFjLTExNS4yIDAtMjc5LjYtMzMuOC0yNzkuNi0xNDguNkMxODUuNiAzMTUuOSAyOTIgMTQ5LjQgNDQwLjggMTQ5LjRjMTc3LjcgMCAyMzUuNCA5MC4xIDI4OC4yIDIxMS42IDY2IDE1MS43LTEwMSAyMTguOC0yNTcuNyAyMjAuNHoiIGZpbGw9IiIgcC1pZD0iNDYxNCI+PC9wYXRoPjxwYXRoIGQ9Ik03MjkuMyAzNjEuOGMtMTYuOC0xLjItMzYuNiAwLjItNTYuNSA3LjYtMjUgOS40LTQ2LjIgMzkuNC04Mi41IDUzLjYtNzQuMiAyOS0xMDkuNC0zNi4yLTEwNy42LTc0LjhDNDg0LjkgMzAwIDUyNi4yIDE5OSA1MTQuOCAxNTUuN2MtMjIuMS00LjEtNDYuNy02LjItNzQuMS02LjItMTUuNyAwLTMxIDEuOS00NS42IDUuMy0xNC40IDMwLjcgMTQuNCA5Ni45IDM4LjUgMTkxLjMgOS42IDM4LjYtMjIuNyA4NC42LTY2LjYgOTAuNy00Ny4zIDYuNi02NC44LTIxLjYtMTA3LTM5LjEtMjQuOS0xMC4zLTUwLjItMTAuMS03MC43LTUtMi41IDEzLjgtMy44IDI3LjMtMy44IDQwLjIgMCAxMTYuOSAxNzAuNCAxNDkuOCAyODUuOCAxNDguNiAzMC44LTAuMyA2Mi0zLjIgOTEuNy04LjdsNjUuOS0xNy44Yzg3LjItMzIuMyAxNDIuOC05NSAxMDAuNC0xOTMuMnoiIGZpbGw9IiNGRkZGRkYiIHAtaWQ9IjQ2MTUiPjwvcGF0aD48cGF0aCBkPSJNMzM0LjQgMzAzLjJoMjYuMmM0LjIgMCA3LjMtNCA2LjEtOC0yLTYuNy02LjgtMTUtMTguNi0xMy43LTExIDEuMi0xNi4zIDgtMTguOSAxMy42LTEuNyAzLjggMS4xIDguMSA1LjIgOC4xek01MzMuOCAzMDYuMmMtMi4yIDAuMS00LjEtMS42LTQtMy44IDAuMS0xNS40IDguMS0xNy40IDE4LTE3LjcgOC44LTAuMiAxNy4xIDYuNiAyMS4xIDE1LjcgMS4yIDIuNi0wLjggNS41LTMuNyA1LjQtMTEuNy0wLjYtMjUgMC0zMS40IDAuNHoiIGZpbGw9IiNGRkZGRkYiIHAtaWQ9IjQ2MTYiPjwvcGF0aD48cGF0aCBkPSJNMzQ4LjIgMzY3LjJtLTQxLjcgMGE0MS43IDQxLjcgMCAxIDAgODMuNCAwIDQxLjcgNDEuNyAwIDEgMC04My40IDBaIiBmaWxsPSIjRkZGRkZGIiBwLWlkPSI0NjE3Ij48L3BhdGg+PHBhdGggZD0iTTM0OC4yIDM2Ny4ybS0yNS43IDBhMjUuNyAyNS43IDAgMSAwIDUxLjQgMCAyNS43IDI1LjcgMCAxIDAtNTEuNCAwWiIgZmlsbD0iIiBwLWlkPSI0NjE4Ij48L3BhdGg+PHBhdGggZD0iTTM1OC44IDM2OS41bS0xMC42IDBhMTAuNiAxMC42IDAgMSAwIDIxLjIgMCAxMC42IDEwLjYgMCAxIDAtMjEuMiAwWiIgZmlsbD0iI0ZGRkZGRiIgcC1pZD0iNDYxOSI+PC9wYXRoPjxwYXRoIGQ9Ik01NTkuNCAzNjcuMm0tNDEuNyAwYTQxLjcgNDEuNyAwIDEgMCA4My40IDAgNDEuNyA0MS43IDAgMSAwLTgzLjQgMFoiIGZpbGw9IiNGRkZGRkYiIHAtaWQ9IjQ2MjAiPjwvcGF0aD48cGF0aCBkPSJNNTU5LjQgMzY3LjJtLTI1LjcgMGEyNS43IDI1LjcgMCAxIDAgNTEuNCAwIDI1LjcgMjUuNyAwIDEgMC01MS40IDBaIiBmaWxsPSIiIHAtaWQ9IjQ2MjEiPjwvcGF0aD48cGF0aCBkPSJNNTU1LjEgMzcxLjltLTEwLjYgMGExMC42IDEwLjYgMCAxIDAgMjEuMiAwIDEwLjYgMTAuNiAwIDEgMC0yMS4yIDBaIiBmaWxsPSIjRkZGRkZGIiBwLWlkPSI0NjIyIj48L3BhdGg+PHBhdGggZD0iTTU0MC40IDQ2Ny42Yy0xLjItMS4zLTMuMy0xLjQtNC43LTAuMi0xMi45IDExLjgtMjUgMTYuNC0zNS44IDEzLjYtMTYtNC4xLTI2LjItMjMtMzAuNi0zMyA4LjEtMy4zIDIxLjYtMTUuOCAxNS44LTI1LTYuNi0xMC42LTQ0LjMtMTAuOC00NC4zIDQuNiAwIDUuNiA4LjcgMTcgMTkuNCAyMC4zLTAuMiAwLjYtMC42IDEuNi0xIDIuN2gtMC4zcy0xIDIuOC0yLjcgNi45Yy0xLjQgMy0zLjEgNi4zLTUuMSA5LjctNS4zIDguOS0xMy42IDE5LjctMjMuNiAyMC45LTkuNCAxLjEtMTkuMy02LjUtMjkuNS0yMi42LTEtMS41LTMtMi00LjYtMS0xLjUgMS0yIDMtMSA0LjYgMTAuOCAxNy4xIDIxLjkgMjUuOCAzMy4yIDI1LjggMC45IDAgMS43LTAuMSAyLjYtMC4yIDIuOS0wLjMgNS42LTEuMiA4LjItMi42IDIuMSAxNS4xIDkuNiA1Mi44IDMwLjggNTQuNCAyMS41IDEuNiAzNC4yLTQxLjggMzguMi01OC4yaDAuOWMxMC44IDAgMjIuMi01LjQgMzMuOS0xNi4yIDEuMy0xLjEgMS40LTMuMiAwLjItNC41eiIgZmlsbD0iIiBwLWlkPSI0NjIzIj48L3BhdGg+PHBhdGggZD0iTTQ0OC4xIDQyNi4xYTUuMiA1IDAgMSAwIDEwLjQgMCA1LjIgNSAwIDEgMC0xMC40IDBaIiBmaWxsPSIjRkZGRkZGIiBwLWlkPSI0NjI0Ij48L3BhdGg+PHBhdGggZD0iTTQxNS40IDkwNGMtMi4yLTcuOC01LjMtMTguMy04LjQtMzEtNi44LTI3LjktMTMuOC02Ni4yLTEzLTEwNy45IDAuMi0xMC45IDEtMjIgMi40LTMzLjMgMC41LTMuNi0yLjEtNi45LTUuNy03LjRzLTYuOSAyLjEtNy40IDUuN2MtOS45IDc2LjcgMTAuNiAxNDcuNCAxOS4zIDE3Ny42IDEuNiA1LjQgMy4yIDExIDMuMyAxMi41IDAuMSAzLjYgMyA2LjQgNi42IDYuNCAzLjYgMCA2LjYtMyA2LjYtNi42IDAuMS0yLjYtMC45LTYuMi0zLjctMTZ6IiBmaWxsPSIiIHAtaWQ9IjQ2MjUiPjwvcGF0aD48cGF0aCBkPSJNNTU2LjcgNzI2LjdjLTAuNy0zLjYtNC4yLTUuOS03LjctNS4yLTMuNiAwLjctNS45IDQuMi01LjIgNy43IDIuNyAxMy44IDQuMyAyOC4zIDUuMiA0MyAyLjIgMzQuOCAwLjEgNzAuNC0yLjggOTguOS0zLjQgMzMuOS04IDU3LjgtOC4xIDU4LjMtMC43IDMuNiAxLjYgNyA1LjIgNy43IDAuNCAwLjEgMC45IDAuMSAxLjMgMC4xIDMuMSAwIDUuOS0yLjIgNi41LTUuMyAwLjktNC42IDIyLjYtMTE3LjMgNS42LTIwNS4yeiIgZmlsbD0iIiBwLWlkPSI0NjI2Ij48L3BhdGg+PHBhdGggZD0iTTU0NC41IDU2MS4zTDQ5MyA1ODQuMWMtMS41IDAuNy0zLjIgMS00LjggMWgtNDljLTEuNyAwLTMuMy0wLjQtNC45LTFMMzgzIDU2MS4zYy04LjkgMS4xLTE1LjggOC43LTE1LjggMTcuOXYzNy4xYzAgOS4yIDYuOSAxNi44IDE1LjggMTcuOWw1MS4zLTIyLjhjMS41LTAuNyAzLjItMSA0LjktMWgwLjFsNTAuNSAwLjVjMS42IDAgMy4zIDAuNCA0LjggMWw0OS45IDIyLjNjOC45LTEuMSAxNS44LTguNyAxNS44LTE3Ljl2LTM3LjFjMC05LjItNi45LTE2LjgtMTUuOC0xNy45eiIgZmlsbD0iI0ZGQzIzOSIgcC1pZD0iNDYyNyI+PC9wYXRoPjxwYXRoIGQ9Ik01MzUuNyA1NTIuMWwtNDcuNSAyMWgtNDlsLTQ3LjQtMjFjLTYuNi0yLjktMTQuMy0yLjgtMjAuNyAwLjYtOS41IDUuMS0xNS45IDE1LTE1LjkgMjYuNXYzNy4xYzAgMTEuNCA2LjUgMjEuNCAxNS45IDI2LjUgNi40IDMuNCAxNC4xIDMuNSAyMC43IDAuNmw0Ny40LTIxIDUwLjUgMC41IDQ1LjkgMjAuNWM2LjYgMyAxNC4zIDIuOSAyMC44LTAuNiA5LjQtNS4xIDE1LjktMTUgMTUuOS0yNi41di0zNy4xYzAtMTEuNC02LjUtMjEuNC0xNS45LTI2LjUtNi40LTMuNC0xNC4xLTMuNS0yMC43LTAuNnogbTI0LjYgNjQuMmMwIDEuOS0wLjMgMy44LTAuOSA1LjYtMi45IDguOS0xMy4xIDEzLjEtMjEuNiA5LjNsLTQzLjEtMTkuM2MtMS41LTAuNy0zLjEtMS00LjgtMWwtNTAuNS0wLjVoLTAuNGMtMS42IDAtMy4yIDAuNC00LjcgMS4xbC00NC42IDE5LjhjLTguMiAzLjYtMTgtMC4xLTIxLjItOC40LTAuOC0yLTEuMi00LjItMS4yLTYuNXYtMzcuMWMwLTIuMyAwLjQtNC41IDEuMi02LjUgMy4yLTguMyAxMy0xMiAyMS4yLTguNGw0NC43IDE5LjhjMS41IDAuNyAzLjIgMSA0LjkgMWg0OWMxLjcgMCAzLjMtMC40IDQuOC0xbDQ0LjgtMTkuOGM4LjItMy42IDE4IDAuMSAyMS4yIDguNCAwLjggMiAxLjIgNC4yIDEuMiA2LjV2Mzd6IiBmaWxsPSIiIHAtaWQ9IjQ2MjgiPjwvcGF0aD48cGF0aCBkPSJNNDc4LjggNTgzLjRoLTMwLjFjLTEuNyAwLTMuMSAxLjQtMy4xIDMuMVY2MDljMCAxLjcgMS40IDMuMSAzLjEgMy4xaDMwLjFjMS43IDAgMy4xLTEuNCAzLjEtMy4xdi0yMi42YzAtMS42LTEuNC0zLTMuMS0zeiIgZmlsbD0iI0ZGRkZGRiIgcC1pZD0iNDYyOSI+PC9wYXRoPjxwYXRoIGQ9Ik00NzguOCA1NzIuN2gtMzAuMWMtNy42IDAtMTMuOCA2LjItMTMuOCAxMy44VjYwOWMwIDcuNiA2LjIgMTMuOCAxMy44IDEzLjhoMzAuMWM3LjYgMCAxMy44LTYuMiAxMy44LTEzLjh2LTIyLjZjMC03LjYtNi4yLTEzLjctMTMuOC0xMy43eiBtMy4xIDM2LjNjMCAxLjctMS40IDMuMS0zLjEgMy4xaC0zMC4xYy0xLjcgMC0zLjEtMS40LTMuMS0zLjF2LTIyLjZjMC0xLjcgMS40LTMuMSAzLjEtMy4xaDMwLjFjMS43IDAgMy4xIDEuNCAzLjEgMy4xVjYwOXoiIGZpbGw9IiIgcC1pZD0iNDYzMCI+PC9wYXRoPjxwYXRoIGQ9Ik00MDIuNSA2MTkuNmMtMC40IDAtMC44LTAuMS0xLjItMC4yLTEuNi0wLjYtMi4zLTIuNC0xLjctNCA1LjQtMTMuMiAyNy44LTE0LjIgMzYuMy0xNC4xdi01LjZjLTcuNyAwLjItMjYuOC0wLjUtMzgtMTAuOC0xLjMtMS4xLTEuMy0zLjEtMC4yLTQuNCAxLjEtMS4zIDMuMS0xLjMgNC40LTAuMiAxMiAxMSAzNi40IDkuMSAzNi43IDlsMy4zLTAuM3YxOC43bC0zLjMtMC4yYy03LjktMC42LTI5LjQgMC4yLTMzLjUgMTAuMS0wLjUgMS4zLTEuNiAyLTIuOCAyeiIgZmlsbD0iIiBwLWlkPSI0NjMxIj48L3BhdGg+PHBhdGggZD0iTTUyNC43IDYxNC40Yy0xLjEgMC0yLjEtMC42LTIuNS0xLjctMi40LTUuNS0xMS03LjItMTcuOC03LjYtNy45LTAuNS0xNS4yIDAuNS0xNS4yIDAuNWwtMy4yIDAuNXYtMTcuNWwyLjItMC41YzAuMiAwIDIzLjctNC45IDM5LTE0LjQgMS4zLTAuOCAzLTAuNCAzLjggMC45IDAuOCAxLjMgMC40IDMtMC45IDMuOC0xMy41IDguMy0zMi4yIDEzLjEtMzguNiAxNC42djYuN2MzLjEtMC4zIDgtMC42IDEzLjItMC4yIDEyLjEgMC44IDE5LjcgNC41IDIyLjUgMTAuOSAwLjYgMS40IDAgMy0xLjQgMy43LTAuMyAwLjItMC43IDAuMy0xLjEgMC4zeiIgZmlsbD0iIiBwLWlkPSI0NjMyIj48L3BhdGg+PC9zdmc+",

                };
            return nui.tpl(a, b)
        });
        // 添加过滤能力
        a.addFilter('下载',function (value) {
            a.send({
                type: 'zip',
                text: 'nui.zip',
                desc: nui.version+'(47.7KB)',
                src:'resource/download/' + nui.version + '/nui.zip',
                me: false
            })
        });
        form.on("submit", function () {
            var input = form.find('input');
            a.filter(input.val());
            input.val('');
            return false
        })
    };
}();