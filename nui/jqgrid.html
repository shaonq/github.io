<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shaonq/dist/index.css">
    <script src="https://cdn.jsdelivr.net/npm/shaonq/dist/index.js"></script>
    <style>
        body {
            font-family: PingFang SC, Hiragino Sans GB, Microsoft YaHei, Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            font-size: 14px;
            line-height: 1.428571428;
            color: #212121;
            background-color: #fff;
        }

        code,
        pre {
            font-family: monaco, menlo, consolas, courier new, courier, monospace;
            white-space: pre-wrap;
            word-wrap: break-word
        }

        pre {
            margin: 1.4em 0;
            padding: 0.88889em;
            font-size: .9em !important;
            word-break: normal;
            word-wrap: normal;
            white-space: pre-wrap;
            overflow: auto;
            -webkit-overflow-scrolling: touch;
            background: #f6f6f6 !important;
            border-radius: 4px;
        }

        .layout-doc {
            background: #f5f5f5;
            min-height: 100vh;
        }

        .layout-warp {
            width: 1000px;
            margin: 0 auto;
        }

        .layout-body {
            position: relative;
            padding-bottom: 60px;
            margin: 10px auto 0;
        }

        .layout-side {
            position: relative;
            width: 240px;
            margin-left: 10px;
        }

        .layout-hd {
            position: fixed;
            width: 100%;
            z-index: 999;
            top: 0;
        }

        .layout-hd__fill,
        .layout-hd {
            height: 60px;
            background-color: #fff;
            -webkit-box-shadow: 0 0 1px 0px rgba(22, 22, 22, 0.2), 0 0 6px 2px rgba(22, 22, 22, 0.05);
            box-shadow: 0 0 1px 0px rgba(22, 22, 22, 0.2), 0 0 6px 2px rgba(22, 22, 22, 0.05);
        }

        .layout-hd__link {
            text-decoration: none;
            color: #888;
            display: inline-block;
            padding: 0 22px;
            height: 60px;
            line-height: 60px;
            font-size: 16px;
        }

        .layout-hd__link.is-active {
            color: #444;
            font-weight: 600;
        }

        .layout-body .u-quill-body {
            padding: 16px 20px;
        }

        .layout-body .u-quill-body h1,
        .layout-body .u-quill-body h2 {
            margin-top: 2em;
            margin-block: 1em;
        }

        .layout-side .u-card__bd {
            color: #212121;
        }

        @media (max-width: 750px) {
            .layout-warp {
                width: 100%;
            }

            .layout-warp>div {
                -ms-flex-wrap: wrap;
                flex-wrap: wrap;
            }

            .layout-warp>div>div {
                max-width: 100%;
                -webkit-box-flex: 0;
                -ms-flex: 0 0 100%;
                flex: 0 0 100%;
            }

            .layout-mobile-hide {
                display: none !important;
            }

            .layout-side {
                margin-left: 0;
                margin-top: 16px;
            }
        }

        .layout-side a {
            color: #212121;
        }
    </style>
</head>

<body>
    <div id="root" class="layout-doc">
        <header class="layout-mobile-hide">
            <div class="layout-hd">
                <div class="layout-warp">
                    <div class="u-flex u-flex--start"><a href="./"><img
                                src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAABLBAMAAADzDkPuAAAAMFBMVEUAAAAYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBh6VdmPAAAAD3RSTlMAd7tE7hHdIplmM6qIVcziHAk6AAAEKUlEQVRo3u2WPa8SQRiFB/wAvaCLxqhRg65a+JG4amG5akKMJgYS0cZCGgurJcZe9A+wlYkVaG2C2lhYQG2j/wAba7Kw8iHCOjPvO/tKNuuusbGYk1z27uyZc56bGWYv09LS0tLS0tLS0tLS0tLS0voHvX4L1/ddedltdhkoexIGzoiPczC2dRZGwDCA6y6Ta4AjGMp9INOCARdu35wKrn+K5Mc2C+3x5CWzhof5oIW2vdOauGyTz0eGHCt/hREwHIfrtlKpVD6OI6D2nKGCh/Jiw/z7wbvLR4LTkfyYZoj35V19Ag+3B1eVLTDIZlfE546qFQWk32mk6oeA3m+AOecD/3wMjZQf3yzVl3efcaWHH1fK5vwg25b8LCxZKsDisv+FgaZBlwCzP7FxMz++WerpTKy330Tcl0tlOzEmWy4Qz3s30gFuLTpvGWhcPk6Ava9y7E4kP65ZKiP2SxZvdvh3qzW0nXYMspXFBrlgpAN8UKl/V4D3PAIsu0yJ8hOacWMNH+I3cs7ahuq0K2jDPVqc1tIBdlp5TwHCHkdAi5EoP74ZJBbBwT2zZ8WGX5Vta062zJixnSuWDnD0pbhWgKzfigPE/IRm3rsQ9aCnDbZzpmy5qkU2x+V/STrA3JTbmwrwySQGkPLjm6Fwyur4iH0esMLPsLPcIJvd2FFtpgLkCTIIATPTOEDMT2iWe7+Ncczpst3T0LbHI1vWy8P8ZMCd/JToNRAQDvkoIOX/oRn19LZfw25hcSxl2x00Q1vOH1ZSAtoNDjkJAXuz3wHvXL58+cpmfnwzKu8v1G8enijY9vk42dpVNyVg24DDCwEL/IcA7SAIvEh+bDMeNFgFe/FpJbTVF2Srj1k6QLlXc7goY3HvEiAFUH5SM8dVL6bO2DTNC4vQVvRroa2wSgm4KzC5AlcBsmElBhDyE5o3Nm//WalUOrSkzgut0JaZpATcmpe42m9DwOw8BhDyE5sJUKwLLhHankz+GhAXqj4LAfmpFgWk/MRmAsSd3TZCW2b914C41fMeAMK/kVFAyk9sJkA8G+wGtY32RwBza7gOB2LUgCktmuJYcG4Q4B4PADsD2M2LjfzEZgLsNfCgJZt9MwLIRha+ceE9KdR31ZTwuHW6IeA2v2PQ4sPqU35iMwF+NgDlJ9nyfhTQviWfyO6iLzh2rWmhCx6GDgAQzlCZXFjLnTYyNvITmwmw2sTvyu+HWhRwl3+Ak42+Qfe1Gsv1bxHg9hm+n64SYD0wwPyIJ76Ys438pGYCLI7Vy/kLfQc6UUB2KTh/xOFgcpJz/eho2aTOIX53sisC3IWAmer10infBTPlxzejLuK/KfvVvSXCXMhUg9sOslCvnpvHOB8Q7jOfwXw+BSdT2mG4KVloPmK+Ewwb+fHNWlpaWlpaWlpaWlpaWlpa/7V+AZ+C6JOWCa6FAAAAAElFTkSuQmCC"
                                width="256" draggable="false"></a>
                        <div class="u-flex__item layout-mobile-hide"></div>
                        <div><a href="javascript:;" class="layout-hd__link">v4.6.0</a>
                        </div>
                    </div>
                </div>
        </header>
        <div class="layout-body" style="padding-top: 60px;">
            <div class="layout-warp">
                <div class="u-flex u-flex--start">
                    <div class="u-flex__item is-clamp">
                        <div class="u-card">
                            <div class="u-quill-body">
                                <h2>Demo</h2>
                                <div style="min-height:280px">
                                    <table id="table"></table>
                                </div>
                                <h2>Api</h2>
<pre><code class="language-js">
/** 
 *   名词解释
 *   rowid - 数据行的id
 *   cellname - 单元格名称（colModel定义的name）
 *   value - 单元格内容
 *   iRow - 单元格所在行的行号（注意不要和rowid搞混），iRow从1开始
 *   iCol - 单元格处于行中的列号，iCol从0开始
 */                                               
url	String	""	是	获取数据的地址
// mtype	String	"GET"	否	请求的类型一般有GET和POST
// datatype	String	"json"	否	数据传递的类型一般有xml和json
// page	Number	1	 	当前页数
// rowNum	Number	20	 	每页行数
// records	Number	0	 	 
// pager	String或Object	 	否	工具条所显示的容器
// pgbuttons	Boolean	true	否	是否显示上一页下一页的按钮
// pginput	Boolean	true	否	是否显示录入跳转页数的文本框
height	Number	150	 	当值为100%时会随数据的数量而自动调整高度
autowidth	true 自动宽度
colModel	Array	[]	是	定义数据列
// rowList	Array	[]	否	每页行数下拉选项 未设置为不显示该下拉选项
colNames	Array	[]	是	显示的列名 ，需要和colModel的列数匹配
// sortorder	String	"asc"	否	排序字段的排序类型为asc和desc
// sortname	String	""	 	要排序列名
altRows	Boolean	false	否	设置表格是否显示斑马条纹
// selarrrow	Array	[]	否	 
// savedRow	Array	[]	否	 
// shrinkToFit	Boolean	true	否	 
// xmlReader	Object	{}	否	 
// jsonReader: { 
//    root: 'rows', // 返回的Array集合
//     page: 'pageControlData.currentPage', // 当前页数
//     total: 'pageCount',  // 总的页数 
//     records: 'resultCount',  // 代表数据总行数
//     repeatitems: false // 每行的数据不可重复 , 并且返回的数据中按名字来搜索元素
// },
// subGrid	Boolean	false	否	 
// subGridModel	Array	[]	 	 
// reccount	Number	0	 	 
// lastpage	Number	0	 	 
// lastsort	Number	0	 	 
// selrow	Function	null	 	 
// beforeSelectRow	Function	null	 	 
onSelectRow Function (rowid,[是否选中]) 选中行
// onSortCol	Function	    null	 	 
// ondblClickRow	Function	null 双击行
// onCellSelect	Function	null (rowid,[索引],[内容])	 	 
// onRightClickRow	Function	
// onPaging	Function	null	 	 
onSelectAll	Function	null	 	 
// loadComplete	Function 数据加载完毕  
gridComplete	Function 表格渲染完毕 
// loadError	Function	null	 	 
// loadBeforeSend	Function	null	 	 
// afterInsertRow	Function	null	 	 
afterSaveCell	Function	编辑单元格后触发	 	 
// beforeRequest	Function	null	 	 
// onHeaderClick	Function	null	 	 
// viewrecords	Boolean	false	 	 
// loadonce	Boolean	false	 	 
// multiselect	Boolean	false	 	 
// multikey	Boolean	false	 	 
// editurl	String	null  添加编辑删除操作时数据提交的页面
// search	Boolean	false	否	是否显示搜索按钮
// caption	String	""	否	表格标题
// hidegrid	Boolean	true	 	 
// hiddengrid	Boolean	false	 	 
// postData	Object	{}	 	 
// userData	Object	{}	 	 
// treeGrid	Boolean	false	否	是否为树型GRID
// treeGridModel	String	'nested'	否	树型GRID的数据源格式一般分为nested和adjacency
// treeReader	Object	{}	 	 
// treeANode	Number	-1	 	 
// ExpandColumn	String	null	否	为树型GRID时 按钮所在的列 (在定义treeGrid情况下，指明那一列用来伸展树)
// tree_root_level	Number	0	否	 
// prmNames Object {page:"page",rows:"rows", sort: "sidx",order: "sord", search:"_search", nd:"nd"} 请求时参数
// forceFit	Boolean	false	 	 
// gridstate	String	 "visible" 	 
cellEdit	Boolean	false 行编辑
cellsubmit	String 	"clientArray"  // "remote" : 自动 "clientArray":用户保存
// loadui	String	"enable"	 	 
// toolbar	Array	[false,""]	 	 
// scroll	Boolean	false	 	 
// multiboxonly	Boolean	false	 	 
// deselectAfterSort	Boolean	true	 	 
// scrollrows	Boolean	false	 	 
// scrollOffset	Number	18	 	 
// cellLayout	Number	5	 	 
// subGridWidth	Number	20	 	 
multiselectWidth	Number	20	 	 
// gridview	Boolean	false 在工具条上是否显示总条数等信息
// rownumWidth	Number    25
// rownumbers	Boolean	false	 	 
// pagerpos	String	'center'	 	 
// recordpos	String	'right'	 	 
// footerrow	Boolean	false	 	 
// userDataOnFooter	Boolean	false	 	 
hoverrows Boolean	true 表行是否有鼠标悬停效果
// altclass	String	'ui-priority-secondary'	 	 
// viewsortcols	Array	[false,'vertical',true]	 	 
// resizeclass	String	''	 	 
// autoencode	Boolean	false	 	 
// remapColumns	Array	[]	 	 
// ajaxGridOptions	Object	{}	 	 
// direction	String	"ltr"	 	 
</code></pre>
<pre><code class="language-js">
// 使用方法 $table.getRowData(rowid)  || $table.jqGrid("getRowData",rowid)
getRowData	(rowid)		返回rowid 数据
setRowData  (rowid,rowData) 返回Boolean
getCell (rowid,cellname) 返回单元格
setCell	(rowid,cellname,value) 设置单元格
trigger('reloadGrid')   重载
</code></pre>
                                <h2>Code</h2>
                            <pre><code class="language-js" id="pre"></code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="J_script">
        <script> shaonq.showLoading("cdnload") </script>
        <script src="resource/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/jquery-ui-dist@1.13.1/jquery-ui.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/jquery-ui-dist@1.13.1/jquery-ui.min.css" rel="stylesheet">
        <script src="https://cdn.bootcdn.net/ajax/libs/jqgrid/4.6.0/js/jquery.jqGrid.min.js"></script>
        <link href="https://cdn.bootcdn.net/ajax/libs/jqgrid/4.6.0/css/ui.jqgrid.css" rel="stylesheet">
        <script src="https://cdn.bootcdn.net/ajax/libs/jqgrid/4.6.0/js/i18n/grid.locale-cn.js"></script>
        <link href="https://cdn.bootcdn.net/ajax/libs/jqgrid/4.6.0/plugins/ui.multiselect.css" rel="stylesheet">
        <script src="https://cdn.bootcdn.net/ajax/libs/jqgrid/4.6.0/plugins/ui.multiselect.js"></script>
        <script>
            var $table = $("#table");
            $table.jqGrid({
                datatype: 'local', // 禁用ajax
                height: 250,
                autowidth: true,
                colNames: ["Client", "Date", "Closed", "Shipped via", "Notes", "Tax", "Amount", "Total"],
                colModel: [
                    { name: "name", align: "center", editable: true, width: 65, editrules: {required: true} },
                    { name: "invdate", width: 80, align: "center", sorttype: "date",  formatter: "date" },
                    { name: "closed", width: 70, align: "center", editable: true, formatter: "checkbox",
                        edittype: "checkbox", editoptions: {value: "Yes:No", defaultValue: "Yes"},
                        stype: "select", searchoptions: { sopt: ["eq", "ne"], value: ":Any;true:Yes;false:No" } },
                    { name: "ship_via", width: 105, align: "center", editable: true, formatter: "select",
                        edittype: "select", editoptions: { value: "FE:FedEx;TN:TNT;IN:Intim", defaultValue: "IN" },
                        stype: "select", searchoptions: { sopt: ["eq", "ne"], value: ":Any;FE:FedEx;TN:TNT;IN:IN" } },
                    { name: "note", width: 60, sortable: false, editable: true, edittype: "textarea" },
                    { name: "tax", width: 52, editable: true,  hidden: true  },
                    { name: "amount", width: 75, editable: true, },
                    { name: "total", width: 60 }
                ],
                cellEdit: true,
                cellsubmit:"clientArray", // 禁用自动保存
                gridComplete: function (data) {},
                //编辑 编辑触发change后触发
                afterSaveCell:function(rowid, cellname, value, iRow, iCol){                
                    var rowData = $table.getRowData(rowid);    
                    // rowData 为编辑后的行数据                
                   shaonq.toast(JSON.stringify(rowData))
                },
            });
            // 加载数据
            var rows = [
                    { id: "10",  invdate: "2007-10-01", name: "test1", note: "note1",  amount: "200.00", tax: "10.00", closed: true,  ship_via: "TN", total: "210.00" },
                    { id: "20",  invdate: "2007-10-02", name: "test1", note: "note2",  amount: "300.00", tax: "20.00", closed: false, ship_via: "FE", total: "320.00" },
                    { id: "30",  invdate: "2007-09-01", name: "test3", note: "note3",  amount: "400.00", tax: "30.00", closed: false, ship_via: "FE", total: "430.00" },
                    { id: "40",  invdate: "2007-10-04", name: "test2", note: "note4",  amount: "200.00", tax: "10.00", closed: true,  ship_via: "TN", total: "210.00" },
                    { id: "50",  invdate: "2007-10-31", name: "test2", note: "note5",  amount: "300.00", tax: "20.00", closed: false, ship_via: "FE", total: "320.00" },
                    { id: "60",  invdate: "2007-09-06", name: "test3", note: "note6",  amount: "400.00", tax: "30.00", closed: false, ship_via: "FE", total: "430.00" },
                    { id: "70",  invdate: "2007-10-04", name: "test3", note: "note7",  amount: "200.00", tax: "10.00", closed: true,  ship_via: "TN", total: "210.00" },
                    { id: "80",  invdate: "2007-10-03", name: "test1", note: "note8",  amount: "300.00", tax: "20.00", closed: false, ship_via: "FE", total: "320.00" },
                    { id: "90",  invdate: "2007-09-01", name: "test3", note: "note9",  amount: "400.00", tax: "30.00", closed: false, ship_via: "TN", total: "430.00" },
                    { id: "100", invdate: "2007-09-08", name: "test2", note: "note10", amount: "500.00", tax: "30.00", closed: true,  ship_via: "TN", total: "530.00" },
                    { id: "110", invdate: "2007-09-08", name: "test2", note: "note11", amount: "500.00", tax: "30.00", closed: false, ship_via: "FE", total: "530.00" },
                    { id: "120", invdate: "2007-09-10", name: "test3", note: "note12", amount: "500.00", tax: "30.00", closed: false, ship_via: "FE", total: "530.00" }
                ];
            rows.forEach(function (item, index) {
                $table.jqGrid("addRowData", index + 1, item);
            })

            shaonq.hideToast();
        </script>
    </div>
    <script>        
        $("#pre").text($("#J_script").html())
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/themes/prism.min.css">
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/prism.min.js"></script>
</body>

</html>