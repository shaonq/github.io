var Ww=Object.defineProperty,Jw=Object.defineProperties;var Zw=Object.getOwnPropertyDescriptors;var ag=Object.getOwnPropertySymbols;var Kw=Object.prototype.hasOwnProperty,qw=Object.prototype.propertyIsEnumerable;var ug=(v,y,s)=>y in v?Ww(v,y,{enumerable:!0,configurable:!0,writable:!0,value:s}):v[y]=s,nf=(v,y)=>{for(var s in y||(y={}))Kw.call(y,s)&&ug(v,s,y[s]);if(ag)for(var s of ag(y))qw.call(y,s)&&ug(v,s,y[s]);return v},sg=(v,y)=>Jw(v,Zw(y));var bu=(v,y,s)=>new Promise((p,i)=>{var f=m=>{try{b(s.next(m))}catch(w){i(w)}},c=m=>{try{b(s.throw(m))}catch(w){i(w)}},b=m=>m.done?p(m.value):Promise.resolve(m.value).then(f,c);b((s=s.apply(v,y)).next())});import{K as $w,a4 as e1,a as Rg,b6 as t1,bk as n1,v as mu,L as r1,i as pn,al as rf,bZ as o1,aw as ff,ay as zr,o as Br,h as _i,F as cg,aB as i1,n as ji,z as xu,B as a1,t as u1,q as Ou,k as of,az as s1,j as pf,b as c1,bG as l1,f as f1,a7 as lg,N as p1,m as d1,aF as h1}from"./index.f3af519a.js";import{D as y1}from"./index.fc2503ca.js";import{B as g1,b as v1}from"./index.79764867.js";import{J as b1}from"./index.8a22191c.js";import{P as m1}from"./index.26b292ac.js";import"./useWindowSizeFn.fab2207f.js";import"./FullscreenOutlined.827fad55.js";import"./index.72f2e871.js";import"./index.cb40c89e.js";import"./useSize.0170848e.js";import"./eagerComputed.fa7aa305.js";import"./useContentViewHeight.8c1cb1ae.js";import"./ArrowLeftOutlined.45c4071a.js";import"./index.d994c877.js";import"./transButton.fb0ac265.js";const Bg=Symbol("flow-chart");function O1(v){e1(Bg,v)}function w1(){return $w(Bg)}var Kt=(v=>(v.ZOOM_IN="zoomIn",v.ZOOM_OUT="zoomOut",v.RESET_ZOOM="resetZoom",v.UNDO="undo",v.REDO="redo",v.SNAPSHOT="snapshot",v.VIEW_DATA="viewData",v))(Kt||{});const _1=Rg({name:"FlowChartToolbar",components:{Icon:t1,Divider:y1,Tooltip:n1},props:{prefixCls:String},emits:["view-data"],setup(v,{emit:y}){const s=mu([{type:Kt.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Kt.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Kt.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Kt.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Kt.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Kt.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Kt.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:p}=w1();function i({data:{undoAble:c,redoAble:b}}){const m=pn(s),w=m.findIndex(A=>A.type===Kt.UNDO),_=m.findIndex(A=>A.type===Kt.REDO);w!==-1&&(pn(s)[w].disabled=!c),_!==-1&&(pn(s)[_].disabled=!b)}const f=c=>{const b=pn(p);if(!!b)switch(c.type){case Kt.ZOOM_IN:b.zoom();break;case Kt.ZOOM_OUT:b.zoom(!0);break;case Kt.RESET_ZOOM:b.resetZoom();break;case Kt.UNDO:b.undo();break;case Kt.REDO:b.redo();break;case Kt.SNAPSHOT:b.getSnapshot();break;case Kt.VIEW_DATA:y("view-data");break}};return r1(()=>bu(this,null,function*(){var c;pn(p)&&(yield rf(),(c=pn(p))==null||c.on("history:change",i))})),o1(()=>{var c;(c=pn(p))==null||c.off("history:change",i)}),{toolbarItemList:s,onControl:f}}}),x1=["onClick"];function E1(v,y,s,p,i,f){const c=zr("Icon"),b=zr("Tooltip"),m=zr("Divider");return Br(),_i("div",{class:Ou([`${v.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Br(!0),_i(cg,null,i1(v.toolbarItemList,w=>(Br(),_i(cg,{key:w.type},[ji(b,s1({placement:"bottom"},w.disabled?{visible:!1}:{}),{title:xu(()=>[a1(u1(w.tooltip),1)]),default:xu(()=>[w.icon?(Br(),_i("span",{key:0,class:Ou(`${v.prefixCls}-toolbar__icon`),onClick:_=>v.onControl(w)},[ji(c,{icon:w.icon,class:Ou(w.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,x1)):of("",!0)]),_:2},1040),w.separate?(Br(),pf(m,{key:0,type:"vertical"})):of("",!0)],64))),128))],2)}var S1=ff(_1,[["render",E1]]),Je={exports:{}},af={exports:{}};(function(v,y){(function(s,p){v.exports=p()})(window,function(){return function(s){var p={};function i(f){if(p[f])return p[f].exports;var c=p[f]={i:f,l:!1,exports:{}};return s[f].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=s,i.c=p,i.d=function(f,c,b){i.o(f,c)||Object.defineProperty(f,c,{enumerable:!0,get:b})},i.r=function(f){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},i.t=function(f,c){if(1&c&&(f=i(f)),8&c||4&c&&typeof f=="object"&&f&&f.__esModule)return f;var b=Object.create(null);if(i.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:f}),2&c&&typeof f!="string")for(var m in f)i.d(b,m,function(w){return f[w]}.bind(null,m));return b},i.n=function(f){var c=f&&f.__esModule?function(){return f.default}:function(){return f};return i.d(c,"a",c),c},i.o=function(f,c){return Object.prototype.hasOwnProperty.call(f,c)},i.p="",i(i.s=215)}([function(s,p,i){(function(f,c){i.d(p,"a",function(){return U}),i.d(p,"b",function(){return Vo}),i.d(p,"c",function(){return Nn}),i.d(p,"d",function(){return qe}),i.d(p,"e",function(){return De}),i.d(p,"f",function(){return ke}),i.d(p,"g",function(){return Xe}),i.d(p,"h",function(){return Pr}),i.d(p,"i",function(){return Et}),i.d(p,"j",function(){return Ie}),i.d(p,"k",function(){return Qn}),i.d(p,"l",function(){return Yo}),i.d(p,"m",function(){return gt}),i.d(p,"n",function(){return Ar}),i.d(p,"o",function(){return I}),i.d(p,"p",function(){return Yi}),i.d(p,"q",function(){return Vn}),i.d(p,"r",function(){return Ui}),i.d(p,"s",function(){return On}),i.d(p,"t",function(){return Ur}),i.d(p,"u",function(){return io}),i.d(p,"v",function(){return Fu}),i.d(p,"w",function(){return Hi}),i.d(p,"x",function(){return Hr}),i.d(p,"y",function(){return kn}),i.d(p,"z",function(){return Nt}),i.d(p,"A",function(){return hn}),i.d(p,"B",function(){return Wn}),i.d(p,"C",function(){return Ye}),i.d(p,"D",function(){return Qi}),i.d(p,"E",function(){return Sr}),i.d(p,"F",function(){return Er}),i.d(p,"G",function(){return Bu}),i.d(p,"H",function(){return Ni}),i.d(p,"I",function(){return Gu}),i.d(p,"J",function(){return bn}),i.d(p,"K",function(){return ne}),i.d(p,"L",function(){return Vt}),i.d(p,"M",function(){return Vi});var b=[];Object.freeze(b);var m={};function w(){return++Ue.mobxGuid}function _(h){throw A(!1,h),"X"}function A(h,g){if(!h)throw new Error("[mobx] "+(g||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(m);function j(h){var g=!1;return function(){if(!g)return g=!0,h.apply(this,arguments)}}var P=function(){};function T(h){return h!==null&&typeof h=="object"}function N(h){if(h===null||typeof h!="object")return!1;var g=Object.getPrototypeOf(h);return g===Object.prototype||g===null}function L(h,g,E){Object.defineProperty(h,g,{enumerable:!1,writable:!0,configurable:!0,value:E})}function G(h,g){var E="isMobX"+h;return g.prototype[E]=!0,function(D){return T(D)&&D[E]===!0}}function B(h){return h instanceof Map}function V(h){return h instanceof Set}function oe(h){var g=new Set;for(var E in h)g.add(E);return Object.getOwnPropertySymbols(h).forEach(function(D){Object.getOwnPropertyDescriptor(h,D).enumerable&&g.add(D)}),Array.from(g)}function J(h){return h&&h.toString?h.toString():new String(h).toString()}function Y(h){return h===null?null:typeof h=="object"?""+h:h}var Z=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(h){return Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h))}:Object.getOwnPropertyNames,U=Symbol("mobx administration"),M=function(){function h(g){g===void 0&&(g="Atom@"+w()),this.name=g,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ze.NOT_TRACKING}return h.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},h.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},h.prototype.reportObserved=function(){return Ti(this)},h.prototype.reportChanged=function(){gn(),function(g){g.lowestObserverState!==ze.STALE&&(g.lowestObserverState=ze.STALE,g.observers.forEach(function(E){E.dependenciesState===ze.UP_TO_DATE&&(E.isTracing!==$.NONE&&Xn(E,g),E.onBecomeStale()),E.dependenciesState=ze.STALE}))}(this),vn()},h.prototype.toString=function(){return this.name},h}(),R=G("Atom",M);function I(h,g,E){g===void 0&&(g=P),E===void 0&&(E=P);var D,F=new M(h);return g!==P&&Ri("onBecomeObserved",F,g,D),E!==P&&Sr(F,E),F}var z={identity:function(h,g){return h===g},structural:function(h,g){return Jo(h,g)},default:function(h,g){return Object.is(h,g)},shallow:function(h,g){return Jo(h,g,1)}},K=function(h,g){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var F in D)D.hasOwnProperty(F)&&(E[F]=D[F])},K(h,g)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var de=function(){return de=Object.assign||function(h){for(var g,E=1,D=arguments.length;E<D;E++)for(var F in g=arguments[E])Object.prototype.hasOwnProperty.call(g,F)&&(h[F]=g[F]);return h},de.apply(this,arguments)};function le(h){var g=typeof Symbol=="function"&&h[Symbol.iterator],E=0;return g?g.call(h):{next:function(){return h&&E>=h.length&&(h=void 0),{value:h&&h[E++],done:!h}}}}function ve(h,g){var E=typeof Symbol=="function"&&h[Symbol.iterator];if(!E)return h;var D,F,te=E.call(h),fe=[];try{for(;(g===void 0||g-- >0)&&!(D=te.next()).done;)fe.push(D.value)}catch(Ee){F={error:Ee}}finally{try{D&&!D.done&&(E=te.return)&&E.call(te)}finally{if(F)throw F.error}}return fe}function Se(){for(var h=[],g=0;g<arguments.length;g++)h=h.concat(ve(arguments[g]));return h}var be=Symbol("mobx did run lazy initializers"),ue=Symbol("mobx pending decorators"),he={},me={};function Ae(h,g){var E=g?he:me;return E[h]||(E[h]={configurable:!0,enumerable:g,get:function(){return Be(this),this[h]},set:function(D){Be(this),this[h]=D}})}function Be(h){var g,E;if(h[be]!==!0){var D=h[ue];if(D){L(h,be,!0);var F=Se(Object.getOwnPropertySymbols(D),Object.keys(D));try{for(var te=le(F),fe=te.next();!fe.done;fe=te.next()){var Ee=D[fe.value];Ee.propertyCreator(h,Ee.prop,Ee.descriptor,Ee.decoratorTarget,Ee.decoratorArguments)}}catch(Le){g={error:Le}}finally{try{fe&&!fe.done&&(E=te.return)&&E.call(te)}finally{if(g)throw g.error}}}}}function Ze(h,g){return function(){var E,D=function(F,te,fe,Ee){if(Ee===!0)return g(F,te,fe,F,E),null;if(!Object.prototype.hasOwnProperty.call(F,ue)){var Le=F[ue];L(F,ue,de({},Le))}return F[ue][te]={prop:te,propertyCreator:g,descriptor:fe,decoratorTarget:F,decoratorArguments:E},Ae(te,h)};return Pe(arguments)?(E=b,D.apply(null,arguments)):(E=Array.prototype.slice.call(arguments),D)}}function Pe(h){return(h.length===2||h.length===3)&&(typeof h[1]=="string"||typeof h[1]=="symbol")||h.length===4&&h[3]===!0}function Me(h,g,E){return Hr(h)?h:Array.isArray(h)?Ye.array(h,{name:E}):N(h)?Ye.object(h,void 0,{name:E}):B(h)?Ye.map(h,{name:E}):V(h)?Ye.set(h,{name:E}):h}function Qe(h){return h}function q(h){A(h);var g=Ze(!0,function(D,F,te,fe,Ee){var Le=te?te.initializer?te.initializer.call(D):te.value:void 0;Xr(D).addObservableProp(F,Le,h)}),E=(f!==void 0&&f.env,g);return E.enhancer=h,E}var W={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ie(h){return h==null?W:typeof h=="string"?{name:h,deep:!0,proxy:!0}:h}Object.freeze(W);var Oe=q(Me),je=q(function(h,g,E){return h==null||hn(h)||kn(h)||Nt(h)||dn(h)?h:Array.isArray(h)?Ye.array(h,{name:E,deep:!1}):N(h)?Ye.object(h,void 0,{name:E,deep:!1}):B(h)?Ye.map(h,{name:E,deep:!1}):V(h)?Ye.set(h,{name:E,deep:!1}):_(!1)}),we=q(Qe),Ve=q(function(h,g,E){return Jo(h,g)?g:h});function $e(h){return h.defaultDecorator?h.defaultDecorator.enhancer:h.deep===!1?Qe:Me}var Ke={box:function(h,g){arguments.length>2&&ge("box");var E=ie(g);return new Pt(h,$e(E),E.name,!0,E.equals)},array:function(h,g){arguments.length>2&&ge("array");var E=ie(g);return Qo(h,$e(E),E.name)},map:function(h,g){arguments.length>2&&ge("map");var E=ie(g);return new Vo(h,$e(E),E.name)},set:function(h,g){arguments.length>2&&ge("set");var E=ie(g);return new so(h,$e(E),E.name)},object:function(h,g,E){typeof arguments[1]=="string"&&ge("object");var D=ie(E);if(D.proxy===!1)return Vn({},h,g,D);var F=Bi(D),te=Vn({},void 0,void 0,D),fe=Yu(te);return Li(fe,h,g,F),fe},ref:we,shallow:je,deep:Oe,struct:Ve},Ye=function(h,g,E){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Oe.apply(null,arguments);if(Hr(h))return h;var D=N(h)?Ye.object(h,g,E):Array.isArray(h)?Ye.array(h,g):B(h)?Ye.map(h,g):V(h)?Ye.set(h,g):h;if(D!==h)return D;_(!1)};function ge(h){_("Expected one or two arguments to observable."+h+". Did you accidentally try to use observable."+h+" as decorator?")}Object.keys(Ke).forEach(function(h){return Ye[h]=Ke[h]});var ze,$,Ce=Ze(!1,function(h,g,E,D,F){var te=E.get,fe=E.set,Ee=F[0]||{};Xr(h).addComputedProp(h,g,de({get:te,set:fe,context:h},Ee))}),it=Ce({equals:z.structural}),gt=function(h,g,E){if(typeof g=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return Ce.apply(null,arguments);var D=typeof g=="object"?g:{};return D.get=h,D.set=typeof g=="function"?g:D.set,D.name=D.name||h.name||"",new Hn(D)};gt.struct=it,function(h){h[h.NOT_TRACKING=-1]="NOT_TRACKING",h[h.UP_TO_DATE=0]="UP_TO_DATE",h[h.POSSIBLY_STALE=1]="POSSIBLY_STALE",h[h.STALE=2]="STALE"}(ze||(ze={})),function(h){h[h.NONE=0]="NONE",h[h.LOG=1]="LOG",h[h.BREAK=2]="BREAK"}($||($={}));var rt=function(h){this.cause=h};function ft(h){return h instanceof rt}function xt(h){switch(h.dependenciesState){case ze.UP_TO_DATE:return!1;case ze.NOT_TRACKING:case ze.STALE:return!0;case ze.POSSIBLY_STALE:for(var g=ke(!0),E=X(),D=h.observing,F=D.length,te=0;te<F;te++){var fe=D[te];if(Yn(fe)){if(Ue.disableErrorBoundaries)fe.get();else try{fe.get()}catch(Ee){return se(E),De(g),!0}if(h.dependenciesState===ze.STALE)return se(E),De(g),!0}}return Ge(h),se(E),De(g),!1}}function Et(){return Ue.trackingDerivation!==null}function ot(h){var g=h.observers.size>0;Ue.computationDepth>0&&g&&_(!1),Ue.allowStateChanges||!g&&Ue.enforceActions!=="strict"||_(!1)}function kt(h,g,E){var D=ke(!0);Ge(h),h.newObserving=new Array(h.observing.length+100),h.unboundDepsCount=0,h.runId=++Ue.runId;var F,te=Ue.trackingDerivation;if(Ue.trackingDerivation=h,Ue.disableErrorBoundaries===!0)F=g.call(E);else try{F=g.call(E)}catch(fe){F=new rt(fe)}return Ue.trackingDerivation=te,function(fe){for(var Ee=fe.observing,Le=fe.observing=fe.newObserving,lt=ze.UP_TO_DATE,tt=0,wt=fe.unboundDepsCount,st=0;st<wt;st++)(mt=Le[st]).diffValue===0&&(mt.diffValue=1,tt!==st&&(Le[tt]=mt),tt++),mt.dependenciesState>lt&&(lt=mt.dependenciesState);for(Le.length=tt,fe.newObserving=null,wt=Ee.length;wt--;)(mt=Ee[wt]).diffValue===0&&ki(mt,fe),mt.diffValue=0;for(;tt--;){var mt;(mt=Le[tt]).diffValue===1&&(mt.diffValue=0,Nu(mt,fe))}lt!==ze.UP_TO_DATE&&(fe.dependenciesState=lt,fe.onBecomeStale())}(h),De(D),F}function H(h){var g=h.observing;h.observing=[];for(var E=g.length;E--;)ki(g[E],h);h.dependenciesState=ze.NOT_TRACKING}function ne(h){var g=X();try{return h()}finally{se(g)}}function X(){var h=Ue.trackingDerivation;return Ue.trackingDerivation=null,h}function se(h){Ue.trackingDerivation=h}function ke(h){var g=Ue.allowStateReads;return Ue.allowStateReads=h,g}function De(h){Ue.allowStateReads=h}function Ge(h){if(h.dependenciesState!==ze.UP_TO_DATE){h.dependenciesState=ze.UP_TO_DATE;for(var g=h.observing,E=g.length;E--;)g[E].lowestObserverState=ze.UP_TO_DATE}}var ct=0,Bt=1,Ht=Object.getOwnPropertyDescriptor(function(){},"name");Ht&&Ht.configurable;function Dt(h,g,E){var D=function(){return Mt(h,g,E||this,arguments)};return D.isMobxAction=!0,D}function Mt(h,g,E,D){var F=Ie();try{return g.apply(E,D)}catch(te){throw F.error=te,te}finally{Xe(F)}}function Ie(h,g,E){var D=0,F=X();gn();var te={prevDerivation:F,prevAllowStateChanges:et(!0),prevAllowStateReads:ke(!0),notifySpy:!1,startTime:D,actionId:Bt++,parentActionId:ct};return ct=te.actionId,te}function Xe(h){ct!==h.actionId&&_("invalid action stack. did you forget to finish an action?"),ct=h.parentActionId,h.error!==void 0&&(Ue.suppressReactionErrors=!0),Ot(h.prevAllowStateChanges),De(h.prevAllowStateReads),vn(),se(h.prevDerivation),h.notifySpy,Ue.suppressReactionErrors=!1}function qe(h,g){var E,D=et(h);try{E=g()}finally{Ot(D)}return E}function et(h){var g=Ue.allowStateChanges;return Ue.allowStateChanges=h,g}function Ot(h){Ue.allowStateChanges=h}var Pt=function(h){function g(E,D,F,te,fe){F===void 0&&(F="ObservableValue@"+w()),fe===void 0&&(fe=z.default);var Ee=h.call(this,F)||this;return Ee.enhancer=D,Ee.name=F,Ee.equals=fe,Ee.hasUnreportedChange=!1,Ee.value=D(E,void 0,F),Ee}return function(E,D){function F(){this.constructor=E}K(E,D),E.prototype=D===null?Object.create(D):(F.prototype=D.prototype,new F)}(g,h),g.prototype.dehanceValue=function(E){return this.dehancer!==void 0?this.dehancer(E):E},g.prototype.set=function(E){this.value,(E=this.prepareNewValue(E))!==Ue.UNCHANGED&&this.setNewValue(E)},g.prototype.prepareNewValue=function(E){if(ot(this),rn(this)){var D=dt(this,{object:this,type:"update",newValue:E});if(!D)return Ue.UNCHANGED;E=D.newValue}return E=this.enhancer(E,this.value,this.name),this.equals(this.value,E)?Ue.UNCHANGED:E},g.prototype.setNewValue=function(E){var D=this.value;this.value=E,this.reportChanged(),mn(this)&&Yt(this,{type:"update",object:this,newValue:E,oldValue:D})},g.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},g.prototype.intercept=function(E){return lr(this,E)},g.prototype.observe=function(E,D){return D&&E({object:this,type:"update",newValue:this.value,oldValue:void 0}),fr(this,E)},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.value+"]"},g.prototype.valueOf=function(){return Y(this.get())},g.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},g}(M),ur=G("ObservableValue",Pt),Hn=function(){function h(g){this.dependenciesState=ze.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ze.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+w(),this.value=new rt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=$.NONE,A(g.get,"missing option for computed: get"),this.derivation=g.get,this.name=g.name||"ComputedValue@"+w(),g.set&&(this.setter=Dt(this.name+"-setter",g.set)),this.equals=g.equals||(g.compareStructural||g.struct?z.structural:z.default),this.scope=g.context,this.requiresReaction=!!g.requiresReaction,this.keepAlive=!!g.keepAlive}return h.prototype.onBecomeStale=function(){(function(g){g.lowestObserverState===ze.UP_TO_DATE&&(g.lowestObserverState=ze.POSSIBLY_STALE,g.observers.forEach(function(E){E.dependenciesState===ze.UP_TO_DATE&&(E.dependenciesState=ze.POSSIBLY_STALE,E.isTracing!==$.NONE&&Xn(E,g),E.onBecomeStale())}))})(this)},h.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},h.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},h.prototype.get=function(){this.isComputing&&_("Cycle detected in computation "+this.name+": "+this.derivation),Ue.inBatch!==0||this.observers.size!==0||this.keepAlive?(Ti(this),xt(this)&&this.trackAndCompute()&&function(E){E.lowestObserverState!==ze.STALE&&(E.lowestObserverState=ze.STALE,E.observers.forEach(function(D){D.dependenciesState===ze.POSSIBLY_STALE?D.dependenciesState=ze.STALE:D.dependenciesState===ze.UP_TO_DATE&&(E.lowestObserverState=ze.UP_TO_DATE)}))}(this)):xt(this)&&(this.warnAboutUntrackedRead(),gn(),this.value=this.computeValue(!1),vn());var g=this.value;if(ft(g))throw g.cause;return g},h.prototype.peek=function(){var g=this.computeValue(!1);if(ft(g))throw g.cause;return g},h.prototype.set=function(g){if(this.setter){A(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,g)}finally{this.isRunningSetter=!1}}else A(!1,!1)},h.prototype.trackAndCompute=function(){var g=this.value,E=this.dependenciesState===ze.NOT_TRACKING,D=this.computeValue(!0),F=E||ft(g)||ft(D)||!this.equals(g,D);return F&&(this.value=D),F},h.prototype.computeValue=function(g){var E;if(this.isComputing=!0,Ue.computationDepth++,g)E=kt(this,this.derivation,this.scope);else if(Ue.disableErrorBoundaries===!0)E=this.derivation.call(this.scope);else try{E=this.derivation.call(this.scope)}catch(D){E=new rt(D)}return Ue.computationDepth--,this.isComputing=!1,E},h.prototype.suspend=function(){this.keepAlive||(H(this),this.value=void 0)},h.prototype.observe=function(g,E){var D=this,F=!0,te=void 0;return Yo(function(){var fe=D.get();if(!F||E){var Ee=X();g({type:"update",object:D,newValue:fe,oldValue:te}),se(Ee)}F=!1,te=fe})},h.prototype.warnAboutUntrackedRead=function(){},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},h.prototype.valueOf=function(){return Y(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(),Yn=G("ComputedValue",Hn),Fr=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Mu={};function Uo(){return typeof window!="undefined"?window:c!==void 0?c:typeof self!="undefined"?self:Mu}var Sn=!0,Pi=!1,Ue=function(){var h=Uo();return h.__mobxInstanceCount>0&&!h.__mobxGlobals&&(Sn=!1),h.__mobxGlobals&&h.__mobxGlobals.version!==new Fr().version&&(Sn=!1),Sn?h.__mobxGlobals?(h.__mobxInstanceCount+=1,h.__mobxGlobals.UNCHANGED||(h.__mobxGlobals.UNCHANGED={}),h.__mobxGlobals):(h.__mobxInstanceCount=1,h.__mobxGlobals=new Fr):(setTimeout(function(){Pi||_("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Fr)}();function Nu(h,g){h.observers.add(g),h.lowestObserverState>g.dependenciesState&&(h.lowestObserverState=g.dependenciesState)}function ki(h,g){h.observers.delete(g),h.observers.size===0&&Di(h)}function Di(h){h.isPendingUnobservation===!1&&(h.isPendingUnobservation=!0,Ue.pendingUnobservations.push(h))}function gn(){Ue.inBatch++}function vn(){if(--Ue.inBatch==0){Mi();for(var h=Ue.pendingUnobservations,g=0;g<h.length;g++){var E=h[g];E.isPendingUnobservation=!1,E.observers.size===0&&(E.isBeingObserved&&(E.isBeingObserved=!1,E.onBecomeUnobserved()),E instanceof Hn&&E.suspend())}Ue.pendingUnobservations=[]}}function Ti(h){var g=Ue.trackingDerivation;return g!==null?(g.runId!==h.lastAccessedBy&&(h.lastAccessedBy=g.runId,g.newObserving[g.unboundDepsCount++]=h,h.isBeingObserved||(h.isBeingObserved=!0,h.onBecomeObserved())),!0):(h.observers.size===0&&Ue.inBatch>0&&Di(h),!1)}function Xn(h,g){if(h.isTracing===$.BREAK){var E=[];xr(Ur(h),E,1),new Function(`debugger;
/*
Tracing '`+h.name+`'

You are entering this break point because derivation '`+h.name+"' is being traced and '"+g.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(h instanceof Hn?h.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+E.join(`
`)+`
*/
    `)()}}function xr(h,g,E){g.length>=1e3?g.push("(and many more)"):(g.push(""+new Array(E).join("	")+h.name),h.dependencies&&h.dependencies.forEach(function(D){return xr(D,g,E+1)}))}var Nn=function(){function h(g,E,D,F){g===void 0&&(g="Reaction@"+w()),F===void 0&&(F=!1),this.name=g,this.onInvalidate=E,this.errorHandler=D,this.requiresObservable=F,this.observing=[],this.newObserving=[],this.dependenciesState=ze.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+w(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=$.NONE}return h.prototype.onBecomeStale=function(){this.schedule()},h.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ue.pendingReactions.push(this),Mi())},h.prototype.isScheduled=function(){return this._isScheduled},h.prototype.runReaction=function(){if(!this.isDisposed){if(gn(),this._isScheduled=!1,xt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(g){this.reportExceptionInDerivation(g)}}vn()}},h.prototype.track=function(g){if(!this.isDisposed){gn(),this._isRunning=!0;var E=kt(this,g,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&H(this),ft(E)&&this.reportExceptionInDerivation(E.cause),vn()}},h.prototype.reportExceptionInDerivation=function(g){var E=this;if(this.errorHandler)this.errorHandler(g,this);else{if(Ue.disableErrorBoundaries)throw g;Ue.suppressReactionErrors,Ue.globalReactionErrorHandlers.forEach(function(D){return D(g,E)})}},h.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(gn(),H(this),vn()))},h.prototype.getDisposer=function(){var g=this.dispose.bind(this);return g[U]=this,g},h.prototype.toString=function(){return"Reaction["+this.name+"]"},h.prototype.trace=function(g){g===void 0&&(g=!1),function(){for(var E=[],D=0;D<arguments.length;D++)E[D]=arguments[D];var F=!1;typeof E[E.length-1]=="boolean"&&(F=E.pop());var te=jn(E);if(!te)return _(!1);te.isTracing,$.NONE,te.isTracing=F?$.BREAK:$.LOG}(this,g)},h}(),Go=function(h){return h()};function Mi(){Ue.inBatch>0||Ue.isRunningReactions||Go(Cu)}function Cu(){Ue.isRunningReactions=!0;for(var h=Ue.pendingReactions,g=0;h.length>0;){++g==100&&h.splice(0);for(var E=h.splice(0),D=0,F=E.length;D<F;D++)E[D].runReaction()}Ue.isRunningReactions=!1}var oo=G("Reaction",Nn);function Iu(h){var g=Go;Go=function(E){return h(function(){return g(E)})}}function Ni(h){return function(){}}function Ru(){_(!1)}function sr(h){return function(g,E,D){if(D){if(D.value)return{value:Dt(h,D.value),enumerable:!1,configurable:!0,writable:!0};var F=D.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Dt(h,F.call(this))}}}return Ci(h).apply(this,arguments)}}function Ci(h){return function(g,E,D){Object.defineProperty(g,E,{configurable:!0,enumerable:!1,get:function(){},set:function(F){L(this,E,Qn(h,F))}})}}var Qn=function(h,g,E,D){return arguments.length===1&&typeof h=="function"?Dt(h.name||"<unnamed action>",h):arguments.length===2&&typeof g=="function"?Dt(h,g):arguments.length===1&&typeof h=="string"?sr(h):D!==!0?sr(g).apply(null,arguments):void L(h,g,Dt(h.name||g,E.value,this))};function Bu(h,g){return Mt(typeof h=="string"?h:h.name||"<unnamed action>",typeof h=="function"?h:g,this,void 0)}function io(h){return typeof h=="function"&&h.isMobxAction===!0}function Ho(h,g,E){L(h,g,Dt(g,E.bind(h)))}function Yo(h,g){g===void 0&&(g=m);var E,D=g&&g.name||h.name||"Autorun@"+w();if(!g.scheduler&&!g.delay)E=new Nn(D,function(){this.track(fe)},g.onError,g.requiresObservable);else{var F=Ii(g),te=!1;E=new Nn(D,function(){te||(te=!0,F(function(){te=!1,E.isDisposed||E.track(fe)}))},g.onError,g.requiresObservable)}function fe(){h(E)}return E.schedule(),E.getDisposer()}Qn.bound=function(h,g,E,D){return D===!0?(Ho(h,g,E.value),null):E?{configurable:!0,enumerable:!1,get:function(){return Ho(this,g,E.value||E.initializer.call(this)),this[g]},set:Ru}:{enumerable:!1,configurable:!0,set:function(F){Ho(this,g,F)},get:function(){}}};var Lu=function(h){return h()};function Ii(h){return h.scheduler?h.scheduler:h.delay?function(g){return setTimeout(g,h.delay)}:Lu}function Er(h,g,E){E===void 0&&(E=m);var D,F,te,fe=E.name||"Reaction@"+w(),Ee=Qn(fe,E.onError?(D=E.onError,F=g,function(){try{return F.apply(this,arguments)}catch(At){D.call(this,At)}}):g),Le=!E.scheduler&&!E.delay,lt=Ii(E),tt=!0,wt=!1,st=E.compareStructural?z.structural:E.equals||z.default,mt=new Nn(fe,function(){tt||Le?wn():wt||(wt=!0,lt(wn))},E.onError,E.requiresObservable);function wn(){if(wt=!1,!mt.isDisposed){var At=!1;mt.track(function(){var on=h(mt);At=tt||!st(te,on),te=on}),tt&&E.fireImmediately&&Ee(te,mt),tt||At!==!0||Ee(te,mt),tt&&(tt=!1)}}return mt.schedule(),mt.getDisposer()}function Sr(h,g,E){return Ri("onBecomeUnobserved",h,g,E)}function Ri(h,g,E,D){var F=typeof D=="function"?On(g,E):On(g),te=typeof D=="function"?D:E,fe=h+"Listeners";return F[fe]?F[fe].add(te):F[fe]=new Set([te]),typeof F[h]!="function"?_(!1):function(){var Ee=F[fe];Ee&&(Ee.delete(te),Ee.size===0&&delete F[fe])}}function Ar(h){var g=h.enforceActions,E=h.computedRequiresReaction,D=h.computedConfigurable,F=h.disableErrorBoundaries,te=h.reactionScheduler,fe=h.reactionRequiresObservable,Ee=h.observableRequiresReaction;if(h.isolateGlobalState===!0&&((Ue.pendingReactions.length||Ue.inBatch||Ue.isRunningReactions)&&_("isolateGlobalState should be called before MobX is running any reactions"),Pi=!0,Sn&&(--Uo().__mobxInstanceCount==0&&(Uo().__mobxGlobals=void 0),Ue=new Fr)),g!==void 0){var Le=void 0;switch(g){case!0:case"observed":Le=!0;break;case!1:case"never":Le=!1;break;case"strict":case"always":Le="strict";break;default:_("Invalid value for 'enforceActions': '"+g+"', expected 'never', 'always' or 'observed'")}Ue.enforceActions=Le,Ue.allowStateChanges=Le!==!0&&Le!=="strict"}E!==void 0&&(Ue.computedRequiresReaction=!!E),fe!==void 0&&(Ue.reactionRequiresObservable=!!fe),Ee!==void 0&&(Ue.observableRequiresReaction=!!Ee,Ue.allowStateReads=!Ue.observableRequiresReaction),D!==void 0&&(Ue.computedConfigurable=!!D),F!==void 0&&(Ue.disableErrorBoundaries=!!F),te&&Iu(te)}function Vn(h,g,E,D){var F=Bi(D=ie(D));return Be(h),Xr(h,D.name,F.enhancer),g&&Li(h,g,E,F),h}function Bi(h){return h.defaultDecorator||(h.deep===!1?we:Oe)}function Li(h,g,E,D){var F,te;gn();try{var fe=Z(g);try{for(var Ee=le(fe),Le=Ee.next();!Le.done;Le=Ee.next()){var lt=Le.value,tt=Object.getOwnPropertyDescriptor(g,lt),wt=(E&&lt in E?E[lt]:tt.get?Ce:D)(h,lt,tt,!0);wt&&Object.defineProperty(h,lt,wt)}}catch(st){F={error:st}}finally{try{Le&&!Le.done&&(te=Ee.return)&&te.call(Ee)}finally{if(F)throw F.error}}}finally{vn()}}function Ur(h,g){return zi(On(h,g))}function zi(h){var g,E,D={name:h.name};return h.observing&&h.observing.length>0&&(D.dependencies=(g=h.observing,E=[],g.forEach(function(F){E.indexOf(F)===-1&&E.push(F)}),E).map(zi)),D}var zu=0;function Fi(){this.message="FLOW_CANCELLED"}function Ui(h){arguments.length!==1&&_("Flow expects 1 argument and cannot be used as decorator");var g=h.name||"<unnamed flow>";return function(){var E,D=this,F=arguments,te=++zu,fe=Qn(g+" - runid: "+te+" - init",h).apply(D,F),Ee=void 0,Le=new Promise(function(lt,tt){var wt=0;function st(At){var on;Ee=void 0;try{on=Qn(g+" - runid: "+te+" - yield "+wt++,fe.next).call(fe,At)}catch(Qr){return tt(Qr)}wn(on)}function mt(At){var on;Ee=void 0;try{on=Qn(g+" - runid: "+te+" - yield "+wt++,fe.throw).call(fe,At)}catch(Qr){return tt(Qr)}wn(on)}function wn(At){if(!At||typeof At.then!="function")return At.done?lt(At.value):(Ee=Promise.resolve(At.value)).then(st,mt);At.then(wn,tt)}E=tt,st(void 0)});return Le.cancel=Qn(g+" - runid: "+te+" - cancel",function(){try{Ee&&Gr(Ee);var lt=fe.return(void 0),tt=Promise.resolve(lt.value);tt.then(P,P),Gr(tt),E(new Fi)}catch(wt){E(wt)}}),Le}}function Gr(h){typeof h.cancel=="function"&&h.cancel()}function Gi(h,g){if(h==null)return!1;if(g!==void 0){if(hn(h)===!1||!h[U].values.has(g))return!1;var E=On(h,g);return Yn(E)}return Yn(h)}function Fu(h){return arguments.length>1?_(!1):Gi(h)}function Hi(h,g){return typeof g!="string"?_(!1):Gi(h,g)}function Xo(h,g){return h!=null&&(g!==void 0?!!hn(h)&&h[U].values.has(g):hn(h)||!!h[U]||R(h)||oo(h)||Yn(h))}function Hr(h){return arguments.length!==1&&_(!1),Xo(h)}function Wn(h){return hn(h)?h[U].getKeys():Nt(h)||dn(h)?Array.from(h.keys()):kn(h)?h.map(function(g,E){return E}):_(!1)}function Vt(h){return hn(h)?Wn(h).map(function(g){return h[g]}):Nt(h)?Wn(h).map(function(g){return h.get(g)}):dn(h)?Array.from(h.values()):kn(h)?h.slice():_(!1)}function Yi(h){return hn(h)?Wn(h).map(function(g){return[g,h[g]]}):Nt(h)?Wn(h).map(function(g){return[g,h.get(g)]}):dn(h)?Array.from(h.entries()):kn(h)?h.map(function(g,E){return[E,g]}):_(!1)}function Xi(h,g,E){if(arguments.length!==2||dn(h))if(hn(h)){var D=h[U],F=D.values.get(g);F?D.write(g,E):D.addObservableProp(g,E,D.defaultEnhancer)}else if(Nt(h))h.set(g,E);else if(dn(h))h.add(g);else{if(!kn(h))return _(!1);typeof g!="number"&&(g=parseInt(g,10)),A(g>=0,"Not a valid index: '"+g+"'"),gn(),g>=h.length&&(h.length=g+1),h[g]=E,vn()}else{gn();var te=g;try{for(var fe in te)Xi(h,fe,te[fe])}finally{vn()}}}function Qi(h,g,E,D){return typeof E=="function"?function(F,te,fe,Ee){return Pr(F,te).observe(fe,Ee)}(h,g,E,D):function(F,te,fe){return Pr(F).observe(te,fe)}(h,g,E)}Fi.prototype=Object.create(Error.prototype);var Uu={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function cr(h,g,E,D){return D.detectCycles&&h.set(g,E),E}function An(h,g,E){if(!g.recurseEverything&&!Hr(h)||typeof h!="object")return h;if(h===null)return null;if(h instanceof Date)return h;if(ur(h))return An(h.get(),g,E);if(Hr(h)&&Wn(h),g.detectCycles===!0&&h!==null&&E.has(h))return E.get(h);if(kn(h)||Array.isArray(h)){var D=cr(E,h,[],g),F=h.map(function(st){return An(st,g,E)});D.length=F.length;for(var te=0,fe=F.length;te<fe;te++)D[te]=F[te];return D}if(dn(h)||Object.getPrototypeOf(h)===Set.prototype){if(g.exportMapsAsObjects===!1){var Ee=cr(E,h,new Set,g);return h.forEach(function(st){Ee.add(An(st,g,E))}),Ee}var Le=cr(E,h,[],g);return h.forEach(function(st){Le.push(An(st,g,E))}),Le}if(Nt(h)||Object.getPrototypeOf(h)===Map.prototype){if(g.exportMapsAsObjects===!1){var lt=cr(E,h,new Map,g);return h.forEach(function(st,mt){lt.set(mt,An(st,g,E))}),lt}var tt=cr(E,h,{},g);return h.forEach(function(st,mt){tt[mt]=An(st,g,E)}),tt}var wt=cr(E,h,{},g);return oe(h).forEach(function(st){wt[st]=An(h[st],g,E)}),wt}function Gu(h,g){var E;return typeof g=="boolean"&&(g={detectCycles:g}),g||(g=Uu),g.detectCycles=g.detectCycles===void 0?g.recurseEverything===!0:g.detectCycles===!0,g.detectCycles&&(E=new Map),An(h,g,E)}function jn(h){switch(h.length){case 0:return Ue.trackingDerivation;case 1:return On(h[0]);case 2:return On(h[0],h[1])}}function bn(h,g){g===void 0&&(g=void 0),gn();try{return h.apply(g)}finally{vn()}}function Vi(h,g,E){return arguments.length===1||g&&typeof g=="object"?Hu(h,g):Wi(h,g,E||{})}function Wi(h,g,E){var D;typeof E.timeout=="number"&&(D=setTimeout(function(){if(!te[U].isDisposed){te();var fe=new Error("WHEN_TIMEOUT");if(!E.onError)throw fe;E.onError(fe)}},E.timeout)),E.name=E.name||"When@"+w();var F=Dt(E.name+"-effect",g),te=Yo(function(fe){h()&&(fe.dispose(),D&&clearTimeout(D),F())},E);return te}function Hu(h,g){var E,D=new Promise(function(F,te){var fe=Wi(h,F,de(de({},g),{onError:te}));E=function(){fe(),te("WHEN_CANCELLED")}});return D.cancel=E,D}function ao(h){return h[U]}function Jn(h){return typeof h=="string"||typeof h=="number"||typeof h=="symbol"}var Yr={has:function(h,g){if(g===U||g==="constructor"||g===be)return!0;var E=ao(h);return Jn(g)?E.has(g):g in h},get:function(h,g){if(g===U||g==="constructor"||g===be)return h[g];var E=ao(h),D=E.values.get(g);if(D instanceof M){var F=D.get();return F===void 0&&E.has(g),F}return Jn(g)&&E.has(g),h[g]},set:function(h,g,E){return!!Jn(g)&&(Xi(h,g,E),!0)},deleteProperty:function(h,g){return!!Jn(g)&&(ao(h).remove(g),!0)},ownKeys:function(h){return ao(h).keysAtom.reportObserved(),Reflect.ownKeys(h)},preventExtensions:function(h){return _("Dynamic observable objects cannot be frozen"),!1}};function Yu(h){var g=new Proxy(h,Yr);return h[U].proxy=g,g}function rn(h){return h.interceptors!==void 0&&h.interceptors.length>0}function lr(h,g){var E=h.interceptors||(h.interceptors=[]);return E.push(g),j(function(){var D=E.indexOf(g);D!==-1&&E.splice(D,1)})}function dt(h,g){var E=X();try{for(var D=Se(h.interceptors||[]),F=0,te=D.length;F<te&&(A(!(g=D[F](g))||g.type,"Intercept handlers should return nothing or a change object"),g);F++);return g}finally{se(E)}}function mn(h){return h.changeListeners!==void 0&&h.changeListeners.length>0}function fr(h,g){var E=h.changeListeners||(h.changeListeners=[]);return E.push(g),j(function(){var D=E.indexOf(g);D!==-1&&E.splice(D,1)})}function Yt(h,g){var E=X(),D=h.changeListeners;if(D){for(var F=0,te=(D=D.slice()).length;F<te;F++)D[F](g);se(E)}}var Ji={get:function(h,g){return g===U?h[U]:g==="length"?h[U].getArrayLength():typeof g=="number"?Pn.get.call(h,g):typeof g!="string"||isNaN(g)?Pn.hasOwnProperty(g)?Pn[g]:h[g]:Pn.get.call(h,parseInt(g))},set:function(h,g,E){return g==="length"&&h[U].setArrayLength(E),typeof g=="number"&&Pn.set.call(h,g,E),typeof g=="symbol"||isNaN(g)?h[g]=E:Pn.set.call(h,parseInt(g),E),!0},preventExtensions:function(h){return _("Observable arrays cannot be frozen"),!1}};function Qo(h,g,E,D){E===void 0&&(E="ObservableArray@"+w()),D===void 0&&(D=!1);var F,te,fe,Ee=new Zi(E,g,D);F=Ee.values,te=U,fe=Ee,Object.defineProperty(F,te,{enumerable:!1,writable:!1,configurable:!0,value:fe});var Le=new Proxy(Ee.values,Ji);if(Ee.proxy=Le,h&&h.length){var lt=et(!0);Ee.spliceWithArray(0,0,h),Ot(lt)}return Le}var Zi=function(){function h(g,E,D){this.owned=D,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new M(g||"ObservableArray@"+w()),this.enhancer=function(F,te){return E(F,te,g+"[..]")}}return h.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},h.prototype.dehanceValues=function(g){return this.dehancer!==void 0&&g.length>0?g.map(this.dehancer):g},h.prototype.intercept=function(g){return lr(this,g)},h.prototype.observe=function(g,E){return E===void 0&&(E=!1),E&&g({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),fr(this,g)},h.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},h.prototype.setArrayLength=function(g){if(typeof g!="number"||g<0)throw new Error("[mobx.array] Out of range: "+g);var E=this.values.length;if(g!==E)if(g>E){for(var D=new Array(g-E),F=0;F<g-E;F++)D[F]=void 0;this.spliceWithArray(E,0,D)}else this.spliceWithArray(g,E-g)},h.prototype.updateArrayLength=function(g,E){if(g!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=E},h.prototype.spliceWithArray=function(g,E,D){var F=this;ot(this.atom);var te=this.values.length;if(g===void 0?g=0:g>te?g=te:g<0&&(g=Math.max(0,te+g)),E=arguments.length===1?te-g:E==null?0:Math.max(0,Math.min(E,te-g)),D===void 0&&(D=b),rn(this)){var fe=dt(this,{object:this.proxy,type:"splice",index:g,removedCount:E,added:D});if(!fe)return b;E=fe.removedCount,D=fe.added}D=D.length===0?D:D.map(function(Le){return F.enhancer(Le,void 0)});var Ee=this.spliceItemsIntoValues(g,E,D);return E===0&&D.length===0||this.notifyArraySplice(g,D,Ee),this.dehanceValues(Ee)},h.prototype.spliceItemsIntoValues=function(g,E,D){var F;if(D.length<1e4)return(F=this.values).splice.apply(F,Se([g,E],D));var te=this.values.slice(g,g+E);return this.values=this.values.slice(0,g).concat(D,this.values.slice(g+E)),te},h.prototype.notifyArrayChildUpdate=function(g,E,D){var F=!this.owned&&!1,te=mn(this),fe=te||F?{object:this.proxy,type:"update",index:g,newValue:E,oldValue:D}:null;this.atom.reportChanged(),te&&Yt(this,fe)},h.prototype.notifyArraySplice=function(g,E,D){var F=!this.owned&&!1,te=mn(this),fe=te||F?{object:this.proxy,type:"splice",index:g,removed:D,added:E,removedCount:D.length,addedCount:E.length}:null;this.atom.reportChanged(),te&&Yt(this,fe)},h}(),Pn={intercept:function(h){return this[U].intercept(h)},observe:function(h,g){return g===void 0&&(g=!1),this[U].observe(h,g)},clear:function(){return this.splice(0)},replace:function(h){var g=this[U];return g.spliceWithArray(0,g.values.length,h)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(h,g){for(var E=[],D=2;D<arguments.length;D++)E[D-2]=arguments[D];var F=this[U];switch(arguments.length){case 0:return[];case 1:return F.spliceWithArray(h);case 2:return F.spliceWithArray(h,g)}return F.spliceWithArray(h,g,E)},spliceWithArray:function(h,g,E){return this[U].spliceWithArray(h,g,E)},push:function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];var E=this[U];return E.spliceWithArray(E.values.length,0,h),E.values.length},pop:function(){return this.splice(Math.max(this[U].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];var E=this[U];return E.spliceWithArray(0,0,h),E.values.length},reverse:function(){var h=this.slice();return h.reverse.apply(h,arguments)},sort:function(h){var g=this.slice();return g.sort.apply(g,arguments)},remove:function(h){var g=this[U],E=g.dehanceValues(g.values).indexOf(h);return E>-1&&(this.splice(E,1),!0)},get:function(h){var g=this[U];if(g&&h<g.values.length)return g.atom.reportObserved(),g.dehanceValue(g.values[h])},set:function(h,g){var E=this[U],D=E.values;if(h<D.length){ot(E.atom);var F=D[h];if(rn(E)){var te=dt(E,{type:"update",object:E.proxy,index:h,newValue:g});if(!te)return;g=te.newValue}(g=E.enhancer(g,F))!==F&&(D[h]=g,E.notifyArrayChildUpdate(h,g,F))}else{if(h!==D.length)throw new Error("[mobx.array] Index out of bounds, "+h+" is larger than "+D.length);E.spliceWithArray(h,0,[g])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(h){typeof Array.prototype[h]=="function"&&(Pn[h]=function(){var g=this[U];g.atom.reportObserved();var E=g.dehanceValues(g.values);return E[h].apply(E,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(h){typeof Array.prototype[h]=="function"&&(Pn[h]=function(g,E){var D=this,F=this[U];return F.atom.reportObserved(),F.dehanceValues(F.values)[h](function(te,fe){return g.call(E,te,fe,D)},E)})}),["reduce","reduceRight"].forEach(function(h){Pn[h]=function(){var g=this,E=this[U];E.atom.reportObserved();var D=arguments[0];return arguments[0]=function(F,te,fe){return te=E.dehanceValue(te),D(F,te,fe,g)},E.values[h].apply(E.values,arguments)}});var Ki,uo=G("ObservableArrayAdministration",Zi);function kn(h){return T(h)&&uo(h[U])}var qi,Xu={},Vo=function(){function h(g,E,D){if(E===void 0&&(E=Me),D===void 0&&(D="ObservableMap@"+w()),this.enhancer=E,this.name=D,this[Ki]=Xu,this._keysAtom=I(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(g)}return h.prototype._has=function(g){return this._data.has(g)},h.prototype.has=function(g){var E=this;if(!Ue.trackingDerivation)return this._has(g);var D=this._hasMap.get(g);if(!D){var F=D=new Pt(this._has(g),Qe,this.name+"."+J(g)+"?",!1);this._hasMap.set(g,F),Sr(F,function(){return E._hasMap.delete(g)})}return D.get()},h.prototype.set=function(g,E){var D=this._has(g);if(rn(this)){var F=dt(this,{type:D?"update":"add",object:this,newValue:E,name:g});if(!F)return this;E=F.newValue}return D?this._updateValue(g,E):this._addValue(g,E),this},h.prototype.delete=function(g){var E=this;if(ot(this._keysAtom),rn(this)&&!(F=dt(this,{type:"delete",object:this,name:g})))return!1;if(this._has(g)){var D=mn(this),F=D?{type:"delete",object:this,oldValue:this._data.get(g).value,name:g}:null;return bn(function(){E._keysAtom.reportChanged(),E._updateHasMapEntry(g,!1),E._data.get(g).setNewValue(void 0),E._data.delete(g)}),D&&Yt(this,F),!0}return!1},h.prototype._updateHasMapEntry=function(g,E){var D=this._hasMap.get(g);D&&D.setNewValue(E)},h.prototype._updateValue=function(g,E){var D=this._data.get(g);if((E=D.prepareNewValue(E))!==Ue.UNCHANGED){var F=mn(this),te=F?{type:"update",object:this,oldValue:D.value,name:g,newValue:E}:null;D.setNewValue(E),F&&Yt(this,te)}},h.prototype._addValue=function(g,E){var D=this;ot(this._keysAtom),bn(function(){var fe=new Pt(E,D.enhancer,D.name+"."+J(g),!1);D._data.set(g,fe),E=fe.value,D._updateHasMapEntry(g,!0),D._keysAtom.reportChanged()});var F=mn(this),te=F?{type:"add",object:this,name:g,newValue:E}:null;F&&Yt(this,te)},h.prototype.get=function(g){return this.has(g)?this.dehanceValue(this._data.get(g).get()):this.dehanceValue(void 0)},h.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},h.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},h.prototype.values=function(){var g=this,E=this.keys();return po({next:function(){var D=E.next(),F=D.done,te=D.value;return{done:F,value:F?void 0:g.get(te)}}})},h.prototype.entries=function(){var g=this,E=this.keys();return po({next:function(){var D=E.next(),F=D.done,te=D.value;return{done:F,value:F?void 0:[te,g.get(te)]}}})},h.prototype[Ki=U,Symbol.iterator]=function(){return this.entries()},h.prototype.forEach=function(g,E){var D,F;try{for(var te=le(this),fe=te.next();!fe.done;fe=te.next()){var Ee=ve(fe.value,2),Le=Ee[0],lt=Ee[1];g.call(E,lt,Le,this)}}catch(tt){D={error:tt}}finally{try{fe&&!fe.done&&(F=te.return)&&F.call(te)}finally{if(D)throw D.error}}},h.prototype.merge=function(g){var E=this;return Nt(g)&&(g=g.toJS()),bn(function(){var D=et(!0);try{N(g)?oe(g).forEach(function(F){return E.set(F,g[F])}):Array.isArray(g)?g.forEach(function(F){var te=ve(F,2),fe=te[0],Ee=te[1];return E.set(fe,Ee)}):B(g)?(g.constructor!==Map&&_("Cannot initialize from classes that inherit from Map: "+g.constructor.name),g.forEach(function(F,te){return E.set(te,F)})):g!=null&&_("Cannot initialize map from "+g)}finally{Ot(D)}}),this},h.prototype.clear=function(){var g=this;bn(function(){ne(function(){var E,D;try{for(var F=le(g.keys()),te=F.next();!te.done;te=F.next()){var fe=te.value;g.delete(fe)}}catch(Ee){E={error:Ee}}finally{try{te&&!te.done&&(D=F.return)&&D.call(F)}finally{if(E)throw E.error}}})})},h.prototype.replace=function(g){var E=this;return bn(function(){var D,F,te,fe,Ee=function(an){if(B(an)||Nt(an))return an;if(Array.isArray(an))return new Map(an);if(N(an)){var oa=new Map;for(var Vr in an)oa.set(Vr,an[Vr]);return oa}return _("Cannot convert to map from '"+an+"'")}(g),Le=new Map,lt=!1;try{for(var tt=le(E._data.keys()),wt=tt.next();!wt.done;wt=tt.next()){var st=wt.value;if(!Ee.has(st))if(E.delete(st))lt=!0;else{var mt=E._data.get(st);Le.set(st,mt)}}}catch(an){D={error:an}}finally{try{wt&&!wt.done&&(F=tt.return)&&F.call(tt)}finally{if(D)throw D.error}}try{for(var wn=le(Ee.entries()),At=wn.next();!At.done;At=wn.next()){var on=ve(At.value,2),Qr=(st=on[0],mt=on[1],E._data.has(st));if(E.set(st,mt),E._data.has(st)){var Vu=E._data.get(st);Le.set(st,Vu),Qr||(lt=!0)}}}catch(an){te={error:an}}finally{try{At&&!At.done&&(fe=wn.return)&&fe.call(wn)}finally{if(te)throw te.error}}if(!lt)if(E._data.size!==Le.size)E._keysAtom.reportChanged();else for(var na=E._data.keys(),ra=Le.keys(),ho=na.next(),Ko=ra.next();!ho.done;){if(ho.value!==Ko.value){E._keysAtom.reportChanged();break}ho=na.next(),Ko=ra.next()}E._data=Le}),this},Object.defineProperty(h.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),h.prototype.toPOJO=function(){var g,E,D={};try{for(var F=le(this),te=F.next();!te.done;te=F.next()){var fe=ve(te.value,2),Ee=fe[0],Le=fe[1];D[typeof Ee=="symbol"?Ee:J(Ee)]=Le}}catch(lt){g={error:lt}}finally{try{te&&!te.done&&(E=F.return)&&E.call(F)}finally{if(g)throw g.error}}return D},h.prototype.toJS=function(){return new Map(this)},h.prototype.toJSON=function(){return this.toPOJO()},h.prototype.toString=function(){var g=this;return this.name+"[{ "+Array.from(this.keys()).map(function(E){return J(E)+": "+g.get(E)}).join(", ")+" }]"},h.prototype.observe=function(g,E){return fr(this,g)},h.prototype.intercept=function(g){return lr(this,g)},h}(),Nt=G("ObservableMap",Vo),jr={},so=function(){function h(g,E,D){if(E===void 0&&(E=Me),D===void 0&&(D="ObservableSet@"+w()),this.name=D,this[qi]=jr,this._data=new Set,this._atom=I(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(F,te){return E(F,te,D)},g&&this.replace(g)}return h.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},h.prototype.clear=function(){var g=this;bn(function(){ne(function(){var E,D;try{for(var F=le(g._data.values()),te=F.next();!te.done;te=F.next()){var fe=te.value;g.delete(fe)}}catch(Ee){E={error:Ee}}finally{try{te&&!te.done&&(D=F.return)&&D.call(F)}finally{if(E)throw E.error}}})})},h.prototype.forEach=function(g,E){var D,F;try{for(var te=le(this),fe=te.next();!fe.done;fe=te.next()){var Ee=fe.value;g.call(E,Ee,Ee,this)}}catch(Le){D={error:Le}}finally{try{fe&&!fe.done&&(F=te.return)&&F.call(te)}finally{if(D)throw D.error}}},Object.defineProperty(h.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),h.prototype.add=function(g){var E=this;if(ot(this._atom),rn(this)&&!(F=dt(this,{type:"add",object:this,newValue:g})))return this;if(!this.has(g)){bn(function(){E._data.add(E.enhancer(g,void 0)),E._atom.reportChanged()});var D=mn(this),F=D?{type:"add",object:this,newValue:g}:null;D&&Yt(this,F)}return this},h.prototype.delete=function(g){var E=this;if(rn(this)&&!(F=dt(this,{type:"delete",object:this,oldValue:g})))return!1;if(this.has(g)){var D=mn(this),F=D?{type:"delete",object:this,oldValue:g}:null;return bn(function(){E._atom.reportChanged(),E._data.delete(g)}),D&&Yt(this,F),!0}return!1},h.prototype.has=function(g){return this._atom.reportObserved(),this._data.has(this.dehanceValue(g))},h.prototype.entries=function(){var g=0,E=Array.from(this.keys()),D=Array.from(this.values());return po({next:function(){var F=g;return g+=1,F<D.length?{value:[E[F],D[F]],done:!1}:{done:!0}}})},h.prototype.keys=function(){return this.values()},h.prototype.values=function(){this._atom.reportObserved();var g=this,E=0,D=Array.from(this._data.values());return po({next:function(){return E<D.length?{value:g.dehanceValue(D[E++]),done:!1}:{done:!0}}})},h.prototype.replace=function(g){var E=this;return dn(g)&&(g=g.toJS()),bn(function(){var D=et(!0);try{Array.isArray(g)||V(g)?(E.clear(),g.forEach(function(F){return E.add(F)})):g!=null&&_("Cannot initialize set from "+g)}finally{Ot(D)}}),this},h.prototype.observe=function(g,E){return fr(this,g)},h.prototype.intercept=function(g){return lr(this,g)},h.prototype.toJS=function(){return new Set(this)},h.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},h.prototype[qi=U,Symbol.iterator]=function(){return this.values()},h}(),dn=G("ObservableSet",so),$i=function(){function h(g,E,D,F){E===void 0&&(E=new Map),this.target=g,this.values=E,this.name=D,this.defaultEnhancer=F,this.keysAtom=new M(D+".keys")}return h.prototype.read=function(g){return this.values.get(g).get()},h.prototype.write=function(g,E){var D=this.target,F=this.values.get(g);if(F instanceof Hn)F.set(E);else{if(rn(this)){if(!(fe=dt(this,{type:"update",object:this.proxy||D,name:g,newValue:E})))return;E=fe.newValue}if((E=F.prepareNewValue(E))!==Ue.UNCHANGED){var te=mn(this),fe=te?{type:"update",object:this.proxy||D,oldValue:F.value,name:g,newValue:E}:null;F.setNewValue(E),te&&Yt(this,fe)}}},h.prototype.has=function(g){var E=this.pendingKeys||(this.pendingKeys=new Map),D=E.get(g);if(D)return D.get();var F=!!this.values.get(g);return D=new Pt(F,Qe,this.name+"."+J(g)+"?",!1),E.set(g,D),D.get()},h.prototype.addObservableProp=function(g,E,D){D===void 0&&(D=this.defaultEnhancer);var F=this.target;if(rn(this)){var te=dt(this,{object:this.proxy||F,name:g,type:"add",newValue:E});if(!te)return;E=te.newValue}var fe=new Pt(E,D,this.name+"."+J(g),!1);this.values.set(g,fe),E=fe.value,Object.defineProperty(F,g,function(Ee){return co[Ee]||(co[Ee]={configurable:!0,enumerable:!0,get:function(){return this[U].read(Ee)},set:function(Le){this[U].write(Ee,Le)}})}(g)),this.notifyPropertyAddition(g,E)},h.prototype.addComputedProp=function(g,E,D){var F,te,fe,Ee=this.target;D.name=D.name||this.name+"."+J(E),this.values.set(E,new Hn(D)),(g===Ee||(F=g,te=E,!(fe=Object.getOwnPropertyDescriptor(F,te))||fe.configurable!==!1&&fe.writable!==!1))&&Object.defineProperty(g,E,function(Le){return lo[Le]||(lo[Le]={configurable:Ue.computedConfigurable,enumerable:!1,get:function(){return fo(this).read(Le)},set:function(lt){fo(this).write(Le,lt)}})}(E))},h.prototype.remove=function(g){if(this.values.has(g)){var E=this.target;if(rn(this)&&!(Le=dt(this,{object:this.proxy||E,name:g,type:"remove"})))return;try{gn();var D=mn(this),F=!1,te=this.values.get(g),fe=te&&te.get();if(te&&te.set(void 0),this.keysAtom.reportChanged(),this.values.delete(g),this.pendingKeys){var Ee=this.pendingKeys.get(g);Ee&&Ee.set(!1)}delete this.target[g];var Le=D?{type:"remove",object:this.proxy||E,oldValue:fe,name:g}:null;D&&Yt(this,Le)}finally{vn()}}},h.prototype.illegalAccess=function(g,E){},h.prototype.observe=function(g,E){return fr(this,g)},h.prototype.intercept=function(g){return lr(this,g)},h.prototype.notifyPropertyAddition=function(g,E){var D=mn(this),F=D?{type:"add",object:this.proxy||this.target,name:g,newValue:E}:null;if(D&&Yt(this,F),this.pendingKeys){var te=this.pendingKeys.get(g);te&&te.set(!0)}this.keysAtom.reportChanged()},h.prototype.getKeys=function(){var g,E;this.keysAtom.reportObserved();var D=[];try{for(var F=le(this.values),te=F.next();!te.done;te=F.next()){var fe=ve(te.value,2),Ee=fe[0];fe[1]instanceof Pt&&D.push(Ee)}}catch(Le){g={error:Le}}finally{try{te&&!te.done&&(E=F.return)&&E.call(F)}finally{if(g)throw g.error}}return D},h}();function Xr(h,g,E){if(g===void 0&&(g=""),E===void 0&&(E=Me),Object.prototype.hasOwnProperty.call(h,U))return h[U];N(h)||(g=(h.constructor.name||"ObservableObject")+"@"+w()),g||(g="ObservableObject@"+w());var D=new $i(h,new Map,J(g),E);return L(h,U,D),D}var co=Object.create(null),lo=Object.create(null);function fo(h){var g=h[U];return g||(Be(h),h[U])}var ea=G("ObservableObjectAdministration",$i);function hn(h){return!!T(h)&&(Be(h),ea(h[U]))}function On(h,g){if(typeof h=="object"&&h!==null){if(kn(h))return g!==void 0&&_(!1),h[U].atom;if(dn(h))return h[U];if(Nt(h)){var E=h;return g===void 0?E._keysAtom:((D=E._data.get(g)||E._hasMap.get(g))||_(!1),D)}var D;if(Be(h),g&&!h[U]&&h[g],hn(h))return g?((D=h[U].values.get(g))||_(!1),D):_(!1);if(R(h)||Yn(h)||oo(h))return h}else if(typeof h=="function"&&oo(h[U]))return h[U];return _(!1)}function Pr(h,g){return h||_("Expecting some object"),g!==void 0?Pr(On(h,g)):R(h)||Yn(h)||oo(h)||Nt(h)||dn(h)?h:(Be(h),h[U]?h[U]:void _(!1))}var Wo=Object.prototype.toString;function Jo(h,g,E){return E===void 0&&(E=-1),Zo(h,g,E)}function Zo(h,g,E,D,F){if(h===g)return h!==0||1/h==1/g;if(h==null||g==null)return!1;if(h!=h)return g!=g;var te=typeof h;if(te!=="function"&&te!=="object"&&typeof g!="object")return!1;var fe=Wo.call(h);if(fe!==Wo.call(g))return!1;switch(fe){case"[object RegExp]":case"[object String]":return""+h==""+g;case"[object Number]":return+h!=+h?+g!=+g:+h==0?1/+h==1/g:+h==+g;case"[object Date]":case"[object Boolean]":return+h==+g;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(h)===Symbol.valueOf.call(g);case"[object Map]":case"[object Set]":E>=0&&E++}h=ta(h),g=ta(g);var Ee=fe==="[object Array]";if(!Ee){if(typeof h!="object"||typeof g!="object")return!1;var Le=h.constructor,lt=g.constructor;if(Le!==lt&&!(typeof Le=="function"&&Le instanceof Le&&typeof lt=="function"&&lt instanceof lt)&&"constructor"in h&&"constructor"in g)return!1}if(E===0)return!1;E<0&&(E=-1),F=F||[];for(var tt=(D=D||[]).length;tt--;)if(D[tt]===h)return F[tt]===g;if(D.push(h),F.push(g),Ee){if((tt=h.length)!==g.length)return!1;for(;tt--;)if(!Zo(h[tt],g[tt],E-1,D,F))return!1}else{var wt=Object.keys(h),st=void 0;if(tt=wt.length,Object.keys(g).length!==tt)return!1;for(;tt--;)if(!Qu(g,st=wt[tt])||!Zo(h[st],g[st],E-1,D,F))return!1}return D.pop(),F.pop(),!0}function ta(h){return kn(h)?h.slice():B(h)||Nt(h)||V(h)||dn(h)?Array.from(h.entries()):h}function Qu(h,g){return Object.prototype.hasOwnProperty.call(h,g)}function po(h){return h[Symbol.iterator]=pr,h}function pr(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ni,extras:{getDebugName:function(h,g){return(g!==void 0?On(h,g):hn(h)||Nt(h)||dn(h)?Pr(h):On(h)).name}},$mobx:U})}).call(this,i(155),i(82))},function(s,p,i){i.d(p,"a",function(){return J}),i.d(p,"b",function(){return oe}),i.d(p,"c",function(){return Me}),i.d(p,"d",function(){return Qe}),i.d(p,"e",function(){return G}),i.d(p,"f",function(){return V}),i.d(p,"g",function(){return G}),i.d(p,"h",function(){return Pe}),i.d(p,"i",function(){return c}),i.d(p,"j",function(){return Ze}),i.d(p,"k",function(){return z});var f,c,b,m,w,_,A,j={},P=[],T=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(q,W){for(var ie in W)q[ie]=W[ie];return q}function L(q){var W=q.parentNode;W&&W.removeChild(q)}function G(q,W,ie){var Oe,je,we,Ve={};for(we in W)we=="key"?Oe=W[we]:we=="ref"?je=W[we]:Ve[we]=W[we];if(arguments.length>2&&(Ve.children=arguments.length>3?f.call(arguments,2):ie),typeof q=="function"&&q.defaultProps!=null)for(we in q.defaultProps)Ve[we]===void 0&&(Ve[we]=q.defaultProps[we]);return B(q,Ve,Oe,je,null)}function B(q,W,ie,Oe,je){var we={type:q,props:W,key:ie,ref:Oe,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:je==null?++b:je};return je==null&&c.vnode!=null&&c.vnode(we),we}function V(){return{current:null}}function oe(q){return q.children}function J(q,W){this.props=q,this.context=W}function Y(q,W){if(W==null)return q.__?Y(q.__,q.__.__k.indexOf(q)+1):null;for(var ie;W<q.__k.length;W++)if((ie=q.__k[W])!=null&&ie.__e!=null)return ie.__e;return typeof q.type=="function"?Y(q):null}function Z(q){var W,ie;if((q=q.__)!=null&&q.__c!=null){for(q.__e=q.__c.base=null,W=0;W<q.__k.length;W++)if((ie=q.__k[W])!=null&&ie.__e!=null){q.__e=q.__c.base=ie.__e;break}return Z(q)}}function U(q){(!q.__d&&(q.__d=!0)&&m.push(q)&&!M.__r++||_!==c.debounceRendering)&&((_=c.debounceRendering)||w)(M)}function M(){for(var q;M.__r=m.length;)q=m.sort(function(W,ie){return W.__v.__b-ie.__v.__b}),m=[],q.some(function(W){var ie,Oe,je,we,Ve,$e;W.__d&&(Ve=(we=(ie=W).__v).__e,($e=ie.__P)&&(Oe=[],(je=N({},we)).__v=we.__v+1,be($e,we,je,ie.__n,$e.ownerSVGElement!==void 0,we.__h!=null?[Ve]:null,Oe,Ve==null?Y(we):Ve,we.__h),ue(Oe,we),we.__e!=Ve&&Z(we)))})}function R(q,W,ie,Oe,je,we,Ve,$e,Ke,Ye){var ge,ze,$,Ce,it,gt,rt,ft=Oe&&Oe.__k||P,xt=ft.length;for(ie.__k=[],ge=0;ge<W.length;ge++)if((Ce=ie.__k[ge]=(Ce=W[ge])==null||typeof Ce=="boolean"?null:typeof Ce=="string"||typeof Ce=="number"||typeof Ce=="bigint"?B(null,Ce,null,null,Ce):Array.isArray(Ce)?B(oe,{children:Ce},null,null,null):Ce.__b>0?B(Ce.type,Ce.props,Ce.key,null,Ce.__v):Ce)!=null){if(Ce.__=ie,Ce.__b=ie.__b+1,($=ft[ge])===null||$&&Ce.key==$.key&&Ce.type===$.type)ft[ge]=void 0;else for(ze=0;ze<xt;ze++){if(($=ft[ze])&&Ce.key==$.key&&Ce.type===$.type){ft[ze]=void 0;break}$=null}be(q,Ce,$=$||j,je,we,Ve,$e,Ke,Ye),it=Ce.__e,(ze=Ce.ref)&&$.ref!=ze&&(rt||(rt=[]),$.ref&&rt.push($.ref,null,Ce),rt.push(ze,Ce.__c||it,Ce)),it!=null?(gt==null&&(gt=it),typeof Ce.type=="function"&&Ce.__k===$.__k?Ce.__d=Ke=I(Ce,Ke,q):Ke=K(q,Ce,$,ft,it,Ke),typeof ie.type=="function"&&(ie.__d=Ke)):Ke&&$.__e==Ke&&Ke.parentNode!=q&&(Ke=Y($))}for(ie.__e=gt,ge=xt;ge--;)ft[ge]!=null&&(typeof ie.type=="function"&&ft[ge].__e!=null&&ft[ge].__e==ie.__d&&(ie.__d=Y(Oe,ge+1)),Ae(ft[ge],ft[ge]));if(rt)for(ge=0;ge<rt.length;ge++)me(rt[ge],rt[++ge],rt[++ge])}function I(q,W,ie){for(var Oe,je=q.__k,we=0;je&&we<je.length;we++)(Oe=je[we])&&(Oe.__=q,W=typeof Oe.type=="function"?I(Oe,W,ie):K(ie,Oe,Oe,je,Oe.__e,W));return W}function z(q,W){return W=W||[],q==null||typeof q=="boolean"||(Array.isArray(q)?q.some(function(ie){z(ie,W)}):W.push(q)),W}function K(q,W,ie,Oe,je,we){var Ve,$e,Ke;if(W.__d!==void 0)Ve=W.__d,W.__d=void 0;else if(ie==null||je!=we||je.parentNode==null)e:if(we==null||we.parentNode!==q)q.appendChild(je),Ve=null;else{for($e=we,Ke=0;($e=$e.nextSibling)&&Ke<Oe.length;Ke+=2)if($e==je)break e;q.insertBefore(je,we),Ve=we}return Ve!==void 0?Ve:je.nextSibling}function de(q,W,ie){W[0]==="-"?q.setProperty(W,ie):q[W]=ie==null?"":typeof ie!="number"||T.test(W)?ie:ie+"px"}function le(q,W,ie,Oe,je){var we;e:if(W==="style")if(typeof ie=="string")q.style.cssText=ie;else{if(typeof Oe=="string"&&(q.style.cssText=Oe=""),Oe)for(W in Oe)ie&&W in ie||de(q.style,W,"");if(ie)for(W in ie)Oe&&ie[W]===Oe[W]||de(q.style,W,ie[W])}else if(W[0]==="o"&&W[1]==="n")we=W!==(W=W.replace(/Capture$/,"")),W=W.toLowerCase()in q?W.toLowerCase().slice(2):W.slice(2),q.l||(q.l={}),q.l[W+we]=ie,ie?Oe||q.addEventListener(W,we?Se:ve,we):q.removeEventListener(W,we?Se:ve,we);else if(W!=="dangerouslySetInnerHTML"){if(je)W=W.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(W!=="href"&&W!=="list"&&W!=="form"&&W!=="tabIndex"&&W!=="download"&&W in q)try{q[W]=ie==null?"":ie;break e}catch(Ve){}typeof ie=="function"||(ie!=null&&(ie!==!1||W[0]==="a"&&W[1]==="r")?q.setAttribute(W,ie):q.removeAttribute(W))}}function ve(q){this.l[q.type+!1](c.event?c.event(q):q)}function Se(q){this.l[q.type+!0](c.event?c.event(q):q)}function be(q,W,ie,Oe,je,we,Ve,$e,Ke){var Ye,ge,ze,$,Ce,it,gt,rt,ft,xt,Et,ot=W.type;if(W.constructor!==void 0)return null;ie.__h!=null&&(Ke=ie.__h,$e=W.__e=ie.__e,W.__h=null,we=[$e]),(Ye=c.__b)&&Ye(W);try{e:if(typeof ot=="function"){if(rt=W.props,ft=(Ye=ot.contextType)&&Oe[Ye.__c],xt=Ye?ft?ft.props.value:Ye.__:Oe,ie.__c?gt=(ge=W.__c=ie.__c).__=ge.__E:("prototype"in ot&&ot.prototype.render?W.__c=ge=new ot(rt,xt):(W.__c=ge=new J(rt,xt),ge.constructor=ot,ge.render=Be),ft&&ft.sub(ge),ge.props=rt,ge.state||(ge.state={}),ge.context=xt,ge.__n=Oe,ze=ge.__d=!0,ge.__h=[]),ge.__s==null&&(ge.__s=ge.state),ot.getDerivedStateFromProps!=null&&(ge.__s==ge.state&&(ge.__s=N({},ge.__s)),N(ge.__s,ot.getDerivedStateFromProps(rt,ge.__s))),$=ge.props,Ce=ge.state,ze)ot.getDerivedStateFromProps==null&&ge.componentWillMount!=null&&ge.componentWillMount(),ge.componentDidMount!=null&&ge.__h.push(ge.componentDidMount);else{if(ot.getDerivedStateFromProps==null&&rt!==$&&ge.componentWillReceiveProps!=null&&ge.componentWillReceiveProps(rt,xt),!ge.__e&&ge.shouldComponentUpdate!=null&&ge.shouldComponentUpdate(rt,ge.__s,xt)===!1||W.__v===ie.__v){ge.props=rt,ge.state=ge.__s,W.__v!==ie.__v&&(ge.__d=!1),ge.__v=W,W.__e=ie.__e,W.__k=ie.__k,W.__k.forEach(function(kt){kt&&(kt.__=W)}),ge.__h.length&&Ve.push(ge);break e}ge.componentWillUpdate!=null&&ge.componentWillUpdate(rt,ge.__s,xt),ge.componentDidUpdate!=null&&ge.__h.push(function(){ge.componentDidUpdate($,Ce,it)})}ge.context=xt,ge.props=rt,ge.state=ge.__s,(Ye=c.__r)&&Ye(W),ge.__d=!1,ge.__v=W,ge.__P=q,Ye=ge.render(ge.props,ge.state,ge.context),ge.state=ge.__s,ge.getChildContext!=null&&(Oe=N(N({},Oe),ge.getChildContext())),ze||ge.getSnapshotBeforeUpdate==null||(it=ge.getSnapshotBeforeUpdate($,Ce)),Et=Ye!=null&&Ye.type===oe&&Ye.key==null?Ye.props.children:Ye,R(q,Array.isArray(Et)?Et:[Et],W,ie,Oe,je,we,Ve,$e,Ke),ge.base=W.__e,W.__h=null,ge.__h.length&&Ve.push(ge),gt&&(ge.__E=ge.__=null),ge.__e=!1}else we==null&&W.__v===ie.__v?(W.__k=ie.__k,W.__e=ie.__e):W.__e=he(ie.__e,W,ie,Oe,je,we,Ve,Ke);(Ye=c.diffed)&&Ye(W)}catch(kt){W.__v=null,(Ke||we!=null)&&(W.__e=$e,W.__h=!!Ke,we[we.indexOf($e)]=null),c.__e(kt,W,ie)}}function ue(q,W){c.__c&&c.__c(W,q),q.some(function(ie){try{q=ie.__h,ie.__h=[],q.some(function(Oe){Oe.call(ie)})}catch(Oe){c.__e(Oe,ie.__v)}})}function he(q,W,ie,Oe,je,we,Ve,$e){var Ke,Ye,ge,ze=ie.props,$=W.props,Ce=W.type,it=0;if(Ce==="svg"&&(je=!0),we!=null){for(;it<we.length;it++)if((Ke=we[it])&&"setAttribute"in Ke==!!Ce&&(Ce?Ke.localName===Ce:Ke.nodeType===3)){q=Ke,we[it]=null;break}}if(q==null){if(Ce===null)return document.createTextNode($);q=je?document.createElementNS("http://www.w3.org/2000/svg",Ce):document.createElement(Ce,$.is&&$),we=null,$e=!1}if(Ce===null)ze===$||$e&&q.data===$||(q.data=$);else{if(we=we&&f.call(q.childNodes),Ye=(ze=ie.props||j).dangerouslySetInnerHTML,ge=$.dangerouslySetInnerHTML,!$e){if(we!=null)for(ze={},it=0;it<q.attributes.length;it++)ze[q.attributes[it].name]=q.attributes[it].value;(ge||Ye)&&(ge&&(Ye&&ge.__html==Ye.__html||ge.__html===q.innerHTML)||(q.innerHTML=ge&&ge.__html||""))}if(function(gt,rt,ft,xt,Et){var ot;for(ot in ft)ot==="children"||ot==="key"||ot in rt||le(gt,ot,null,ft[ot],xt);for(ot in rt)Et&&typeof rt[ot]!="function"||ot==="children"||ot==="key"||ot==="value"||ot==="checked"||ft[ot]===rt[ot]||le(gt,ot,rt[ot],ft[ot],xt)}(q,$,ze,je,$e),ge)W.__k=[];else if(it=W.props.children,R(q,Array.isArray(it)?it:[it],W,ie,Oe,je&&Ce!=="foreignObject",we,Ve,we?we[0]:ie.__k&&Y(ie,0),$e),we!=null)for(it=we.length;it--;)we[it]!=null&&L(we[it]);$e||("value"in $&&(it=$.value)!==void 0&&(it!==ze.value||it!==q.value||Ce==="progress"&&!it)&&le(q,"value",it,ze.value,!1),"checked"in $&&(it=$.checked)!==void 0&&it!==q.checked&&le(q,"checked",it,ze.checked,!1))}return q}function me(q,W,ie){try{typeof q=="function"?q(W):q.current=W}catch(Oe){c.__e(Oe,ie)}}function Ae(q,W,ie){var Oe,je;if(c.unmount&&c.unmount(q),(Oe=q.ref)&&(Oe.current&&Oe.current!==q.__e||me(Oe,null,W)),(Oe=q.__c)!=null){if(Oe.componentWillUnmount)try{Oe.componentWillUnmount()}catch(we){c.__e(we,W)}Oe.base=Oe.__P=null}if(Oe=q.__k)for(je=0;je<Oe.length;je++)Oe[je]&&Ae(Oe[je],W,typeof q.type!="function");ie||q.__e==null||L(q.__e),q.__e=q.__d=void 0}function Be(q,W,ie){return this.constructor(q,ie)}function Ze(q,W,ie){var Oe,je,we;c.__&&c.__(q,W),je=(Oe=typeof ie=="function")?null:ie&&ie.__k||W.__k,we=[],be(W,q=(!Oe&&ie||W).__k=G(oe,null,[q]),je||j,j,W.ownerSVGElement!==void 0,!Oe&&ie?[ie]:je?null:W.firstChild?f.call(W.childNodes):null,we,!Oe&&ie?ie:je?je.__e:W.firstChild,Oe),ue(we,q)}function Pe(q,W){Ze(q,W,Pe)}function Me(q,W,ie){var Oe,je,we,Ve=N({},q.props);for(we in W)we=="key"?Oe=W[we]:we=="ref"?je=W[we]:Ve[we]=W[we];return arguments.length>2&&(Ve.children=arguments.length>3?f.call(arguments,2):ie),B(q.type,Ve,Oe||q.key,je||q.ref,null)}function Qe(q,W){var ie={__c:W="__cC"+A++,__:q,Consumer:function(Oe,je){return Oe.children(je)},Provider:function(Oe){var je,we;return this.getChildContext||(je=[],(we={})[W]=this,this.getChildContext=function(){return we},this.shouldComponentUpdate=function(Ve){this.props.value!==Ve.value&&je.some(U)},this.sub=function(Ve){je.push(Ve);var $e=Ve.componentWillUnmount;Ve.componentWillUnmount=function(){je.splice(je.indexOf(Ve),1),$e&&$e.call(Ve)}}),Oe.children}};return ie.Provider.__=ie.Consumer.contextType=ie}f=P.slice,c={__e:function(q,W){for(var ie,Oe,je;W=W.__;)if((ie=W.__c)&&!ie.__)try{if((Oe=ie.constructor)&&Oe.getDerivedStateFromError!=null&&(ie.setState(Oe.getDerivedStateFromError(q)),je=ie.__d),ie.componentDidCatch!=null&&(ie.componentDidCatch(q),je=ie.__d),je)return ie.__E=ie}catch(we){q=we}throw q}},b=0,J.prototype.setState=function(q,W){var ie;ie=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof q=="function"&&(q=q(N({},ie),this.props)),q&&N(ie,q),q!=null&&this.__v&&(W&&this.__h.push(W),U(this))},J.prototype.forceUpdate=function(q){this.__v&&(this.__e=!0,q&&this.__h.push(q),U(this))},J.prototype.render=oe,m=[],w=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,M.__r=0,A=0},function(s,p,i){var f=i(116),c=i(44),b=i(178);f||c(Object.prototype,"toString",b,{unsafe:!0})},function(s,p,i){var f=i(39),c=i(83),b=i(70),m=i(56),w=i(111),_="Array Iterator",A=m.set,j=m.getterFor(_);s.exports=w(Array,"Array",function(P,T){A(this,{type:_,target:f(P),index:0,kind:T})},function(){var P=j(this),T=P.target,N=P.kind,L=P.index++;return!T||L>=T.length?(P.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:L,done:!1}:N=="values"?{value:T[L],done:!1}:{value:[L,T[L]],done:!1}},"values"),b.Arguments=b.Array,c("keys"),c("values"),c("entries")},function(s,p,i){var f=i(7),c=i(147),b=i(148),m=i(3),w=i(57),_=i(27),A=_("iterator"),j=_("toStringTag"),P=m.values,T=function(L,G){if(L){if(L[A]!==P)try{w(L,A,P)}catch(V){L[A]=P}if(L[j]||w(L,j,G),c[G]){for(var B in m)if(L[B]!==m[B])try{w(L,B,m[B])}catch(V){L[B]=m[B]}}}};for(var N in c)T(f[N]&&f[N].prototype,N);T(b,"DOMTokenList")},function(s,p,i){var f=i(16),c=i(7),b=i(46),m=i(76),w=i(35),_=i(15),A=i(64),j=i(36),P=i(109),T=i(18),N=i(34),L=i(99),G=i(28),B=i(33),V=i(58),oe=i(88),J=i(32),Y=i(38),Z=i(39),U=i(87),M=i(40),R=i(71),I=i(54),z=i(66),K=i(72),de=i(139),le=i(112),ve=i(51),Se=i(37),be=i(93),ue=i(101),he=i(44),me=i(84),Ae=i(91),Be=i(69),Ze=i(85),Pe=i(27),Me=i(149),Qe=i(150),q=i(73),W=i(56),ie=i(74).forEach,Oe=Ae("hidden"),je="Symbol",we=Pe("toPrimitive"),Ve=W.set,$e=W.getterFor(je),Ke=Object.prototype,Ye=c.Symbol,ge=Ye&&Ye.prototype,ze=c.TypeError,$=c.QObject,Ce=b("JSON","stringify"),it=ve.f,gt=Se.f,rt=de.f,ft=be.f,xt=_([].push),Et=me("symbols"),ot=me("op-symbols"),kt=me("string-to-symbol-registry"),H=me("symbol-to-string-registry"),ne=me("wks"),X=!$||!$.prototype||!$.prototype.findChild,se=j&&T(function(){return I(gt({},"a",{get:function(){return gt(this,"a",{value:7}).a}})).a!=7})?function(Ie,Xe,qe){var et=it(Ke,Xe);et&&delete Ke[Xe],gt(Ie,Xe,qe),et&&Ie!==Ke&&gt(Ke,Xe,et)}:gt,ke=function(Ie,Xe){var qe=Et[Ie]=I(ge);return Ve(qe,{type:je,tag:Ie,description:Xe}),j||(qe.description=Xe),qe},De=function(Ie,Xe,qe){Ie===Ke&&De(ot,Xe,qe),J(Ie);var et=U(Xe);return J(qe),N(Et,et)?(qe.enumerable?(N(Ie,Oe)&&Ie[Oe][et]&&(Ie[Oe][et]=!1),qe=I(qe,{enumerable:R(0,!1)})):(N(Ie,Oe)||gt(Ie,Oe,R(1,{})),Ie[Oe][et]=!0),se(Ie,et,qe)):gt(Ie,et,qe)},Ge=function(Ie,Xe){J(Ie);var qe=Z(Xe),et=z(qe).concat(Dt(qe));return ie(et,function(Ot){j&&!w(ct,qe,Ot)||De(Ie,Ot,qe[Ot])}),Ie},ct=function(Ie){var Xe=U(Ie),qe=w(ft,this,Xe);return!(this===Ke&&N(Et,Xe)&&!N(ot,Xe))&&(!(qe||!N(this,Xe)||!N(Et,Xe)||N(this,Oe)&&this[Oe][Xe])||qe)},Bt=function(Ie,Xe){var qe=Z(Ie),et=U(Xe);if(qe!==Ke||!N(Et,et)||N(ot,et)){var Ot=it(qe,et);return!Ot||!N(Et,et)||N(qe,Oe)&&qe[Oe][et]||(Ot.enumerable=!0),Ot}},Ht=function(Ie){var Xe=rt(Z(Ie)),qe=[];return ie(Xe,function(et){N(Et,et)||N(Be,et)||xt(qe,et)}),qe},Dt=function(Ie){var Xe=Ie===Ke,qe=rt(Xe?ot:Z(Ie)),et=[];return ie(qe,function(Ot){!N(Et,Ot)||Xe&&!N(Ke,Ot)||xt(et,Et[Ot])}),et};if(P||(Ye=function(){if(V(ge,this))throw ze("Symbol is not a constructor");var Ie=arguments.length&&arguments[0]!==void 0?M(arguments[0]):void 0,Xe=Ze(Ie),qe=function(et){this===Ke&&w(qe,ot,et),N(this,Oe)&&N(this[Oe],Xe)&&(this[Oe][Xe]=!1),se(this,Xe,R(1,et))};return j&&X&&se(Ke,Xe,{configurable:!0,set:qe}),ke(Xe,Ie)},he(ge=Ye.prototype,"toString",function(){return $e(this).tag}),he(Ye,"withoutSetter",function(Ie){return ke(Ze(Ie),Ie)}),be.f=ct,Se.f=De,ve.f=Bt,K.f=de.f=Ht,le.f=Dt,Me.f=function(Ie){return ke(Pe(Ie),Ie)},j&&(gt(ge,"description",{configurable:!0,get:function(){return $e(this).description}}),A||he(Ke,"propertyIsEnumerable",ct,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!P,sham:!P},{Symbol:Ye}),ie(z(ne),function(Ie){Qe(Ie)}),f({target:je,stat:!0,forced:!P},{for:function(Ie){var Xe=M(Ie);if(N(kt,Xe))return kt[Xe];var qe=Ye(Xe);return kt[Xe]=qe,H[qe]=Xe,qe},keyFor:function(Ie){if(!oe(Ie))throw ze(Ie+" is not a symbol");if(N(H,Ie))return H[Ie]},useSetter:function(){X=!0},useSimple:function(){X=!1}}),f({target:"Object",stat:!0,forced:!P,sham:!j},{create:function(Ie,Xe){return Xe===void 0?I(Ie):Ge(I(Ie),Xe)},defineProperty:De,defineProperties:Ge,getOwnPropertyDescriptor:Bt}),f({target:"Object",stat:!0,forced:!P},{getOwnPropertyNames:Ht,getOwnPropertySymbols:Dt}),f({target:"Object",stat:!0,forced:T(function(){le.f(1)})},{getOwnPropertySymbols:function(Ie){return le.f(Y(Ie))}}),Ce&&f({target:"JSON",stat:!0,forced:!P||T(function(){var Ie=Ye();return Ce([Ie])!="[null]"||Ce({a:Ie})!="{}"||Ce(Object(Ie))!="{}"})},{stringify:function(Ie,Xe,qe){var et=ue(arguments),Ot=Xe;if((B(Xe)||Ie!==void 0)&&!oe(Ie))return L(Xe)||(Xe=function(Pt,ur){if(G(Ot)&&(ur=w(Ot,this,Pt,ur)),!oe(ur))return ur}),et[1]=Xe,m(Ce,null,et)}}),!ge[we]){var Mt=ge.valueOf;he(ge,we,function(Ie){return w(Mt,this)})}q(Ye,je),Be[Oe]=!0},function(s,p,i){var f=i(146).charAt,c=i(40),b=i(56),m=i(111),w="String Iterator",_=b.set,A=b.getterFor(w);m(String,"String",function(j){_(this,{type:w,string:c(j),index:0})},function(){var j,P=A(this),T=P.string,N=P.index;return N>=T.length?{value:void 0,done:!0}:(j=f(T,N),P.index+=j.length,{value:j,done:!1})})},function(s,p,i){(function(f){var c=function(b){return b&&b.Math==Math&&b};s.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(s,p,i){var f=i(16),c=i(36),b=i(7),m=i(15),w=i(34),_=i(28),A=i(58),j=i(40),P=i(37).f,T=i(134),N=b.Symbol,L=N&&N.prototype;if(c&&_(N)&&(!("description"in L)||N().description!==void 0)){var G={},B=function(){var M=arguments.length<1||arguments[0]===void 0?void 0:j(arguments[0]),R=A(L,this)?new N(M):M===void 0?N():N(M);return M===""&&(G[R]=!0),R};T(B,N),B.prototype=L,L.constructor=B;var V=String(N("test"))=="Symbol(test)",oe=m(L.toString),J=m(L.valueOf),Y=/^Symbol\((.*)\)[^)]+$/,Z=m("".replace),U=m("".slice);P(L,"description",{configurable:!0,get:function(){var M=J(this),R=oe(M);if(w(G,M))return"";var I=V?U(R,7,-1):Z(R,Y,"$1");return I===""?void 0:I}}),f({global:!0,forced:!0},{Symbol:B})}},function(s,p,i){i(150)("iterator")},function(s,p,i){i.d(p,"a",function(){return m.a}),i.d(p,"c",function(){return m.e}),i.d(p,"h",function(){return Y}),i.d(p,"i",function(){return V}),i.d(p,"j",function(){return G}),i.d(p,"b",function(){return ve}),i.d(p,"e",function(){return he}),i.d(p,"f",function(){return Se}),i.d(p,"g",function(){return Et});var f,c,b,m=i(1),w=0,_=[],A=m.i.__b,j=m.i.__r,P=m.i.diffed,T=m.i.__c,N=m.i.unmount;function L(H,ne){m.i.__h&&m.i.__h(c,H,w||ne),w=0;var X=c.__H||(c.__H={__:[],__h:[]});return H>=X.__.length&&X.__.push({}),X.__[H]}function G(H){return w=1,B(K,H)}function B(H,ne,X){var se=L(f++,2);return se.t=H,se.__c||(se.__=[X?X(ne):K(void 0,ne),function(ke){var De=se.t(se.__[0],ke);se.__[0]!==De&&(se.__=[De,se.__[1]],se.__c.setState({}))}],se.__c=c),se.__}function V(H,ne){var X=L(f++,3);!m.i.__s&&z(X.__H,ne)&&(X.__=H,X.__H=ne,c.__H.__h.push(X))}function oe(H,ne){var X=L(f++,4);!m.i.__s&&z(X.__H,ne)&&(X.__=H,X.__H=ne,c.__h.push(X))}function J(H,ne){var X=L(f++,7);return z(X.__H,ne)&&(X.__=H(),X.__H=ne,X.__h=H),X.__}function Y(H,ne){return w=8,J(function(){return H},ne)}function Z(){var H;for(_.sort(function(ne,X){return ne.__v.__b-X.__v.__b});H=_.pop();)if(H.__P)try{H.__H.__h.forEach(R),H.__H.__h.forEach(I),H.__H.__h=[]}catch(ne){H.__H.__h=[],m.i.__e(ne,H.__v)}}m.i.__b=function(H){c=null,A&&A(H)},m.i.__r=function(H){j&&j(H),f=0;var ne=(c=H.__c).__H;ne&&(ne.__h.forEach(R),ne.__h.forEach(I),ne.__h=[])},m.i.diffed=function(H){P&&P(H);var ne=H.__c;ne&&ne.__H&&ne.__H.__h.length&&(_.push(ne)!==1&&b===m.i.requestAnimationFrame||((b=m.i.requestAnimationFrame)||M)(Z)),c=null},m.i.__c=function(H,ne){ne.some(function(X){try{X.__h.forEach(R),X.__h=X.__h.filter(function(se){return!se.__||I(se)})}catch(se){ne.some(function(ke){ke.__h&&(ke.__h=[])}),ne=[],m.i.__e(se,X.__v)}}),T&&T(H,ne)},m.i.unmount=function(H){N&&N(H);var ne,X=H.__c;X&&X.__H&&(X.__H.__.forEach(function(se){try{R(se)}catch(ke){ne=ke}}),ne&&m.i.__e(ne,X.__v))};var U=typeof requestAnimationFrame=="function";function M(H){var ne,X=function(){clearTimeout(se),U&&cancelAnimationFrame(ne),setTimeout(H)},se=setTimeout(X,100);U&&(ne=requestAnimationFrame(X))}function R(H){var ne=c,X=H.__c;typeof X=="function"&&(H.__c=void 0,X()),c=ne}function I(H){var ne=c;H.__c=H.__(),c=ne}function z(H,ne){return!H||H.length!==ne.length||ne.some(function(X,se){return X!==H[se]})}function K(H,ne){return typeof ne=="function"?ne(H):ne}function de(H,ne){for(var X in ne)H[X]=ne[X];return H}function le(H,ne){for(var X in H)if(X!=="__source"&&!(X in ne))return!0;for(var se in ne)if(se!=="__source"&&H[se]!==ne[se])return!0;return!1}function ve(H){this.props=H}function Se(H,ne){function X(ke){var De=this.props.ref,Ge=De==ke.ref;return!Ge&&De&&(De.call?De(null):De.current=null),ne?!ne(this.props,ke)||!Ge:le(this.props,ke)}function se(ke){return this.shouldComponentUpdate=X,Object(m.e)(H,ke)}return se.displayName="Memo("+(H.displayName||H.name)+")",se.prototype.isReactComponent=!0,se.__f=!0,se}(ve.prototype=new m.a).isPureReactComponent=!0,ve.prototype.shouldComponentUpdate=function(H,ne){return le(this.props,H)||le(this.state,ne)};var be=m.i.__b;m.i.__b=function(H){H.type&&H.type.__f&&H.ref&&(H.props.ref=H.ref,H.ref=null),be&&be(H)};var ue=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function he(H){function ne(X,se){var ke=de({},X);return delete ke.ref,H(ke,!(se=X.ref||se)||typeof se=="object"&&!("current"in se)?null:se)}return ne.$$typeof=ue,ne.render=ne,ne.prototype.isReactComponent=ne.__f=!0,ne.displayName="ForwardRef("+(H.displayName||H.name)+")",ne}var me=function(H,ne){return H==null?null:Object(m.k)(Object(m.k)(H).map(ne))},Ae={map:me,forEach:me,count:function(H){return H?Object(m.k)(H).length:0},only:function(H){var ne=Object(m.k)(H);if(ne.length!==1)throw"Children.only";return ne[0]},toArray:m.k},Be=m.i.__e;m.i.__e=function(H,ne,X){if(H.then){for(var se,ke=ne;ke=ke.__;)if((se=ke.__c)&&se.__c)return ne.__e==null&&(ne.__e=X.__e,ne.__k=X.__k),se.__c(H,ne)}Be(H,ne,X)};var Ze=m.i.unmount;function Pe(H,ne,X){return H&&(H.__c&&H.__c.__H&&(H.__c.__H.__.forEach(function(se){typeof se.__c=="function"&&se.__c()}),H.__c.__H=null),(H=de({},H)).__c!=null&&(H.__c.__P===X&&(H.__c.__P=ne),H.__c=null),H.__k=H.__k&&H.__k.map(function(se){return Pe(se,ne,X)})),H}function Me(H,ne,X){return H&&(H.__v=null,H.__k=H.__k&&H.__k.map(function(se){return Me(se,ne,X)}),H.__c&&H.__c.__P===ne&&(H.__e&&X.insertBefore(H.__e,H.__d),H.__c.__e=!0,H.__c.__P=X)),H}function Qe(){this.__u=0,this.t=null,this.__b=null}function q(H){var ne=H.__.__c;return ne&&ne.__e&&ne.__e(H)}function W(){this.u=null,this.o=null}m.i.unmount=function(H){var ne=H.__c;ne&&ne.__R&&ne.__R(),ne&&H.__h===!0&&(H.type=null),Ze&&Ze(H)},(Qe.prototype=new m.a).__c=function(H,ne){var X=ne.__c,se=this;se.t==null&&(se.t=[]),se.t.push(X);var ke=q(se.__v),De=!1,Ge=function(){De||(De=!0,X.__R=null,ke?ke(ct):ct())};X.__R=Ge;var ct=function(){if(!--se.__u){if(se.state.__e){var Ht=se.state.__e;se.__v.__k[0]=Me(Ht,Ht.__c.__P,Ht.__c.__O)}var Dt;for(se.setState({__e:se.__b=null});Dt=se.t.pop();)Dt.forceUpdate()}},Bt=ne.__h===!0;se.__u++||Bt||se.setState({__e:se.__b=se.__v.__k[0]}),H.then(Ge,Ge)},Qe.prototype.componentWillUnmount=function(){this.t=[]},Qe.prototype.render=function(H,ne){if(this.__b){if(this.__v.__k){var X=document.createElement("div"),se=this.__v.__k[0].__c;this.__v.__k[0]=Pe(this.__b,X,se.__O=se.__P)}this.__b=null}var ke=ne.__e&&Object(m.e)(m.b,null,H.fallback);return ke&&(ke.__h=null),[Object(m.e)(m.b,null,ne.__e?null:H.children),ke]};var ie=function(H,ne,X){if(++X[1]===X[0]&&H.o.delete(ne),H.props.revealOrder&&(H.props.revealOrder[0]!=="t"||!H.o.size))for(X=H.u;X;){for(;X.length>3;)X.pop()();if(X[1]<X[0])break;H.u=X=X[2]}};function Oe(H){return this.getChildContext=function(){return H.context},H.children}function je(H){var ne=this,X=H.i;ne.componentWillUnmount=function(){Object(m.j)(null,ne.l),ne.l=null,ne.i=null},ne.i&&ne.i!==X&&ne.componentWillUnmount(),H.__v?(ne.l||(ne.i=X,ne.l={nodeType:1,parentNode:X,childNodes:[],appendChild:function(se){this.childNodes.push(se),ne.i.appendChild(se)},insertBefore:function(se,ke){this.childNodes.push(se),ne.i.appendChild(se)},removeChild:function(se){this.childNodes.splice(this.childNodes.indexOf(se)>>>1,1),ne.i.removeChild(se)}}),Object(m.j)(Object(m.e)(Oe,{context:ne.context},H.__v),ne.l)):ne.l&&ne.componentWillUnmount()}(W.prototype=new m.a).__e=function(H){var ne=this,X=q(ne.__v),se=ne.o.get(H);return se[0]++,function(ke){var De=function(){ne.props.revealOrder?(se.push(ke),ie(ne,H,se)):ke()};X?X(De):De()}},W.prototype.render=function(H){this.u=null,this.o=new Map;var ne=Object(m.k)(H.children);H.revealOrder&&H.revealOrder[0]==="b"&&ne.reverse();for(var X=ne.length;X--;)this.o.set(ne[X],this.u=[1,0,this.u]);return H.children},W.prototype.componentDidUpdate=W.prototype.componentDidMount=function(){var H=this;this.o.forEach(function(ne,X){ie(H,X,ne)})};var we=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Ve=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$e=typeof document!="undefined",Ke=function(H){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(H)};m.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(H){Object.defineProperty(m.a.prototype,H,{configurable:!0,get:function(){return this["UNSAFE_"+H]},set:function(ne){Object.defineProperty(this,H,{configurable:!0,writable:!0,value:ne})}})});var Ye=m.i.event;function ge(){}function ze(){return this.cancelBubble}function $(){return this.defaultPrevented}m.i.event=function(H){return Ye&&(H=Ye(H)),H.persist=ge,H.isPropagationStopped=ze,H.isDefaultPrevented=$,H.nativeEvent=H};var Ce,it={configurable:!0,get:function(){return this.class}},gt=m.i.vnode;m.i.vnode=function(H){var ne=H.type,X=H.props,se=X;if(typeof ne=="string"){var ke=ne.indexOf("-")===-1;for(var De in se={},X){var Ge=X[De];$e&&De==="children"&&ne==="noscript"||De==="value"&&"defaultValue"in X&&Ge==null||(De==="defaultValue"&&"value"in X&&X.value==null?De="value":De==="download"&&Ge===!0?Ge="":/ondoubleclick/i.test(De)?De="ondblclick":/^onchange(textarea|input)/i.test(De+ne)&&!Ke(X.type)?De="oninput":/^onfocus$/i.test(De)?De="onfocusin":/^onblur$/i.test(De)?De="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(De)?De=De.toLowerCase():ke&&Ve.test(De)?De=De.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ge===null&&(Ge=void 0),se[De]=Ge)}ne=="select"&&se.multiple&&Array.isArray(se.value)&&(se.value=Object(m.k)(X.children).forEach(function(ct){ct.props.selected=se.value.indexOf(ct.props.value)!=-1})),ne=="select"&&se.defaultValue!=null&&(se.value=Object(m.k)(X.children).forEach(function(ct){ct.props.selected=se.multiple?se.defaultValue.indexOf(ct.props.value)!=-1:se.defaultValue==ct.props.value})),H.props=se,X.class!=X.className&&(it.enumerable="className"in X,X.className!=null&&(se.class=X.className),Object.defineProperty(se,"className",it))}H.$$typeof=we,gt&&gt(H)};var rt=m.i.__r;m.i.__r=function(H){rt&&rt(H),Ce=H.__c};var ft={ReactCurrentDispatcher:{current:{readContext:function(H){return Ce.__n[H.__c].props.value}}}};function xt(H){return!!H&&H.$$typeof===we}var Et=function(H,ne){return H(ne)},ot=m.b,kt={useState:G,useReducer:B,useEffect:V,useLayoutEffect:oe,useRef:function(H){return w=5,J(function(){return{current:H}},[])},useImperativeHandle:function(H,ne,X){w=6,oe(function(){typeof H=="function"?H(ne()):H&&(H.current=ne())},X==null?X:X.concat(H))},useMemo:J,useCallback:Y,useContext:function(H){var ne=c.context[H.__c],X=L(f++,9);return X.c=H,ne?(X.__==null&&(X.__=!0,ne.sub(c)),ne.props.value):H.__},useDebugValue:function(H,ne){m.i.useDebugValue&&m.i.useDebugValue(ne?ne(H):H)},version:"17.0.2",Children:Ae,render:function(H,ne,X){return ne.__k==null&&(ne.textContent=""),Object(m.j)(H,ne),typeof X=="function"&&X(),H?H.__c:null},hydrate:function(H,ne,X){return Object(m.h)(H,ne),typeof X=="function"&&X(),H?H.__c:null},unmountComponentAtNode:function(H){return!!H.__k&&(Object(m.j)(null,H),!0)},createPortal:function(H,ne){return Object(m.e)(je,{__v:H,i:ne})},createElement:m.e,createContext:m.d,createFactory:function(H){return m.e.bind(null,H)},cloneElement:function(H){return xt(H)?m.c.apply(null,arguments):H},createRef:m.f,Fragment:m.b,isValidElement:xt,findDOMNode:function(H){return H&&(H.base||H.nodeType===1&&H)||null},Component:m.a,PureComponent:ve,memo:Se,forwardRef:he,flushSync:function(H,ne){return H(ne)},unstable_batchedUpdates:Et,StrictMode:ot,Suspense:Qe,SuspenseList:W,lazy:function(H){var ne,X,se;function ke(De){if(ne||(ne=H()).then(function(Ge){X=Ge.default||Ge},function(Ge){se=Ge}),se)throw se;if(!X)throw ne;return Object(m.e)(X,De)}return ke.displayName="Lazy",ke.__f=!0,ke},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ft};p.d=kt},function(s,p,i){var f=i(7),c=i(147),b=i(148),m=i(179),w=i(57),_=function(j){if(j&&j.forEach!==m)try{w(j,"forEach",m)}catch(P){j.forEach=m}};for(var A in c)c[A]&&_(f[A]&&f[A].prototype);_(b)},function(s,p,i){i(16)({target:"Object",stat:!0},{setPrototypeOf:i(97)})},function(s,p,i){var f=i(16),c=i(18),b=i(38),m=i(96),w=i(137);f({target:"Object",stat:!0,forced:c(function(){m(1)}),sham:!w},{getPrototypeOf:function(_){return m(b(_))}})},function(s,p,i){var f=i(16),c=i(46),b=i(76),m=i(198),w=i(157),_=i(32),A=i(33),j=i(54),P=i(18),T=c("Reflect","construct"),N=Object.prototype,L=[].push,G=P(function(){function oe(){}return!(T(function(){},[],oe)instanceof oe)}),B=!P(function(){T(function(){})}),V=G||B;f({target:"Reflect",stat:!0,forced:V,sham:V},{construct:function(oe,J){w(oe),_(J);var Y=arguments.length<3?oe:w(arguments[2]);if(B&&!G)return T(oe,J,Y);if(oe==Y){switch(J.length){case 0:return new oe;case 1:return new oe(J[0]);case 2:return new oe(J[0],J[1]);case 3:return new oe(J[0],J[1],J[2]);case 4:return new oe(J[0],J[1],J[2],J[3])}var Z=[null];return b(L,Z,J),new(b(m,oe,Z))}var U=Y.prototype,M=j(A(U)?U:N),R=b(oe,M,J);return A(R)?R:M}})},function(s,p){var i=Function.prototype,f=i.bind,c=i.call,b=f&&f.bind(c);s.exports=f?function(m){return m&&b(c,m)}:function(m){return m&&function(){return c.apply(m,arguments)}}},function(s,p,i){var f=i(7),c=i(51).f,b=i(57),m=i(44),w=i(108),_=i(134),A=i(95);s.exports=function(j,P){var T,N,L,G,B,V=j.target,oe=j.global,J=j.stat;if(T=oe?f:J?f[V]||w(V,{}):(f[V]||{}).prototype)for(N in P){if(G=P[N],L=j.noTargetGet?(B=c(T,N))&&B.value:T[N],!A(oe?N:V+(J?".":"#")+N,j.forced)&&L!==void 0){if(typeof G==typeof L)continue;_(G,L)}(j.sham||L&&L.sham)&&b(G,"sham",!0),m(T,N,G,j)}}},function(s,p,i){var f=i(16),c=i(7),b=i(99),m=i(100),w=i(33),_=i(67),A=i(43),j=i(39),P=i(61),T=i(27),N=i(75),L=i(101),G=N("slice"),B=T("species"),V=c.Array,oe=Math.max;f({target:"Array",proto:!0,forced:!G},{slice:function(J,Y){var Z,U,M,R=j(this),I=A(R),z=_(J,I),K=_(Y===void 0?I:Y,I);if(b(R)&&(Z=R.constructor,(m(Z)&&(Z===V||b(Z.prototype))||w(Z)&&(Z=Z[B])===null)&&(Z=void 0),Z===V||Z===void 0))return L(R,z,K);for(U=new(Z===void 0?V:Z)(oe(K-z,0)),M=0;z<K;z++,M++)z in R&&P(U,M,R[z]);return U.length=M,U}})},function(s,p){s.exports=function(i){try{return!!i()}catch(f){return!0}}},function(s,p,i){var f=i(16),c=i(102);f({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},function(s,p,i){var f=i(16),c=i(38),b=i(66);f({target:"Object",stat:!0,forced:i(18)(function(){b(1)})},{keys:function(m){return b(c(m))}})},function(s,p,i){var f=i(16),c=i(18),b=i(39),m=i(51).f,w=i(36),_=c(function(){m(1)});f({target:"Object",stat:!0,forced:!w||_,sham:!w},{getOwnPropertyDescriptor:function(A,j){return m(b(A),j)}})},function(s,p,i){var f=i(16),c=i(74).filter;f({target:"Array",proto:!0,forced:!i(75)("filter")},{filter:function(b){return c(this,b,arguments.length>1?arguments[1]:void 0)}})},function(s,p,i){var f=i(16),c=i(36),b=i(135),m=i(39),w=i(51),_=i(61);f({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(A){for(var j,P,T=m(A),N=w.f,L=b(T),G={},B=0;L.length>B;)(P=N(T,j=L[B++]))!==void 0&&_(G,j,P);return G}})},function(s,p,i){var f=i(36),c=i(94).EXISTS,b=i(15),m=i(37).f,w=Function.prototype,_=b(w.toString),A=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,j=b(A.exec);f&&!c&&m(w,"name",{configurable:!0,get:function(){try{return j(A,_(this))[1]}catch(P){return""}}})},function(s,p,i){var f=i(16),c=i(182);f({target:"Array",stat:!0,forced:!i(118)(function(b){Array.from(b)})},{from:c})},,function(s,p,i){var f=i(7),c=i(84),b=i(34),m=i(85),w=i(109),_=i(128),A=c("wks"),j=f.Symbol,P=j&&j.for,T=_?j:j&&j.withoutSetter||m;s.exports=function(N){if(!b(A,N)||!w&&typeof A[N]!="string"){var L="Symbol."+N;w&&b(j,N)?A[N]=j[N]:A[N]=_&&P?P(L):T(L)}return A[N]}},function(s,p){s.exports=function(i){return typeof i=="function"}},function(s,p,i){var f=i(16),c=i(7),b=i(18),m=i(99),w=i(33),_=i(38),A=i(43),j=i(61),P=i(119),T=i(75),N=i(27),L=i(65),G=N("isConcatSpreadable"),B=9007199254740991,V="Maximum allowed index exceeded",oe=c.TypeError,J=L>=51||!b(function(){var U=[];return U[G]=!1,U.concat()[0]!==U}),Y=T("concat"),Z=function(U){if(!w(U))return!1;var M=U[G];return M!==void 0?!!M:m(U)};f({target:"Array",proto:!0,forced:!J||!Y},{concat:function(U){var M,R,I,z,K,de=_(this),le=P(de,0),ve=0;for(M=-1,I=arguments.length;M<I;M++)if(Z(K=M===-1?de:arguments[M])){if(ve+(z=A(K))>B)throw oe(V);for(R=0;R<z;R++,ve++)R in K&&j(le,ve,K[R])}else{if(ve>=B)throw oe(V);j(le,ve++,K)}return le.length=ve,le}})},function(s,p,i){var f=i(105),c=typeof self=="object"&&self&&self.Object===Object&&self,b=f.a||c||Function("return this")();p.a=b},function(s,p,i){var f=i(16),c=i(200);f({target:"Object",stat:!0,forced:Object.assign!==c},{assign:c})},function(s,p,i){var f=i(7),c=i(33),b=f.String,m=f.TypeError;s.exports=function(w){if(c(w))return w;throw m(b(w)+" is not an object")}},function(s,p,i){var f=i(28);s.exports=function(c){return typeof c=="object"?c!==null:f(c)}},function(s,p,i){var f=i(15),c=i(38),b=f({}.hasOwnProperty);s.exports=Object.hasOwn||function(m,w){return b(c(m),w)}},function(s,p){var i=Function.prototype.call;s.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(s,p,i){var f=i(18);s.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(s,p,i){var f=i(7),c=i(36),b=i(129),m=i(32),w=i(87),_=f.TypeError,A=Object.defineProperty;p.f=c?A:function(j,P,T){if(m(j),P=w(P),m(T),b)try{return A(j,P,T)}catch(N){}if("get"in T||"set"in T)throw _("Accessors not supported");return"value"in T&&(j[P]=T.value),j}},function(s,p,i){var f=i(7),c=i(45),b=f.Object;s.exports=function(m){return b(c(m))}},function(s,p,i){var f=i(81),c=i(45);s.exports=function(b){return f(c(b))}},function(s,p,i){var f=i(7),c=i(98),b=f.String;s.exports=function(m){if(c(m)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return b(m)}},function(s,p,i){var f=i(16),c=i(74).map;f({target:"Array",proto:!0,forced:!i(75)("map")},{map:function(b){return c(this,b,arguments.length>1?arguments[1]:void 0)}})},function(s,p,i){(function(f){i.d(p,"d",function(){return m}),i.d(p,"c",function(){return w}),i.d(p,"b",function(){return _}),i.d(p,"a",function(){return j});var c=i(10),b=function(P,T){var N=typeof Symbol=="function"&&P[Symbol.iterator];if(!N)return P;var L,G,B=N.call(P),V=[];try{for(;(T===void 0||T-- >0)&&!(L=B.next()).done;)V.push(L.value)}catch(oe){G={error:oe}}finally{try{L&&!L.done&&(N=B.return)&&N.call(B)}finally{if(G)throw G.error}}return V};function m(){var P=b(Object(c.j)(0),2)[1];return Object(c.h)(function(){P(function(T){return T+1})},[])}function w(P){if(!P||typeof P!="object")return!1;var T=Object.getPrototypeOf(P);return!T||T===Object.prototype}function _(P){return typeof Symbol=="function"?Symbol.for(P):"__$mobx-react "+P+"__"}var A={};function j(){return typeof window!="undefined"?window:f!==void 0?f:typeof self!="undefined"?self:A}}).call(this,i(82))},function(s,p,i){var f=i(90);s.exports=function(c){return f(c.length)}},function(s,p,i){var f=i(7),c=i(28),b=i(34),m=i(57),w=i(108),_=i(92),A=i(56),j=i(94).CONFIGURABLE,P=A.get,T=A.enforce,N=String(String).split("String");(s.exports=function(L,G,B,V){var oe,J=!!V&&!!V.unsafe,Y=!!V&&!!V.enumerable,Z=!!V&&!!V.noTargetGet,U=V&&V.name!==void 0?V.name:G;c(B)&&(String(U).slice(0,7)==="Symbol("&&(U="["+String(U).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!b(B,"name")||j&&B.name!==U)&&m(B,"name",U),(oe=T(B)).source||(oe.source=N.join(typeof U=="string"?U:""))),L!==f?(J?!Z&&L[G]&&(Y=!0):delete L[G],Y?L[G]=B:m(L,G,B)):Y?L[G]=B:w(G,B)})(Function.prototype,"toString",function(){return c(this)&&P(this).source||_(this)})},function(s,p,i){var f=i(7).TypeError;s.exports=function(c){if(c==null)throw f("Can't call method on "+c);return c}},function(s,p,i){var f=i(7),c=i(28),b=function(m){return c(m)?m:void 0};s.exports=function(m,w){return arguments.length<2?b(f[m]):f[m]&&f[m][w]}},function(s,p,i){var f=i(16),c=i(35),b=i(33),m=i(32),w=i(199),_=i(51),A=i(96);f({target:"Reflect",stat:!0},{get:function j(P,T){var N,L,G=arguments.length<3?P:arguments[2];return m(P)===G?P[T]:(N=_.f(P,T))?w(N)?N.value:N.get===void 0?void 0:c(N.get,G):b(L=A(P))?j(L,T,G):void 0}})},function(s,p,i){(function(f){var c=i(30),b=i(165),m=y&&!y.nodeType&&y,w=m&&typeof f=="object"&&f&&!f.nodeType&&f,_=w&&w.exports===m?c.a.Buffer:void 0,A=(_?_.isBuffer:void 0)||b.a;p.a=A}).call(this,i(121)(s))},function(s,p,i){(function(f){var c=i(105),b=y&&!y.nodeType&&y,m=b&&typeof f=="object"&&f&&!f.nodeType&&f,w=m&&m.exports===b&&c.a.process,_=function(){try{var A=m&&m.require&&m.require("util").types;return A||w&&w.binding&&w.binding("util")}catch(j){}}();p.a=_}).call(this,i(121)(s))},function(s,p,i){var f=i(15),c=f({}.toString),b=f("".slice);s.exports=function(m){return b(c(m),8,-1)}},function(s,p,i){var f=i(36),c=i(35),b=i(93),m=i(71),w=i(39),_=i(87),A=i(34),j=i(129),P=Object.getOwnPropertyDescriptor;p.f=f?P:function(T,N){if(T=w(T),N=_(N),j)try{return P(T,N)}catch(L){}if(A(T,N))return m(!c(b.f,T,N),T[N])}},function(s,p,i){var f=i(16),c=i(213).entries;f({target:"Object",stat:!0},{entries:function(b){return c(b)}})},function(s,p,i){var f=i(46);s.exports=f("navigator","userAgent")||""},function(s,p,i){var f,c=i(32),b=i(168),m=i(110),w=i(69),_=i(133),A=i(86),j=i(91),P=j("IE_PROTO"),T=function(){},N=function(B){return"<script>"+B+"<\/script>"},L=function(B){B.write(N("")),B.close();var V=B.parentWindow.Object;return B=null,V},G=function(){try{f=new ActiveXObject("htmlfile")}catch(J){}var B,V;G=typeof document!="undefined"?document.domain&&f?L(f):((V=A("iframe")).style.display="none",_.appendChild(V),V.src=String("javascript:"),(B=V.contentWindow.document).open(),B.write(N("document.F=Object")),B.close(),B.F):L(f);for(var oe=m.length;oe--;)delete G.prototype[m[oe]];return G()};w[P]=!0,s.exports=Object.create||function(B,V){var oe;return B!==null?(T.prototype=c(B),oe=new T,T.prototype=null,oe[P]=B):oe=G(),V===void 0?oe:b(oe,V)}},function(s,p,i){var f=i(7),c=i(28),b=i(89),m=f.TypeError;s.exports=function(w){if(c(w))return w;throw m(b(w)+" is not a function")}},function(s,p,i){var f,c,b,m=i(170),w=i(7),_=i(15),A=i(33),j=i(57),P=i(34),T=i(107),N=i(91),L=i(69),G="Object already initialized",B=w.TypeError,V=w.WeakMap;if(m||T.state){var oe=T.state||(T.state=new V),J=_(oe.get),Y=_(oe.has),Z=_(oe.set);f=function(M,R){if(Y(oe,M))throw new B(G);return R.facade=M,Z(oe,M,R),R},c=function(M){return J(oe,M)||{}},b=function(M){return Y(oe,M)}}else{var U=N("state");L[U]=!0,f=function(M,R){if(P(M,U))throw new B(G);return R.facade=M,j(M,U,R),R},c=function(M){return P(M,U)?M[U]:{}},b=function(M){return P(M,U)}}s.exports={set:f,get:c,has:b,enforce:function(M){return b(M)?c(M):f(M,{})},getterFor:function(M){return function(R){var I;if(!A(R)||(I=c(R)).type!==M)throw B("Incompatible receiver, "+M+" required");return I}}}},function(s,p,i){var f=i(36),c=i(37),b=i(71);s.exports=f?function(m,w,_){return c.f(m,w,b(1,_))}:function(m,w,_){return m[w]=_,m}},function(s,p,i){var f=i(15);s.exports=f({}.isPrototypeOf)},function(s,p,i){var f=i(55);s.exports=function(c,b){var m=c[b];return m==null?void 0:f(m)}},function(s,p,i){i(173)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},i(177))},function(s,p,i){var f=i(87),c=i(37),b=i(71);s.exports=function(m,w,_){var A=f(w);A in m?c.f(m,A,b(0,_)):m[A]=_}},function(s,p,i){var f=i(15),c=i(55),b=f(f.bind);s.exports=function(m,w){return c(m),w===void 0?m:b?b(m,w):function(){return m.apply(w,arguments)}}},function(s,p,i){var f=i(16),c=i(214),b=i(83);f({target:"Array",proto:!0},{fill:c}),b("fill")},function(s,p){s.exports=!1},function(s,p,i){var f,c,b=i(7),m=i(53),w=b.process,_=b.Deno,A=w&&w.versions||_&&_.version,j=A&&A.v8;j&&(c=(f=j.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!c&&m&&(!(f=m.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=m.match(/Chrome\/(\d+)/))&&(c=+f[1]),s.exports=c},function(s,p,i){var f=i(131),c=i(110);s.exports=Object.keys||function(b){return f(b,c)}},function(s,p,i){var f=i(68),c=Math.max,b=Math.min;s.exports=function(m,w){var _=f(m);return _<0?c(_+w,0):b(_,w)}},function(s,p){var i=Math.ceil,f=Math.floor;s.exports=function(c){var b=+c;return b!=b||b===0?0:(b>0?f:i)(b)}},function(s,p){s.exports={}},function(s,p){s.exports={}},function(s,p){s.exports=function(i,f){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:f}}},function(s,p,i){var f=i(131),c=i(110).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(b){return f(b,c)}},function(s,p,i){var f=i(37).f,c=i(34),b=i(27)("toStringTag");s.exports=function(m,w,_){m&&!c(m=_?m:m.prototype,b)&&f(m,b,{configurable:!0,value:w})}},function(s,p,i){var f=i(62),c=i(15),b=i(81),m=i(38),w=i(43),_=i(119),A=c([].push),j=function(P){var T=P==1,N=P==2,L=P==3,G=P==4,B=P==6,V=P==7,oe=P==5||B;return function(J,Y,Z,U){for(var M,R,I=m(J),z=b(I),K=f(Y,Z),de=w(z),le=0,ve=U||_,Se=T?ve(J,de):N||V?ve(J,0):void 0;de>le;le++)if((oe||le in z)&&(R=K(M=z[le],le,I),P))if(T)Se[le]=R;else if(R)switch(P){case 3:return!0;case 5:return M;case 6:return le;case 2:A(Se,M)}else switch(P){case 4:return!1;case 7:A(Se,M)}return B?-1:L||G?G:Se}};s.exports={forEach:j(0),map:j(1),filter:j(2),some:j(3),every:j(4),find:j(5),findIndex:j(6),filterReject:j(7)}},function(s,p,i){var f=i(18),c=i(27),b=i(65),m=c("species");s.exports=function(w){return b>=51||!f(function(){var _=[];return(_.constructor={})[m]=function(){return{foo:1}},_[w](Boolean).foo!==1})}},function(s,p){var i=Function.prototype,f=i.apply,c=i.bind,b=i.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(c?b.bind(f):function(){return b.apply(f,arguments)})},function(s,p,i){var f=i(16),c=i(15),b=i(81),m=i(39),w=i(120),_=c([].join),A=b!=Object,j=w("join",",");f({target:"Array",proto:!0,forced:A||!j},{join:function(P){return _(m(this),P===void 0?",":P)}})},function(s,p,i){var f=i(76),c=i(35),b=i(15),m=i(122),w=i(154),_=i(32),A=i(45),j=i(156),P=i(123),T=i(90),N=i(40),L=i(59),G=i(113),B=i(124),V=i(102),oe=i(151),J=i(18),Y=oe.UNSUPPORTED_Y,Z=4294967295,U=Math.min,M=[].push,R=b(/./.exec),I=b(M),z=b("".slice),K=!J(function(){var de=/(?:)/,le=de.exec;de.exec=function(){return le.apply(this,arguments)};var ve="ab".split(de);return ve.length!==2||ve[0]!=="a"||ve[1]!=="b"});m("split",function(de,le,ve){var Se;return Se="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(be,ue){var he=N(A(this)),me=ue===void 0?Z:ue>>>0;if(me===0)return[];if(be===void 0)return[he];if(!w(be))return c(le,he,be,me);for(var Ae,Be,Ze,Pe=[],Me=(be.ignoreCase?"i":"")+(be.multiline?"m":"")+(be.unicode?"u":"")+(be.sticky?"y":""),Qe=0,q=new RegExp(be.source,Me+"g");(Ae=c(V,q,he))&&!((Be=q.lastIndex)>Qe&&(I(Pe,z(he,Qe,Ae.index)),Ae.length>1&&Ae.index<he.length&&f(M,Pe,G(Ae,1)),Ze=Ae[0].length,Qe=Be,Pe.length>=me));)q.lastIndex===Ae.index&&q.lastIndex++;return Qe===he.length?!Ze&&R(q,"")||I(Pe,""):I(Pe,z(he,Qe)),Pe.length>me?G(Pe,0,me):Pe}:"0".split(void 0,0).length?function(be,ue){return be===void 0&&ue===0?[]:c(le,this,be,ue)}:le,[function(be,ue){var he=A(this),me=be==null?void 0:L(be,de);return me?c(me,be,he,ue):c(Se,N(he),be,ue)},function(be,ue){var he=_(this),me=N(be),Ae=ve(Se,he,me,ue,Se!==le);if(Ae.done)return Ae.value;var Be=j(he,RegExp),Ze=he.unicode,Pe=(he.ignoreCase?"i":"")+(he.multiline?"m":"")+(he.unicode?"u":"")+(Y?"g":"y"),Me=new Be(Y?"^(?:"+he.source+")":he,Pe),Qe=ue===void 0?Z:ue>>>0;if(Qe===0)return[];if(me.length===0)return B(Me,me)===null?[me]:[];for(var q=0,W=0,ie=[];W<me.length;){Me.lastIndex=Y?0:W;var Oe,je=B(Me,Y?z(me,W):me);if(je===null||(Oe=U(T(Me.lastIndex+(Y?W:0)),me.length))===q)W=P(me,W,Ze);else{if(I(ie,z(me,q,W)),ie.length===Qe)return ie;for(var we=1;we<=je.length-1;we++)if(I(ie,je[we]),ie.length===Qe)return ie;W=q=Oe}}return I(ie,z(me,q)),ie}]},!K,Y)},function(s,p,i){var f=i(36),c=i(7),b=i(15),m=i(95),w=i(44),_=i(34),A=i(143),j=i(58),P=i(88),T=i(130),N=i(18),L=i(72).f,G=i(51).f,B=i(37).f,V=i(196),oe=i(159).trim,J="Number",Y=c.Number,Z=Y.prototype,U=c.TypeError,M=b("".slice),R=b("".charCodeAt),I=function(Se){var be=T(Se,"number");return typeof be=="bigint"?be:z(be)},z=function(Se){var be,ue,he,me,Ae,Be,Ze,Pe,Me=T(Se,"number");if(P(Me))throw U("Cannot convert a Symbol value to a number");if(typeof Me=="string"&&Me.length>2){if(Me=oe(Me),(be=R(Me,0))===43||be===45){if((ue=R(Me,2))===88||ue===120)return NaN}else if(be===48){switch(R(Me,1)){case 66:case 98:he=2,me=49;break;case 79:case 111:he=8,me=55;break;default:return+Me}for(Be=(Ae=M(Me,2)).length,Ze=0;Ze<Be;Ze++)if((Pe=R(Ae,Ze))<48||Pe>me)return NaN;return parseInt(Ae,he)}}return+Me};if(m(J,!Y(" 0o1")||!Y("0b1")||Y("+0x1"))){for(var K,de=function(Se){var be=arguments.length<1?0:Y(I(Se)),ue=this;return j(Z,ue)&&N(function(){V(ue)})?A(Object(be),ue,de):be},le=f?L(Y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ve=0;le.length>ve;ve++)_(Y,K=le[ve])&&!_(de,K)&&B(de,K,G(Y,K));de.prototype=Z,Z.constructor=de,w(c,J,de)}},function(s,p,i){i(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(s,p,i){var f=i(7),c=i(15),b=i(18),m=i(50),w=f.Object,_=c("".split);s.exports=b(function(){return!w("z").propertyIsEnumerable(0)})?function(A){return m(A)=="String"?_(A,""):w(A)}:w},function(s,p){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(f){typeof window=="object"&&(i=window)}s.exports=i},function(s,p,i){var f=i(27),c=i(54),b=i(37),m=f("unscopables"),w=Array.prototype;w[m]==null&&b.f(w,m,{configurable:!0,value:c(null)}),s.exports=function(_){w[m][_]=!0}},function(s,p,i){var f=i(64),c=i(107);(s.exports=function(b,m){return c[b]||(c[b]=m!==void 0?m:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(s,p,i){var f=i(15),c=0,b=Math.random(),m=f(1 .toString);s.exports=function(w){return"Symbol("+(w===void 0?"":w)+")_"+m(++c+b,36)}},function(s,p,i){var f=i(7),c=i(33),b=f.document,m=c(b)&&c(b.createElement);s.exports=function(w){return m?b.createElement(w):{}}},function(s,p,i){var f=i(130),c=i(88);s.exports=function(b){var m=f(b,"string");return c(m)?m:m+""}},function(s,p,i){var f=i(7),c=i(46),b=i(28),m=i(58),w=i(128),_=f.Object;s.exports=w?function(A){return typeof A=="symbol"}:function(A){var j=c("Symbol");return b(j)&&m(j.prototype,_(A))}},function(s,p,i){var f=i(7).String;s.exports=function(c){try{return f(c)}catch(b){return"Object"}}},function(s,p,i){var f=i(68),c=Math.min;s.exports=function(b){return b>0?c(f(b),9007199254740991):0}},function(s,p,i){var f=i(84),c=i(85),b=f("keys");s.exports=function(m){return b[m]||(b[m]=c(m))}},function(s,p,i){var f=i(15),c=i(28),b=i(107),m=f(Function.toString);c(b.inspectSource)||(b.inspectSource=function(w){return m(w)}),s.exports=b.inspectSource},function(s,p,i){var f={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,b=c&&!f.call({1:2},1);p.f=b?function(m){var w=c(this,m);return!!w&&w.enumerable}:f},function(s,p,i){var f=i(36),c=i(34),b=Function.prototype,m=f&&Object.getOwnPropertyDescriptor,w=c(b,"name"),_=w&&function(){}.name==="something",A=w&&(!f||f&&m(b,"name").configurable);s.exports={EXISTS:w,PROPER:_,CONFIGURABLE:A}},function(s,p,i){var f=i(18),c=i(28),b=/#|\.prototype\./,m=function(P,T){var N=_[w(P)];return N==j||N!=A&&(c(T)?f(T):!!T)},w=m.normalize=function(P){return String(P).replace(b,".").toLowerCase()},_=m.data={},A=m.NATIVE="N",j=m.POLYFILL="P";s.exports=m},function(s,p,i){var f=i(7),c=i(34),b=i(28),m=i(38),w=i(91),_=i(137),A=w("IE_PROTO"),j=f.Object,P=j.prototype;s.exports=_?j.getPrototypeOf:function(T){var N=m(T);if(c(N,A))return N[A];var L=N.constructor;return b(L)&&N instanceof L?L.prototype:N instanceof j?P:null}},function(s,p,i){var f=i(15),c=i(32),b=i(172);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var m,w=!1,_={};try{(m=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(_,[]),w=_ instanceof Array}catch(A){}return function(A,j){return c(A),b(j),w?m(A,j):A.__proto__=j,A}}():void 0)},function(s,p,i){var f=i(7),c=i(116),b=i(28),m=i(50),w=i(27)("toStringTag"),_=f.Object,A=m(function(){return arguments}())=="Arguments";s.exports=c?m:function(j){var P,T,N;return j===void 0?"Undefined":j===null?"Null":typeof(T=function(L,G){try{return L[G]}catch(B){}}(P=_(j),w))=="string"?T:A?m(P):(N=m(P))=="Object"&&b(P.callee)?"Arguments":N}},function(s,p,i){var f=i(50);s.exports=Array.isArray||function(c){return f(c)=="Array"}},function(s,p,i){var f=i(15),c=i(18),b=i(28),m=i(98),w=i(46),_=i(92),A=function(){},j=[],P=w("Reflect","construct"),T=/^\s*(?:class|function)\b/,N=f(T.exec),L=!T.exec(A),G=function(B){if(!b(B))return!1;try{return P(A,j,B),!0}catch(V){return!1}};s.exports=!P||c(function(){var B;return G(G.call)||!G(Object)||!G(function(){B=!0})||B})?function(B){if(!b(B))return!1;switch(m(B)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return L||!!N(T,_(B))}:G},function(s,p,i){var f=i(15);s.exports=f([].slice)},function(s,p,i){var f,c,b=i(35),m=i(15),w=i(40),_=i(184),A=i(151),j=i(84),P=i(54),T=i(56).get,N=i(185),L=i(186),G=j("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,V=B,oe=m("".charAt),J=m("".indexOf),Y=m("".replace),Z=m("".slice),U=(c=/b*/g,b(B,f=/a/,"a"),b(B,c,"a"),f.lastIndex!==0||c.lastIndex!==0),M=A.BROKEN_CARET,R=/()??/.exec("")[1]!==void 0;(U||R||M||N||L)&&(V=function(I){var z,K,de,le,ve,Se,be,ue=this,he=T(ue),me=w(I),Ae=he.raw;if(Ae)return Ae.lastIndex=ue.lastIndex,z=b(V,Ae,me),ue.lastIndex=Ae.lastIndex,z;var Be=he.groups,Ze=M&&ue.sticky,Pe=b(_,ue),Me=ue.source,Qe=0,q=me;if(Ze&&(Pe=Y(Pe,"y",""),J(Pe,"g")===-1&&(Pe+="g"),q=Z(me,ue.lastIndex),ue.lastIndex>0&&(!ue.multiline||ue.multiline&&oe(me,ue.lastIndex-1)!==`
`)&&(Me="(?: "+Me+")",q=" "+q,Qe++),K=new RegExp("^(?:"+Me+")",Pe)),R&&(K=new RegExp("^"+Me+"$(?!\\s)",Pe)),U&&(de=ue.lastIndex),le=b(B,Ze?K:ue,q),Ze?le?(le.input=Z(le.input,Qe),le[0]=Z(le[0],Qe),le.index=ue.lastIndex,ue.lastIndex+=le[0].length):ue.lastIndex=0:U&&le&&(ue.lastIndex=ue.global?le.index+le[0].length:de),R&&le&&le.length>1&&b(G,le[0],K,function(){for(ve=1;ve<arguments.length-2;ve++)arguments[ve]===void 0&&(le[ve]=void 0)}),le&&Be)for(le.groups=Se=P(null),ve=0;ve<Be.length;ve++)Se[(be=Be[ve])[0]]=le[be[1]];return le}),s.exports=V},function(s,p,i){var f=i(16),c=i(7),b=i(67),m=i(68),w=i(43),_=i(38),A=i(119),j=i(61),P=i(75)("splice"),T=c.TypeError,N=Math.max,L=Math.min,G=9007199254740991,B="Maximum allowed length exceeded";f({target:"Array",proto:!0,forced:!P},{splice:function(V,oe){var J,Y,Z,U,M,R,I=_(this),z=w(I),K=b(V,z),de=arguments.length;if(de===0?J=Y=0:de===1?(J=0,Y=z-K):(J=de-2,Y=L(N(m(oe),0),z-K)),z+J-Y>G)throw T(B);for(Z=A(I,Y),U=0;U<Y;U++)(M=K+U)in I&&j(Z,U,I[M]);if(Z.length=Y,J<Y){for(U=K;U<z-Y;U++)R=U+J,(M=U+Y)in I?I[R]=I[M]:delete I[R];for(U=z;U>z-Y+J;U--)delete I[U-1]}else if(J>Y)for(U=z-Y;U>K;U--)R=U+J-1,(M=U+Y-1)in I?I[R]=I[M]:delete I[R];for(U=0;U<J;U++)I[U+K]=arguments[U+2];return I.length=z-Y+J,Z}})},function(s,p,i){var f=i(16),c=i(201);f({target:"String",proto:!0,forced:i(202)("anchor")},{anchor:function(b){return c(this,"a","name",b)}})},function(s,p,i){(function(f){var c=typeof f=="object"&&f&&f.Object===Object&&f;p.a=c}).call(this,i(82))},function(s,p,i){(function(f){var c=i(30),b=y&&!y.nodeType&&y,m=b&&typeof f=="object"&&f&&!f.nodeType&&f,w=m&&m.exports===b?c.a.Buffer:void 0,_=w?w.allocUnsafe:void 0;p.a=function(A,j){if(j)return A.slice();var P=A.length,T=_?_(P):new A.constructor(P);return A.copy(T),T}}).call(this,i(121)(s))},function(s,p,i){var f=i(7),c=i(108),b="__core-js_shared__",m=f[b]||c(b,{});s.exports=m},function(s,p,i){var f=i(7),c=Object.defineProperty;s.exports=function(b,m){try{c(f,b,{value:m,configurable:!0,writable:!0})}catch(w){f[b]=m}return m}},function(s,p,i){var f=i(65),c=i(18);s.exports=!!Object.getOwnPropertySymbols&&!c(function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(s,p){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,p,i){var f=i(16),c=i(35),b=i(64),m=i(94),w=i(28),_=i(171),A=i(96),j=i(97),P=i(73),T=i(57),N=i(44),L=i(27),G=i(70),B=i(136),V=m.PROPER,oe=m.CONFIGURABLE,J=B.IteratorPrototype,Y=B.BUGGY_SAFARI_ITERATORS,Z=L("iterator"),U="keys",M="values",R="entries",I=function(){return this};s.exports=function(z,K,de,le,ve,Se,be){_(de,K,le);var ue,he,me,Ae=function(W){if(W===ve&&Qe)return Qe;if(!Y&&W in Pe)return Pe[W];switch(W){case U:case M:case R:return function(){return new de(this,W)}}return function(){return new de(this)}},Be=K+" Iterator",Ze=!1,Pe=z.prototype,Me=Pe[Z]||Pe["@@iterator"]||ve&&Pe[ve],Qe=!Y&&Me||Ae(ve),q=K=="Array"&&Pe.entries||Me;if(q&&(ue=A(q.call(new z)))!==Object.prototype&&ue.next&&(b||A(ue)===J||(j?j(ue,J):w(ue[Z])||N(ue,Z,I)),P(ue,Be,!0,!0),b&&(G[Be]=I)),V&&ve==M&&Me&&Me.name!==M&&(!b&&oe?T(Pe,"name",M):(Ze=!0,Qe=function(){return c(Me,this)})),ve)if(he={values:Ae(M),keys:Se?Qe:Ae(U),entries:Ae(R)},be)for(me in he)(Y||Ze||!(me in Pe))&&N(Pe,me,he[me]);else f({target:K,proto:!0,forced:Y||Ze},he);return b&&!be||Pe[Z]===Qe||N(Pe,Z,Qe,{name:ve}),G[K]=Qe,he}},function(s,p){p.f=Object.getOwnPropertySymbols},function(s,p,i){var f=i(7),c=i(67),b=i(43),m=i(61),w=f.Array,_=Math.max;s.exports=function(A,j,P){for(var T=b(A),N=c(j,T),L=c(P===void 0?T:P,T),G=w(_(L-N,0)),B=0;N<L;N++,B++)m(G,B,A[N]);return G.length=B,G}},function(s,p,i){var f=i(7),c=i(62),b=i(35),m=i(32),w=i(89),_=i(140),A=i(43),j=i(58),P=i(141),T=i(115),N=i(142),L=f.TypeError,G=function(V,oe){this.stopped=V,this.result=oe},B=G.prototype;s.exports=function(V,oe,J){var Y,Z,U,M,R,I,z,K=J&&J.that,de=!(!J||!J.AS_ENTRIES),le=!(!J||!J.IS_ITERATOR),ve=!(!J||!J.INTERRUPTED),Se=c(oe,K),be=function(he){return Y&&N(Y,"normal",he),new G(!0,he)},ue=function(he){return de?(m(he),ve?Se(he[0],he[1],be):Se(he[0],he[1])):ve?Se(he,be):Se(he)};if(le)Y=V;else{if(!(Z=T(V)))throw L(w(V)+" is not iterable");if(_(Z)){for(U=0,M=A(V);M>U;U++)if((R=ue(V[U]))&&j(B,R))return R;return new G(!1)}Y=P(V,Z)}for(I=Y.next;!(z=b(I,Y)).done;){try{R=ue(z.value)}catch(he){N(Y,"throw",he)}if(typeof R=="object"&&R&&j(B,R))return R}return new G(!1)}},function(s,p,i){var f=i(98),c=i(59),b=i(70),m=i(27)("iterator");s.exports=function(w){if(w!=null)return c(w,m)||c(w,"@@iterator")||b[f(w)]}},function(s,p,i){var f={};f[i(27)("toStringTag")]="z",s.exports=String(f)==="[object z]"},function(s,p,i){var f=i(7),c=i(58),b=f.TypeError;s.exports=function(m,w){if(c(w,m))return m;throw b("Incorrect invocation")}},function(s,p,i){var f=i(27)("iterator"),c=!1;try{var b=0,m={next:function(){return{done:!!b++}},return:function(){c=!0}};m[f]=function(){return this},Array.from(m,function(){throw 2})}catch(w){}s.exports=function(w,_){if(!_&&!c)return!1;var A=!1;try{var j={};j[f]=function(){return{next:function(){return{done:A=!0}}}},w(j)}catch(P){}return A}},function(s,p,i){var f=i(180);s.exports=function(c,b){return new(f(c))(b===0?0:b)}},function(s,p,i){var f=i(18);s.exports=function(c,b){var m=[][c];return!!m&&f(function(){m.call(null,b||function(){throw 1},1)})}},function(s,p){s.exports=function(i){if(!i.webpackPolyfill){var f=Object.create(i);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(s,p,i){i(19);var f=i(15),c=i(44),b=i(102),m=i(18),w=i(27),_=i(57),A=w("species"),j=RegExp.prototype;s.exports=function(P,T,N,L){var G=w(P),B=!m(function(){var Y={};return Y[G]=function(){return 7},""[P](Y)!=7}),V=B&&!m(function(){var Y=!1,Z=/a/;return P==="split"&&((Z={}).constructor={},Z.constructor[A]=function(){return Z},Z.flags="",Z[G]=/./[G]),Z.exec=function(){return Y=!0,null},Z[G](""),!Y});if(!B||!V||N){var oe=f(/./[G]),J=T(G,""[P],function(Y,Z,U,M,R){var I=f(Y),z=Z.exec;return z===b||z===j.exec?B&&!R?{done:!0,value:oe(Z,U,M)}:{done:!0,value:I(U,Z,M)}:{done:!1}});c(String.prototype,P,J[0]),c(j,G,J[1])}L&&_(j[G],"sham",!0)}},function(s,p,i){var f=i(146).charAt;s.exports=function(c,b,m){return b+(m?f(c,b).length:1)}},function(s,p,i){var f=i(7),c=i(35),b=i(32),m=i(28),w=i(50),_=i(102),A=f.TypeError;s.exports=function(j,P){var T=j.exec;if(m(T)){var N=c(T,j,P);return N!==null&&b(N),N}if(w(j)==="RegExp")return c(_,j,P);throw A("RegExp#exec called on incompatible receiver")}},function(s,p,i){var f=i(76),c=i(35),b=i(15),m=i(122),w=i(18),_=i(32),A=i(28),j=i(68),P=i(90),T=i(40),N=i(45),L=i(123),G=i(59),B=i(197),V=i(124),oe=i(27)("replace"),J=Math.max,Y=Math.min,Z=b([].concat),U=b([].push),M=b("".indexOf),R=b("".slice),I="a".replace(/./,"$0")==="$0",z=!!/./[oe]&&/./[oe]("a","$0")==="";m("replace",function(K,de,le){var ve=z?"$":"$0";return[function(Se,be){var ue=N(this),he=Se==null?void 0:G(Se,oe);return he?c(he,Se,ue,be):c(de,T(ue),Se,be)},function(Se,be){var ue=_(this),he=T(Se);if(typeof be=="string"&&M(be,ve)===-1&&M(be,"$<")===-1){var me=le(de,ue,he,be);if(me.done)return me.value}var Ae=A(be);Ae||(be=T(be));var Be=ue.global;if(Be){var Ze=ue.unicode;ue.lastIndex=0}for(var Pe=[];;){var Me=V(ue,he);if(Me===null||(U(Pe,Me),!Be))break;T(Me[0])===""&&(ue.lastIndex=L(he,P(ue.lastIndex),Ze))}for(var Qe,q="",W=0,ie=0;ie<Pe.length;ie++){for(var Oe=T((Me=Pe[ie])[0]),je=J(Y(j(Me.index),he.length),0),we=[],Ve=1;Ve<Me.length;Ve++)U(we,(Qe=Me[Ve])===void 0?Qe:String(Qe));var $e=Me.groups;if(Ae){var Ke=Z([Oe],we,je,he);$e!==void 0&&U(Ke,$e);var Ye=T(f(be,void 0,Ke))}else Ye=B(Oe,he,je,we,$e,be);je>=W&&(q+=R(he,W,je)+Ye,W=je+Oe.length)}return q+R(he,W)}]},!!w(function(){var K=/./;return K.exec=function(){var de=[];return de.groups={a:"7"},de},"".replace(K,"$<a>")!=="7"})||!I||z)},function(s,p,i){var f=i(50),c=i(7);s.exports=f(c.process)=="process"},function(s,p,i){i(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(s,p,i){var f=i(109);s.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(s,p,i){var f=i(36),c=i(18),b=i(86);s.exports=!f&&!c(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!=7})},function(s,p,i){var f=i(7),c=i(35),b=i(33),m=i(88),w=i(59),_=i(169),A=i(27),j=f.TypeError,P=A("toPrimitive");s.exports=function(T,N){if(!b(T)||m(T))return T;var L,G=w(T,P);if(G){if(N===void 0&&(N="default"),L=c(G,T,N),!b(L)||m(L))return L;throw j("Can't convert object to primitive value")}return N===void 0&&(N="number"),_(T,N)}},function(s,p,i){var f=i(15),c=i(34),b=i(39),m=i(132).indexOf,w=i(69),_=f([].push);s.exports=function(A,j){var P,T=b(A),N=0,L=[];for(P in T)!c(w,P)&&c(T,P)&&_(L,P);for(;j.length>N;)c(T,P=j[N++])&&(~m(L,P)||_(L,P));return L}},function(s,p,i){var f=i(39),c=i(67),b=i(43),m=function(w){return function(_,A,j){var P,T=f(_),N=b(T),L=c(j,N);if(w&&A!=A){for(;N>L;)if((P=T[L++])!=P)return!0}else for(;N>L;L++)if((w||L in T)&&T[L]===A)return w||L||0;return!w&&-1}};s.exports={includes:m(!0),indexOf:m(!1)}},function(s,p,i){var f=i(46);s.exports=f("document","documentElement")},function(s,p,i){var f=i(34),c=i(135),b=i(51),m=i(37);s.exports=function(w,_){for(var A=c(_),j=m.f,P=b.f,T=0;T<A.length;T++){var N=A[T];f(w,N)||j(w,N,P(_,N))}}},function(s,p,i){var f=i(46),c=i(15),b=i(72),m=i(112),w=i(32),_=c([].concat);s.exports=f("Reflect","ownKeys")||function(A){var j=b.f(w(A)),P=m.f;return P?_(j,P(A)):j}},function(s,p,i){var f,c,b,m=i(18),w=i(28),_=i(54),A=i(96),j=i(44),P=i(27),T=i(64),N=P("iterator"),L=!1;[].keys&&("next"in(b=[].keys())?(c=A(A(b)))!==Object.prototype&&(f=c):L=!0),f==null||m(function(){var G={};return f[N].call(G)!==G})?f={}:T&&(f=_(f)),w(f[N])||j(f,N,function(){return this}),s.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:L}},function(s,p,i){var f=i(18);s.exports=!f(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},function(s,p,i){var f=i(16),c=i(15),b=i(69),m=i(33),w=i(34),_=i(37).f,A=i(72),j=i(139),P=i(174),T=i(85),N=i(176),L=!1,G=T("meta"),B=0,V=function(J){_(J,G,{value:{objectID:"O"+B++,weakData:{}}})},oe=s.exports={enable:function(){oe.enable=function(){},L=!0;var J=A.f,Y=c([].splice),Z={};Z[G]=1,J(Z).length&&(A.f=function(U){for(var M=J(U),R=0,I=M.length;R<I;R++)if(M[R]===G){Y(M,R,1);break}return M},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:j.f}))},fastKey:function(J,Y){if(!m(J))return typeof J=="symbol"?J:(typeof J=="string"?"S":"P")+J;if(!w(J,G)){if(!P(J))return"F";if(!Y)return"E";V(J)}return J[G].objectID},getWeakData:function(J,Y){if(!w(J,G)){if(!P(J))return!0;if(!Y)return!1;V(J)}return J[G].weakData},onFreeze:function(J){return N&&L&&P(J)&&!w(J,G)&&V(J),J}};b[G]=!0},function(s,p,i){var f=i(50),c=i(39),b=i(72).f,m=i(113),w=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(_){return w&&f(_)=="Window"?function(A){try{return b(A)}catch(j){return m(w)}}(_):b(c(_))}},function(s,p,i){var f=i(27),c=i(70),b=f("iterator"),m=Array.prototype;s.exports=function(w){return w!==void 0&&(c.Array===w||m[b]===w)}},function(s,p,i){var f=i(7),c=i(35),b=i(55),m=i(32),w=i(89),_=i(115),A=f.TypeError;s.exports=function(j,P){var T=arguments.length<2?_(j):P;if(b(T))return m(c(T,j));throw A(w(j)+" is not iterable")}},function(s,p,i){var f=i(35),c=i(32),b=i(59);s.exports=function(m,w,_){var A,j;c(m);try{if(!(A=b(m,"return"))){if(w==="throw")throw _;return _}A=f(A,m)}catch(P){j=!0,A=P}if(w==="throw")throw _;if(j)throw A;return c(A),_}},function(s,p,i){var f=i(28),c=i(33),b=i(97);s.exports=function(m,w,_){var A,j;return b&&f(A=w.constructor)&&A!==_&&c(j=A.prototype)&&j!==_.prototype&&b(m,j),m}},function(s,p,i){var f=i(44);s.exports=function(c,b,m){for(var w in b)f(c,w,b[w],m);return c}},function(s,p,i){var f=i(46),c=i(37),b=i(27),m=i(36),w=b("species");s.exports=function(_){var A=f(_),j=c.f;m&&A&&!A[w]&&j(A,w,{configurable:!0,get:function(){return this}})}},function(s,p,i){var f=i(15),c=i(68),b=i(40),m=i(45),w=f("".charAt),_=f("".charCodeAt),A=f("".slice),j=function(P){return function(T,N){var L,G,B=b(m(T)),V=c(N),oe=B.length;return V<0||V>=oe?P?"":void 0:(L=_(B,V))<55296||L>56319||V+1===oe||(G=_(B,V+1))<56320||G>57343?P?w(B,V):L:P?A(B,V,V+2):G-56320+(L-55296<<10)+65536}};s.exports={codeAt:j(!1),charAt:j(!0)}},function(s,p){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,p,i){var f=i(86)("span").classList,c=f&&f.constructor&&f.constructor.prototype;s.exports=c===Object.prototype?void 0:c},function(s,p,i){var f=i(27);p.f=f},function(s,p,i){var f=i(181),c=i(34),b=i(149),m=i(37).f;s.exports=function(w){var _=f.Symbol||(f.Symbol={});c(_,w)||m(_,w,{value:b.f(w)})}},function(s,p,i){var f=i(18),c=i(7).RegExp,b=f(function(){var _=c("a","y");return _.lastIndex=2,_.exec("abcd")!=null}),m=b||f(function(){return!c("a","y").sticky}),w=b||f(function(){var _=c("^r","gy");return _.lastIndex=2,_.exec("str")!=null});s.exports={BROKEN_CARET:w,MISSED_STICKY:m,UNSUPPORTED_Y:b}},function(s,p,i){var f=i(16),c=i(132).includes,b=i(83);f({target:"Array",proto:!0},{includes:function(m){return c(this,m,arguments.length>1?arguments[1]:void 0)}}),b("includes")},function(s,p,i){var f=i(16),c=i(15),b=i(193),m=i(45),w=i(40),_=i(194),A=c("".indexOf);f({target:"String",proto:!0,forced:!_("includes")},{includes:function(j){return!!~A(w(m(this)),w(b(j)),arguments.length>1?arguments[1]:void 0)}})},function(s,p,i){var f=i(33),c=i(50),b=i(27)("match");s.exports=function(m){var w;return f(m)&&((w=m[b])!==void 0?!!w:c(m)=="RegExp")}},function(s,p){var i,f,c=s.exports={};function b(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}function w(B){if(i===setTimeout)return setTimeout(B,0);if((i===b||!i)&&setTimeout)return i=setTimeout,setTimeout(B,0);try{return i(B,0)}catch(V){try{return i.call(null,B,0)}catch(oe){return i.call(this,B,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:b}catch(B){i=b}try{f=typeof clearTimeout=="function"?clearTimeout:m}catch(B){f=m}})();var _,A=[],j=!1,P=-1;function T(){j&&_&&(j=!1,_.length?A=_.concat(A):P=-1,A.length&&N())}function N(){if(!j){var B=w(T);j=!0;for(var V=A.length;V;){for(_=A,A=[];++P<V;)_&&_[P].run();P=-1,V=A.length}_=null,j=!1,function(oe){if(f===clearTimeout)return clearTimeout(oe);if((f===m||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(oe);try{f(oe)}catch(J){try{return f.call(null,oe)}catch(Y){return f.call(this,oe)}}}(B)}}function L(B,V){this.fun=B,this.array=V}function G(){}c.nextTick=function(B){var V=new Array(arguments.length-1);if(arguments.length>1)for(var oe=1;oe<arguments.length;oe++)V[oe-1]=arguments[oe];A.push(new L(B,V)),A.length!==1||j||w(N)},L.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=G,c.addListener=G,c.once=G,c.off=G,c.removeListener=G,c.removeAllListeners=G,c.emit=G,c.prependListener=G,c.prependOnceListener=G,c.listeners=function(B){return[]},c.binding=function(B){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(B){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(s,p,i){var f=i(32),c=i(157),b=i(27)("species");s.exports=function(m,w){var _,A=f(m).constructor;return A===void 0||(_=f(A)[b])==null?w:c(_)}},function(s,p,i){var f=i(7),c=i(100),b=i(89),m=f.TypeError;s.exports=function(w){if(c(w))return w;throw m(b(w)+" is not a constructor")}},function(s,p,i){var f=i(16),c=i(159).trim;f({target:"String",proto:!0,forced:i(195)("trim")},{trim:function(){return c(this)}})},function(s,p,i){var f=i(15),c=i(45),b=i(40),m=i(160),w=f("".replace),_="["+m+"]",A=RegExp("^"+_+_+"*"),j=RegExp(_+_+"*$"),P=function(T){return function(N){var L=b(c(N));return 1&T&&(L=w(L,A,"")),2&T&&(L=w(L,j,"")),L}};s.exports={start:P(1),end:P(2),trim:P(3)}},function(s,p){s.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(s,p,i){var f=i(35),c=i(122),b=i(32),m=i(90),w=i(40),_=i(45),A=i(59),j=i(123),P=i(124);c("match",function(T,N,L){return[function(G){var B=_(this),V=G==null?void 0:A(G,T);return V?f(V,G,B):new RegExp(G)[T](w(B))},function(G){var B=b(this),V=w(G),oe=L(N,B,V);if(oe.done)return oe.value;if(!B.global)return P(B,V);var J=B.unicode;B.lastIndex=0;for(var Y,Z=[],U=0;(Y=P(B,V))!==null;){var M=w(Y[0]);Z[U]=M,M===""&&(B.lastIndex=j(V,m(B.lastIndex),J)),U++}return U===0?null:Z}]})},function(s,p,i){var f,c,b,m,w=i(7),_=i(76),A=i(62),j=i(28),P=i(34),T=i(18),N=i(133),L=i(101),G=i(86),B=i(163),V=i(126),oe=w.setImmediate,J=w.clearImmediate,Y=w.process,Z=w.Dispatch,U=w.Function,M=w.MessageChannel,R=w.String,I=0,z={},K="onreadystatechange";try{f=w.location}catch(be){}var de=function(be){if(P(z,be)){var ue=z[be];delete z[be],ue()}},le=function(be){return function(){de(be)}},ve=function(be){de(be.data)},Se=function(be){w.postMessage(R(be),f.protocol+"//"+f.host)};oe&&J||(oe=function(be){var ue=L(arguments,1);return z[++I]=function(){_(j(be)?be:U(be),void 0,ue)},c(I),I},J=function(be){delete z[be]},V?c=function(be){Y.nextTick(le(be))}:Z&&Z.now?c=function(be){Z.now(le(be))}:M&&!B?(m=(b=new M).port2,b.port1.onmessage=ve,c=A(m.postMessage,m)):w.addEventListener&&j(w.postMessage)&&!w.importScripts&&f&&f.protocol!=="file:"&&!T(Se)?(c=Se,w.addEventListener("message",ve,!1)):c=K in G("script")?function(be){N.appendChild(G("script")).onreadystatechange=function(){N.removeChild(this),de(be)}}:function(be){setTimeout(le(be),0)}),s.exports={set:oe,clear:J}},function(s,p,i){var f=i(53);s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},function(s,p,i){var f=i(55),c=function(b){var m,w;this.promise=new b(function(_,A){if(m!==void 0||w!==void 0)throw TypeError("Bad Promise constructor");m=_,w=A}),this.resolve=f(m),this.reject=f(w)};s.exports.f=function(b){return new c(b)}},function(s,p,i){p.a=function(){return!1}},function(s,p,i){(function(f){i.d(p,"a",function(){return Y});var c=i(0);function b(M){throw new Error("[mobx-utils] "+M)}function m(M,R){R===void 0&&(R="Illegal state"),M||b(R)}var w=function(M){return M&&M!==Object.prototype&&Object.getOwnPropertyNames(M).concat(w(Object.getPrototypeOf(M))||[])},_=function(M){return function(R){var I=w(R);return I.filter(function(z,K){return I.indexOf(z)===K})}(M).filter(function(R){return R!=="constructor"&&!~R.indexOf("__")})},A="pending",j="fulfilled",P="rejected";function T(M){switch(this.state){case A:return M.pending&&M.pending(this.value);case P:return M.rejected&&M.rejected(this.value);case j:return M.fulfilled?M.fulfilled(this.value):this.value}}function N(M,R){if(m(arguments.length<=2,"fromPromise expects up to two arguments"),m(typeof M=="function"||typeof M=="object"&&M&&typeof M.then=="function","Please pass a promise or function to fromPromise"),M.isPromiseBasedObservable===!0)return M;typeof M=="function"&&(M=new Promise(M));var I=M;M.then(Object(c.k)("observableFromPromise-resolve",function(K){I.value=K,I.state=j}),Object(c.k)("observableFromPromise-reject",function(K){I.value=K,I.state=P})),I.isPromiseBasedObservable=!0,I.case=T;var z=R&&R.state===j?R.value:void 0;return Object(c.q)(I,{value:z,state:A},{},{deep:!1}),I}(function(M){M.reject=Object(c.k)("fromPromise.reject",function(R){var I=M(Promise.reject(R));return I.state=P,I.value=R,I}),M.resolve=Object(c.k)("fromPromise.resolve",function(R){R===void 0&&(R=void 0);var I=M(Promise.resolve(R));return I.state=j,I.value=R,I})})(N||(N={}));var L=function(M,R,I,z){var K,de=arguments.length,le=de<3?R:z===null?z=Object.getOwnPropertyDescriptor(R,I):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(M,R,I,z);else for(var ve=M.length-1;ve>=0;ve--)(K=M[ve])&&(le=(de<3?K(le):de>3?K(R,I,le):K(R,I))||le);return de>3&&le&&Object.defineProperty(R,I,le),le};(function(){function M(R,I){var z=this;Object(c.G)(function(){z.current=I,z.subscription=R.subscribe(z)})}M.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},M.prototype.next=function(R){this.current=R},M.prototype.complete=function(){this.dispose()},M.prototype.error=function(R){this.current=R,this.dispose()},L([c.C.ref],M.prototype,"current",void 0),L([c.k.bound],M.prototype,"next",null),L([c.k.bound],M.prototype,"complete",null),L([c.k.bound],M.prototype,"error",null)})();var G=function(){return G=Object.assign||function(M){for(var R,I=1,z=arguments.length;I<z;I++)for(var K in R=arguments[I])Object.prototype.hasOwnProperty.call(R,K)&&(M[K]=R[K]);return M},G.apply(this,arguments)},B=function(M,R,I,z){var K,de=arguments.length,le=de<3?R:z===null?z=Object.getOwnPropertyDescriptor(R,I):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(M,R,I,z);else for(var ve=M.length-1;ve>=0;ve--)(K=M[ve])&&(le=(de<3?K(le):de>3?K(R,I,le):K(R,I))||le);return de>3&&le&&Object.defineProperty(R,I,le),le},V=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function M(R){var I=this;this.model=R,this.localValues=c.C.map({}),this.localComputedValues=c.C.map({}),this.isPropertyDirty=function(z){return I.localValues.has(z)},m(Object(c.A)(R),"createViewModel expects an observable object"),_(R).forEach(function(z){if(z!==c.a&&z!=="__mobxDidRunLazyInitializers"){if(m(V.indexOf(z)===-1,"The propertyname "+z+" is reserved and cannot be used with viewModels"),Object(c.w)(R,z)){var K=Object(c.h)(R,z).derivation;I.localComputedValues.set(z,Object(c.m)(K.bind(I)))}var de=Object.getOwnPropertyDescriptor(R,z),le=de?{enumerable:de.enumerable}:{};Object.defineProperty(I,z,G(G({},le),{configurable:!0,get:function(){return Object(c.w)(R,z)?I.localComputedValues.get(z).get():I.isPropertyDirty(z)?I.localValues.get(z):I.model[z]},set:Object(c.k)(function(ve){ve!==I.model[z]?I.localValues.set(z,ve):I.localValues.delete(z)})}))}})}Object.defineProperty(M.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),M.prototype.submit=function(){var R=this;Object(c.B)(this.localValues).forEach(function(I){var z=R.localValues.get(I),K=R.model[I];Object(c.y)(K)?K.replace(z):Object(c.z)(K)?(K.clear(),K.merge(z)):Object(c.v)(z)||(R.model[I]=z)}),this.localValues.clear()},M.prototype.reset=function(){this.localValues.clear()},M.prototype.resetProperty=function(R){this.localValues.delete(R)},B([c.m],M.prototype,"isDirty",null),B([c.m],M.prototype,"changedValues",null),B([c.k.bound],M.prototype,"submit",null),B([c.k.bound],M.prototype,"reset",null),B([c.k.bound],M.prototype,"resetProperty",null)})();function oe(M){if(!M)return"ROOT";for(var R=[];M.parent;)R.push(M.path),M=M.parent;return R.reverse().join("/")}function J(M){return Object(c.A)(M)||Object(c.y)(M)||Object(c.z)(M)}function Y(M,R){var I=new WeakMap;function z(le){var ve=I.get(le.object);(function(Se,be){switch(Se.type){case"add":K(Se.newValue,be,Se.name);break;case"update":de(Se.oldValue),K(Se.newValue,be,Se.name||""+Se.index);break;case"remove":case"delete":de(Se.oldValue);break;case"splice":Se.removed.map(de),Se.added.forEach(function(me,Ae){return K(me,be,""+(Se.index+Ae))});for(var ue=Se.index+Se.addedCount;ue<Se.object.length;ue++)if(J(Se.object[ue])){var he=I.get(Se.object[ue]);he&&(he.path=""+ue)}}})(le,ve),R(le,oe(ve),M)}function K(le,ve,Se){if(J(le)){var be=I.get(le);if(be){if(be.parent!==ve||be.path!==Se)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+oe(ve)+"/"+Se+"', but it already exists at '"+oe(be.parent)+"/"+be.path+"'")}else{var ue={parent:ve,path:Se,dispose:Object(c.D)(le,z)};I.set(le,ue),Object(c.p)(le).forEach(function(he){var me=he[0];return K(he[1],ue,me)})}}}function de(le){if(J(le)){var ve=I.get(le);if(!ve)return;I.delete(le),ve.dispose(),Object(c.L)(le).forEach(de)}}return K(M,void 0,""),function(){de(M)}}var Z,U=(Z=function(M,R){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,z){I.__proto__=z}||function(I,z){for(var K in z)z.hasOwnProperty(K)&&(I[K]=z[K])},Z(M,R)},function(M,R){function I(){this.constructor=M}Z(M,R),M.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)});(function(M){function R(I,z,K){var de=K===void 0?{}:K,le=de.name,ve=le===void 0?"ogm"+(1e3*Math.random()|0):le,Se=de.keyToName,be=Se===void 0?function(me){return""+me}:Se,ue=M.call(this)||this;ue._keyToName=be,ue._groupBy=z,ue._ogmInfoKey=Symbol("ogmInfo"+ve),ue._base=I;for(var he=0;he<I.length;he++)ue._addItem(I[he]);return ue._disposeBaseObserver=Object(c.D)(ue._base,function(me){if(me.type==="splice")Object(c.J)(function(){for(var Ae=0,Be=me.removed;Ae<Be.length;Ae++){var Ze=Be[Ae];ue._removeItem(Ze)}for(var Pe=0,Me=me.added;Pe<Me.length;Pe++){var Qe=Me[Pe];ue._addItem(Qe)}});else{if(me.type!=="update")throw new Error("illegal state");Object(c.J)(function(){ue._removeItem(me.oldValue),ue._addItem(me.newValue)})}}),ue}U(R,M),R.prototype.clear=function(){throw new Error("not supported")},R.prototype.delete=function(I){throw new Error("not supported")},R.prototype.set=function(I,z){throw new Error("not supported")},R.prototype.dispose=function(){this._disposeBaseObserver();for(var I=0;I<this._base.length;I++){var z=this._base[I];z[this._ogmInfoKey].reaction(),delete z[this._ogmInfoKey]}},R.prototype._getGroupArr=function(I){var z=M.prototype.get.call(this,I);return z===void 0&&(z=Object(c.C)([],{name:"GroupArray["+this._keyToName(I)+"]",deep:!1}),M.prototype.set.call(this,I,z)),z},R.prototype._removeFromGroupArr=function(I,z){var K=M.prototype.get.call(this,I);K.length===1?M.prototype.delete.call(this,I):(z===K.length-1||(K[z]=K[K.length-1],K[z][this._ogmInfoKey].groupArrIndex=z),K.length--)},R.prototype._addItem=function(I){var z=this,K=this._groupBy(I),de=this._getGroupArr(K),le={groupByValue:K,groupArrIndex:de.length,reaction:Object(c.F)(function(){return z._groupBy(I)},function(ve,Se){var be=I[z._ogmInfoKey];z._removeFromGroupArr(be.groupByValue,be.groupArrIndex);var ue=z._getGroupArr(ve),he=ue.length;ue.push(I),be.groupByValue=ve,be.groupArrIndex=he})};Object.defineProperty(I,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:le}),de.push(I)},R.prototype._removeItem=function(I){var z=I[this._ogmInfoKey];this._removeFromGroupArr(z.groupByValue,z.groupArrIndex),z.reaction(),delete I[this._ogmInfoKey]}})(c.b),function(){function M(R,I){this.base=R,this.args=I,this.closestIdx=0,this.isDisposed=!1;for(var z=this.closest=this.root=R,K=0;K<this.args.length-1&&(z=z.get(I[K]));K++)this.closest=z;this.closestIdx=K}return M.prototype.exists=function(){this.assertNotDisposed();var R=this.args.length;return this.closestIdx>=R-1&&this.closest.has(this.args[R-1])},M.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},M.prototype.set=function(R){this.assertNotDisposed();for(var I=this.args.length,z=this.closest,K=this.closestIdx;K<I-1;K++){var de=new Map;z.set(this.args[K],de),z=de}this.closestIdx=I-1,this.closest=z,z.set(this.args[I-1],R)},M.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var R=this.args.length;this.closest.delete(this.args[R-1]);for(var I=this.root,z=[I],K=0;K<R-1;K++)I=I.get(this.args[K]),z.push(I);for(K=z.length-1;K>0;K--)z[K].size===0&&z[K-1].delete(this.args[K-1]);this.isDisposed=!0},M.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},M}(),Promise.resolve(),typeof queueMicrotask!="undefined"||f!==void 0&&f.nextTick}).call(this,i(155))},function(s,p,i){var f;(function(c,b,m){if(c){for(var w,_={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},A={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},j={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},P={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},T=1;T<20;++T)_[111+T]="f"+T;for(T=0;T<=9;++T)_[T+96]=T.toString();J.prototype.bind=function(Y,Z,U){var M=this;return Y=Y instanceof Array?Y:[Y],M._bindMultiple.call(M,Y,Z,U),M},J.prototype.unbind=function(Y,Z){return this.bind.call(this,Y,function(){},Z)},J.prototype.trigger=function(Y,Z){var U=this;return U._directMap[Y+":"+Z]&&U._directMap[Y+":"+Z]({},Y),U},J.prototype.reset=function(){var Y=this;return Y._callbacks={},Y._directMap={},Y},J.prototype.stopCallback=function(Y,Z){if((" "+Z.className+" ").indexOf(" mousetrap ")>-1||oe(Z,this.target))return!1;if("composedPath"in Y&&typeof Y.composedPath=="function"){var U=Y.composedPath()[0];U!==Y.target&&(Z=U)}return Z.tagName=="INPUT"||Z.tagName=="SELECT"||Z.tagName=="TEXTAREA"||Z.isContentEditable},J.prototype.handleKey=function(){var Y=this;return Y._handleKey.apply(Y,arguments)},J.addKeycodes=function(Y){for(var Z in Y)Y.hasOwnProperty(Z)&&(_[Z]=Y[Z]);w=null},J.init=function(){var Y=J(b);for(var Z in Y)Z.charAt(0)!=="_"&&(J[Z]=function(U){return function(){return Y[U].apply(Y,arguments)}}(Z))},J.init(),c.Mousetrap=J,s.exports&&(s.exports=J),(f=function(){return J}.call(p,i,p,s))===void 0||(s.exports=f)}function N(Y,Z,U){Y.addEventListener?Y.addEventListener(Z,U,!1):Y.attachEvent("on"+Z,U)}function L(Y){if(Y.type=="keypress"){var Z=String.fromCharCode(Y.which);return Y.shiftKey||(Z=Z.toLowerCase()),Z}return _[Y.which]?_[Y.which]:A[Y.which]?A[Y.which]:String.fromCharCode(Y.which).toLowerCase()}function G(Y){return Y=="shift"||Y=="ctrl"||Y=="alt"||Y=="meta"}function B(Y,Z,U){return U||(U=function(){if(!w)for(var M in w={},_)M>95&&M<112||_.hasOwnProperty(M)&&(w[_[M]]=M);return w}()[Y]?"keydown":"keypress"),U=="keypress"&&Z.length&&(U="keydown"),U}function V(Y,Z){var U,M,R,I=[];for(U=function(z){return z==="+"?["+"]:(z=z.replace(/\+{2}/g,"+plus")).split("+")}(Y),R=0;R<U.length;++R)M=U[R],P[M]&&(M=P[M]),Z&&Z!="keypress"&&j[M]&&(M=j[M],I.push("shift")),G(M)&&I.push(M);return{key:M,modifiers:I,action:Z=B(M,I,Z)}}function oe(Y,Z){return Y!==null&&Y!==b&&(Y===Z||oe(Y.parentNode,Z))}function J(Y){var Z=this;if(Y=Y||b,!(Z instanceof J))return new J(Y);Z.target=Y,Z._callbacks={},Z._directMap={};var U,M={},R=!1,I=!1,z=!1;function K(ue){ue=ue||{};var he,me=!1;for(he in M)ue[he]?me=!0:M[he]=0;me||(z=!1)}function de(ue,he,me,Ae,Be,Ze){var Pe,Me,Qe,q,W=[],ie=me.type;if(!Z._callbacks[ue])return[];for(ie=="keyup"&&G(ue)&&(he=[ue]),Pe=0;Pe<Z._callbacks[ue].length;++Pe)if(Me=Z._callbacks[ue][Pe],(Ae||!Me.seq||M[Me.seq]==Me.level)&&ie==Me.action&&(ie=="keypress"&&!me.metaKey&&!me.ctrlKey||(Qe=he,q=Me.modifiers,Qe.sort().join(",")===q.sort().join(",")))){var Oe=!Ae&&Me.combo==Be,je=Ae&&Me.seq==Ae&&Me.level==Ze;(Oe||je)&&Z._callbacks[ue].splice(Pe,1),W.push(Me)}return W}function le(ue,he,me,Ae){Z.stopCallback(he,he.target||he.srcElement,me,Ae)||ue(he,me)===!1&&(function(Be){Be.preventDefault?Be.preventDefault():Be.returnValue=!1}(he),function(Be){Be.stopPropagation?Be.stopPropagation():Be.cancelBubble=!0}(he))}function ve(ue){typeof ue.which!="number"&&(ue.which=ue.keyCode);var he=L(ue);he&&(ue.type!="keyup"||R!==he?Z.handleKey(he,function(me){var Ae=[];return me.shiftKey&&Ae.push("shift"),me.altKey&&Ae.push("alt"),me.ctrlKey&&Ae.push("ctrl"),me.metaKey&&Ae.push("meta"),Ae}(ue),ue):R=!1)}function Se(ue,he,me,Ae){function Be(Qe){return function(){z=Qe,++M[ue],clearTimeout(U),U=setTimeout(K,1e3)}}function Ze(Qe){le(me,Qe,ue),Ae!=="keyup"&&(R=L(Qe)),setTimeout(K,10)}M[ue]=0;for(var Pe=0;Pe<he.length;++Pe){var Me=Pe+1===he.length?Ze:Be(Ae||V(he[Pe+1]).action);be(he[Pe],Me,Ae,ue,Pe)}}function be(ue,he,me,Ae,Be){Z._directMap[ue+":"+me]=he;var Ze,Pe=(ue=ue.replace(/\s+/g," ")).split(" ");Pe.length>1?Se(ue,Pe,he,me):(Ze=V(ue,me),Z._callbacks[Ze.key]=Z._callbacks[Ze.key]||[],de(Ze.key,Ze.modifiers,{type:Ze.action},Ae,ue,Be),Z._callbacks[Ze.key][Ae?"unshift":"push"]({callback:he,modifiers:Ze.modifiers,action:Ze.action,seq:Ae,level:Be,combo:ue}))}Z._handleKey=function(ue,he,me){var Ae,Be=de(ue,he,me),Ze={},Pe=0,Me=!1;for(Ae=0;Ae<Be.length;++Ae)Be[Ae].seq&&(Pe=Math.max(Pe,Be[Ae].level));for(Ae=0;Ae<Be.length;++Ae)if(Be[Ae].seq){if(Be[Ae].level!=Pe)continue;Me=!0,Ze[Be[Ae].seq]=1,le(Be[Ae].callback,me,Be[Ae].combo,Be[Ae].seq)}else Me||le(Be[Ae].callback,me,Be[Ae].combo);var Qe=me.type=="keypress"&&I;me.type!=z||G(ue)||Qe||K(Ze),I=Me&&me.type=="keydown"},Z._bindMultiple=function(ue,he,me){for(var Ae=0;Ae<ue.length;++Ae)be(ue[Ae],he,me)},N(Y,"keypress",ve),N(Y,"keydown",ve),N(Y,"keyup",ve)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(s,p,i){var f=i(36),c=i(37),b=i(32),m=i(39),w=i(66);s.exports=f?Object.defineProperties:function(_,A){b(_);for(var j,P=m(A),T=w(A),N=T.length,L=0;N>L;)c.f(_,j=T[L++],P[j]);return _}},function(s,p,i){var f=i(7),c=i(35),b=i(28),m=i(33),w=f.TypeError;s.exports=function(_,A){var j,P;if(A==="string"&&b(j=_.toString)&&!m(P=c(j,_))||b(j=_.valueOf)&&!m(P=c(j,_))||A!=="string"&&b(j=_.toString)&&!m(P=c(j,_)))return P;throw w("Can't convert object to primitive value")}},function(s,p,i){var f=i(7),c=i(28),b=i(92),m=f.WeakMap;s.exports=c(m)&&/native code/.test(b(m))},function(s,p,i){var f=i(136).IteratorPrototype,c=i(54),b=i(71),m=i(73),w=i(70),_=function(){return this};s.exports=function(A,j,P,T){var N=j+" Iterator";return A.prototype=c(f,{next:b(+!T,P)}),m(A,N,!1,!0),w[N]=_,A}},function(s,p,i){var f=i(7),c=i(28),b=f.String,m=f.TypeError;s.exports=function(w){if(typeof w=="object"||c(w))return w;throw m("Can't set "+b(w)+" as a prototype")}},function(s,p,i){var f=i(16),c=i(7),b=i(15),m=i(95),w=i(44),_=i(138),A=i(114),j=i(117),P=i(28),T=i(33),N=i(18),L=i(118),G=i(73),B=i(143);s.exports=function(V,oe,J){var Y=V.indexOf("Map")!==-1,Z=V.indexOf("Weak")!==-1,U=Y?"set":"add",M=c[V],R=M&&M.prototype,I=M,z={},K=function(ue){var he=b(R[ue]);w(R,ue,ue=="add"?function(me){return he(this,me===0?0:me),this}:ue=="delete"?function(me){return!(Z&&!T(me))&&he(this,me===0?0:me)}:ue=="get"?function(me){return Z&&!T(me)?void 0:he(this,me===0?0:me)}:ue=="has"?function(me){return!(Z&&!T(me))&&he(this,me===0?0:me)}:function(me,Ae){return he(this,me===0?0:me,Ae),this})};if(m(V,!P(M)||!(Z||R.forEach&&!N(function(){new M().entries().next()}))))I=J.getConstructor(oe,V,Y,U),_.enable();else if(m(V,!0)){var de=new I,le=de[U](Z?{}:-0,1)!=de,ve=N(function(){de.has(1)}),Se=L(function(ue){new M(ue)}),be=!Z&&N(function(){for(var ue=new M,he=5;he--;)ue[U](he,he);return!ue.has(-0)});Se||((I=oe(function(ue,he){j(ue,R);var me=B(new M,ue,I);return he!=null&&A(he,me[U],{that:me,AS_ENTRIES:Y}),me})).prototype=R,R.constructor=I),(ve||be)&&(K("delete"),K("has"),Y&&K("get")),(be||le)&&K(U),Z&&R.clear&&delete R.clear}return z[V]=I,f({global:!0,forced:I!=M},z),G(I,V),Z||J.setStrong(I,V,Y),I}},function(s,p,i){var f=i(18),c=i(33),b=i(50),m=i(175),w=Object.isExtensible,_=f(function(){});s.exports=_||m?function(A){return!!c(A)&&(!m||b(A)!="ArrayBuffer")&&(!w||w(A))}:w},function(s,p,i){var f=i(18);s.exports=f(function(){if(typeof ArrayBuffer=="function"){var c=new ArrayBuffer(8);Object.isExtensible(c)&&Object.defineProperty(c,"a",{value:8})}})},function(s,p,i){var f=i(18);s.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(s,p,i){var f=i(37).f,c=i(54),b=i(144),m=i(62),w=i(117),_=i(114),A=i(111),j=i(145),P=i(36),T=i(138).fastKey,N=i(56),L=N.set,G=N.getterFor;s.exports={getConstructor:function(B,V,oe,J){var Y=B(function(I,z){w(I,Z),L(I,{type:V,index:c(null),first:void 0,last:void 0,size:0}),P||(I.size=0),z!=null&&_(z,I[J],{that:I,AS_ENTRIES:oe})}),Z=Y.prototype,U=G(V),M=function(I,z,K){var de,le,ve=U(I),Se=R(I,z);return Se?Se.value=K:(ve.last=Se={index:le=T(z,!0),key:z,value:K,previous:de=ve.last,next:void 0,removed:!1},ve.first||(ve.first=Se),de&&(de.next=Se),P?ve.size++:I.size++,le!=="F"&&(ve.index[le]=Se)),I},R=function(I,z){var K,de=U(I),le=T(z);if(le!=="F")return de.index[le];for(K=de.first;K;K=K.next)if(K.key==z)return K};return b(Z,{clear:function(){for(var I=U(this),z=I.index,K=I.first;K;)K.removed=!0,K.previous&&(K.previous=K.previous.next=void 0),delete z[K.index],K=K.next;I.first=I.last=void 0,P?I.size=0:this.size=0},delete:function(I){var z=this,K=U(z),de=R(z,I);if(de){var le=de.next,ve=de.previous;delete K.index[de.index],de.removed=!0,ve&&(ve.next=le),le&&(le.previous=ve),K.first==de&&(K.first=le),K.last==de&&(K.last=ve),P?K.size--:z.size--}return!!de},forEach:function(I){for(var z,K=U(this),de=m(I,arguments.length>1?arguments[1]:void 0);z=z?z.next:K.first;)for(de(z.value,z.key,this);z&&z.removed;)z=z.previous},has:function(I){return!!R(this,I)}}),b(Z,oe?{get:function(I){var z=R(this,I);return z&&z.value},set:function(I,z){return M(this,I===0?0:I,z)}}:{add:function(I){return M(this,I=I===0?0:I,I)}}),P&&f(Z,"size",{get:function(){return U(this).size}}),Y},setStrong:function(B,V,oe){var J=V+" Iterator",Y=G(V),Z=G(J);A(B,V,function(U,M){L(this,{type:J,target:U,state:Y(U),kind:M,last:void 0})},function(){for(var U=Z(this),M=U.kind,R=U.last;R&&R.removed;)R=R.previous;return U.target&&(U.last=R=R?R.next:U.state.first)?M=="keys"?{value:R.key,done:!1}:M=="values"?{value:R.value,done:!1}:{value:[R.key,R.value],done:!1}:(U.target=void 0,{value:void 0,done:!0})},oe?"entries":"values",!oe,!0),j(V)}}},function(s,p,i){var f=i(116),c=i(98);s.exports=f?{}.toString:function(){return"[object "+c(this)+"]"}},function(s,p,i){var f=i(74).forEach,c=i(120)("forEach");s.exports=c?[].forEach:function(b){return f(this,b,arguments.length>1?arguments[1]:void 0)}},function(s,p,i){var f=i(7),c=i(99),b=i(100),m=i(33),w=i(27)("species"),_=f.Array;s.exports=function(A){var j;return c(A)&&(j=A.constructor,(b(j)&&(j===_||c(j.prototype))||m(j)&&(j=j[w])===null)&&(j=void 0)),j===void 0?_:j}},function(s,p,i){var f=i(7);s.exports=f},function(s,p,i){var f=i(7),c=i(62),b=i(35),m=i(38),w=i(183),_=i(140),A=i(100),j=i(43),P=i(61),T=i(141),N=i(115),L=f.Array;s.exports=function(G){var B=m(G),V=A(this),oe=arguments.length,J=oe>1?arguments[1]:void 0,Y=J!==void 0;Y&&(J=c(J,oe>2?arguments[2]:void 0));var Z,U,M,R,I,z,K=N(B),de=0;if(!K||this==L&&_(K))for(Z=j(B),U=V?new this(Z):L(Z);Z>de;de++)z=Y?J(B[de],de):B[de],P(U,de,z);else for(I=(R=T(B,K)).next,U=V?new this:[];!(M=b(I,R)).done;de++)z=Y?w(R,J,[M.value,de],!0):M.value,P(U,de,z);return U.length=de,U}},function(s,p,i){var f=i(32),c=i(142);s.exports=function(b,m,w,_){try{return _?m(f(w)[0],w[1]):m(w)}catch(A){c(b,"throw",A)}}},function(s,p,i){var f=i(32);s.exports=function(){var c=f(this),b="";return c.global&&(b+="g"),c.ignoreCase&&(b+="i"),c.multiline&&(b+="m"),c.dotAll&&(b+="s"),c.unicode&&(b+="u"),c.sticky&&(b+="y"),b}},function(s,p,i){var f=i(18),c=i(7).RegExp;s.exports=f(function(){var b=c(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(s,p,i){var f=i(18),c=i(7).RegExp;s.exports=f(function(){var b=c("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(s,p,i){var f=i(16),c=i(15),b=i(55),m=i(38),w=i(43),_=i(40),A=i(18),j=i(188),P=i(120),T=i(189),N=i(190),L=i(65),G=i(191),B=[],V=c(B.sort),oe=c(B.push),J=A(function(){B.sort(void 0)}),Y=A(function(){B.sort(null)}),Z=P("sort"),U=!A(function(){if(L)return L<70;if(!(T&&T>3)){if(N)return!0;if(G)return G<603;var M,R,I,z,K="";for(M=65;M<76;M++){switch(R=String.fromCharCode(M),M){case 66:case 69:case 70:case 72:I=3;break;case 68:case 71:I=4;break;default:I=2}for(z=0;z<47;z++)B.push({k:R+z,v:I})}for(B.sort(function(de,le){return le.v-de.v}),z=0;z<B.length;z++)R=B[z].k.charAt(0),K.charAt(K.length-1)!==R&&(K+=R);return K!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:J||!Y||!Z||!U},{sort:function(M){M!==void 0&&b(M);var R=m(this);if(U)return M===void 0?V(R):V(R,M);var I,z,K=[],de=w(R);for(z=0;z<de;z++)z in R&&oe(K,R[z]);for(j(K,function(le){return function(ve,Se){return Se===void 0?-1:ve===void 0?1:le!==void 0?+le(ve,Se)||0:_(ve)>_(Se)?1:-1}}(M)),I=K.length,z=0;z<I;)R[z]=K[z++];for(;z<de;)delete R[z++];return R}})},function(s,p,i){var f=i(113),c=Math.floor,b=function(_,A){var j=_.length,P=c(j/2);return j<8?m(_,A):w(_,b(f(_,0,P),A),b(f(_,P),A),A)},m=function(_,A){for(var j,P,T=_.length,N=1;N<T;){for(P=N,j=_[N];P&&A(_[P-1],j)>0;)_[P]=_[--P];P!==N++&&(_[P]=j)}return _},w=function(_,A,j,P){for(var T=A.length,N=j.length,L=0,G=0;L<T||G<N;)_[L+G]=L<T&&G<N?P(A[L],j[G])<=0?A[L++]:j[G++]:L<T?A[L++]:j[G++];return _};s.exports=b},function(s,p,i){var f=i(53).match(/firefox\/(\d+)/i);s.exports=!!f&&+f[1]},function(s,p,i){var f=i(53);s.exports=/MSIE|Trident/.test(f)},function(s,p,i){var f=i(53).match(/AppleWebKit\/(\d+)\./);s.exports=!!f&&+f[1]},function(s,p,i){var f=i(16),c=i(74).find,b=i(83),m="find",w=!0;m in[]&&Array(1).find(function(){w=!1}),f({target:"Array",proto:!0,forced:w},{find:function(_){return c(this,_,arguments.length>1?arguments[1]:void 0)}}),b(m)},function(s,p,i){var f=i(7),c=i(154),b=f.TypeError;s.exports=function(m){if(c(m))throw b("The method doesn't accept regular expressions");return m}},function(s,p,i){var f=i(27)("match");s.exports=function(c){var b=/./;try{"/./"[c](b)}catch(m){try{return b[f]=!1,"/./"[c](b)}catch(w){}}return!1}},function(s,p,i){var f=i(94).PROPER,c=i(18),b=i(160);s.exports=function(m){return c(function(){return!!b[m]()||"\u200B\x85\u180E"[m]()!=="\u200B\x85\u180E"||f&&b[m].name!==m})}},function(s,p,i){var f=i(15);s.exports=f(1 .valueOf)},function(s,p,i){var f=i(15),c=i(38),b=Math.floor,m=f("".charAt),w=f("".replace),_=f("".slice),A=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,j=/\$([$&'`]|\d{1,2})/g;s.exports=function(P,T,N,L,G,B){var V=N+P.length,oe=L.length,J=j;return G!==void 0&&(G=c(G),J=A),w(B,J,function(Y,Z){var U;switch(m(Z,0)){case"$":return"$";case"&":return P;case"`":return _(T,0,N);case"'":return _(T,V);case"<":U=G[_(Z,1,-1)];break;default:var M=+Z;if(M===0)return Y;if(M>oe){var R=b(M/10);return R===0?Y:R<=oe?L[R-1]===void 0?m(Z,1):L[R-1]+m(Z,1):Y}U=L[M-1]}return U===void 0?"":U})}},function(s,p,i){var f=i(7),c=i(15),b=i(55),m=i(33),w=i(34),_=i(101),A=f.Function,j=c([].concat),P=c([].join),T={},N=function(L,G,B){if(!w(T,G)){for(var V=[],oe=0;oe<G;oe++)V[oe]="a["+oe+"]";T[G]=A("C,a","return new C("+P(V,",")+")")}return T[G](L,B)};s.exports=A.bind||function(L){var G=b(this),B=G.prototype,V=_(arguments,1),oe=function(){var J=j(V,_(arguments));return this instanceof oe?N(G,J.length,J):G.apply(L,J)};return m(B)&&(oe.prototype=B),oe}},function(s,p,i){var f=i(34);s.exports=function(c){return c!==void 0&&(f(c,"value")||f(c,"writable"))}},function(s,p,i){var f=i(36),c=i(15),b=i(35),m=i(18),w=i(66),_=i(112),A=i(93),j=i(38),P=i(81),T=Object.assign,N=Object.defineProperty,L=c([].concat);s.exports=!T||m(function(){if(f&&T({b:1},T(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var G={},B={},V=Symbol(),oe="abcdefghijklmnopqrst";return G[V]=7,oe.split("").forEach(function(J){B[J]=J}),T({},G)[V]!=7||w(T({},B)).join("")!=oe})?function(G,B){for(var V=j(G),oe=arguments.length,J=1,Y=_.f,Z=A.f;oe>J;)for(var U,M=P(arguments[J++]),R=Y?L(w(M),Y(M)):w(M),I=R.length,z=0;I>z;)U=R[z++],f&&!b(Z,M,U)||(V[U]=M[U]);return V}:T},function(s,p,i){var f=i(15),c=i(45),b=i(40),m=/"/g,w=f("".replace);s.exports=function(_,A,j,P){var T=b(c(_)),N="<"+A;return j!==""&&(N+=" "+j+'="'+w(b(P),m,"&quot;")+'"'),N+">"+T+"</"+A+">"}},function(s,p,i){var f=i(18);s.exports=function(c){return f(function(){var b=""[c]('"');return b!==b.toLowerCase()||b.split('"').length>3})}},function(s,p,i){var f=i(16),c=Math.hypot,b=Math.abs,m=Math.sqrt;f({target:"Math",stat:!0,forced:!!c&&c(1/0,NaN)!==1/0},{hypot:function(w,_){for(var A,j,P=0,T=0,N=arguments.length,L=0;T<N;)L<(A=b(arguments[T++]))?(P=P*(j=L/A)*j+1,L=A):P+=A>0?(j=A/L)*j:A;return L===1/0?1/0:L*m(P)}})},function(s,p,i){var f,c,b,m,w=i(16),_=i(64),A=i(7),j=i(46),P=i(35),T=i(205),N=i(44),L=i(144),G=i(97),B=i(73),V=i(145),oe=i(55),J=i(28),Y=i(33),Z=i(117),U=i(92),M=i(114),R=i(118),I=i(156),z=i(162).set,K=i(206),de=i(209),le=i(210),ve=i(164),Se=i(211),be=i(56),ue=i(95),he=i(27),me=i(212),Ae=i(126),Be=i(65),Ze=he("species"),Pe="Promise",Me=be.getterFor(Pe),Qe=be.set,q=be.getterFor(Pe),W=T&&T.prototype,ie=T,Oe=W,je=A.TypeError,we=A.document,Ve=A.process,$e=ve.f,Ke=$e,Ye=!!(we&&we.createEvent&&A.dispatchEvent),ge=J(A.PromiseRejectionEvent),ze="unhandledrejection",$=!1,Ce=ue(Pe,function(){var X=U(ie),se=X!==String(ie);if(!se&&Be===66||_&&!Oe.finally)return!0;if(Be>=51&&/native code/.test(X))return!1;var ke=new ie(function(Ge){Ge(1)}),De=function(Ge){Ge(function(){},function(){})};return(ke.constructor={})[Ze]=De,!($=ke.then(function(){})instanceof De)||!se&&me&&!ge}),it=Ce||!R(function(X){ie.all(X).catch(function(){})}),gt=function(X){var se;return!(!Y(X)||!J(se=X.then))&&se},rt=function(X,se){if(!X.notified){X.notified=!0;var ke=X.reactions;K(function(){for(var De=X.value,Ge=X.state==1,ct=0;ke.length>ct;){var Bt,Ht,Dt,Mt=ke[ct++],Ie=Ge?Mt.ok:Mt.fail,Xe=Mt.resolve,qe=Mt.reject,et=Mt.domain;try{Ie?(Ge||(X.rejection===2&&ot(X),X.rejection=1),Ie===!0?Bt=De:(et&&et.enter(),Bt=Ie(De),et&&(et.exit(),Dt=!0)),Bt===Mt.promise?qe(je("Promise-chain cycle")):(Ht=gt(Bt))?P(Ht,Bt,Xe,qe):Xe(Bt)):qe(De)}catch(Ot){et&&!Dt&&et.exit(),qe(Ot)}}X.reactions=[],X.notified=!1,se&&!X.rejection&&xt(X)})}},ft=function(X,se,ke){var De,Ge;Ye?((De=we.createEvent("Event")).promise=se,De.reason=ke,De.initEvent(X,!1,!0),A.dispatchEvent(De)):De={promise:se,reason:ke},!ge&&(Ge=A["on"+X])?Ge(De):X===ze&&le("Unhandled promise rejection",ke)},xt=function(X){P(z,A,function(){var se,ke=X.facade,De=X.value;if(Et(X)&&(se=Se(function(){Ae?Ve.emit("unhandledRejection",De,ke):ft(ze,ke,De)}),X.rejection=Ae||Et(X)?2:1,se.error))throw se.value})},Et=function(X){return X.rejection!==1&&!X.parent},ot=function(X){P(z,A,function(){var se=X.facade;Ae?Ve.emit("rejectionHandled",se):ft("rejectionhandled",se,X.value)})},kt=function(X,se,ke){return function(De){X(se,De,ke)}},H=function(X,se,ke){X.done||(X.done=!0,ke&&(X=ke),X.value=se,X.state=2,rt(X,!0))},ne=function(X,se,ke){if(!X.done){X.done=!0,ke&&(X=ke);try{if(X.facade===se)throw je("Promise can't be resolved itself");var De=gt(se);De?K(function(){var Ge={done:!1};try{P(De,se,kt(ne,Ge,X),kt(H,Ge,X))}catch(ct){H(Ge,ct,X)}}):(X.value=se,X.state=1,rt(X,!1))}catch(Ge){H({done:!1},Ge,X)}}};if(Ce&&(Oe=(ie=function(X){Z(this,Oe),oe(X),P(f,this);var se=Me(this);try{X(kt(ne,se),kt(H,se))}catch(ke){H(se,ke)}}).prototype,(f=function(X){Qe(this,{type:Pe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=L(Oe,{then:function(X,se){var ke=q(this),De=ke.reactions,Ge=$e(I(this,ie));return Ge.ok=!J(X)||X,Ge.fail=J(se)&&se,Ge.domain=Ae?Ve.domain:void 0,ke.parent=!0,De[De.length]=Ge,ke.state!=0&&rt(ke,!1),Ge.promise},catch:function(X){return this.then(void 0,X)}}),c=function(){var X=new f,se=Me(X);this.promise=X,this.resolve=kt(ne,se),this.reject=kt(H,se)},ve.f=$e=function(X){return X===ie||X===b?new c(X):Ke(X)},!_&&J(T)&&W!==Object.prototype)){m=W.then,$||(N(W,"then",function(X,se){var ke=this;return new ie(function(De,Ge){P(m,ke,De,Ge)}).then(X,se)},{unsafe:!0}),N(W,"catch",Oe.catch,{unsafe:!0}));try{delete W.constructor}catch(X){}G&&G(W,Oe)}w({global:!0,wrap:!0,forced:Ce},{Promise:ie}),B(ie,Pe,!1,!0),V(Pe),b=j(Pe),w({target:Pe,stat:!0,forced:Ce},{reject:function(X){var se=$e(this);return P(se.reject,void 0,X),se.promise}}),w({target:Pe,stat:!0,forced:_||Ce},{resolve:function(X){return de(_&&this===b?ie:this,X)}}),w({target:Pe,stat:!0,forced:it},{all:function(X){var se=this,ke=$e(se),De=ke.resolve,Ge=ke.reject,ct=Se(function(){var Bt=oe(se.resolve),Ht=[],Dt=0,Mt=1;M(X,function(Ie){var Xe=Dt++,qe=!1;Mt++,P(Bt,se,Ie).then(function(et){qe||(qe=!0,Ht[Xe]=et,--Mt||De(Ht))},Ge)}),--Mt||De(Ht)});return ct.error&&Ge(ct.value),ke.promise},race:function(X){var se=this,ke=$e(se),De=ke.reject,Ge=Se(function(){var ct=oe(se.resolve);M(X,function(Bt){P(ct,se,Bt).then(ke.resolve,De)})});return Ge.error&&De(Ge.value),ke.promise}})},function(s,p,i){var f=i(7);s.exports=f.Promise},function(s,p,i){var f,c,b,m,w,_,A,j,P=i(7),T=i(62),N=i(51).f,L=i(162).set,G=i(163),B=i(207),V=i(208),oe=i(126),J=P.MutationObserver||P.WebKitMutationObserver,Y=P.document,Z=P.process,U=P.Promise,M=N(P,"queueMicrotask"),R=M&&M.value;R||(f=function(){var I,z;for(oe&&(I=Z.domain)&&I.exit();c;){z=c.fn,c=c.next;try{z()}catch(K){throw c?m():b=void 0,K}}b=void 0,I&&I.enter()},G||oe||V||!J||!Y?!B&&U&&U.resolve?((A=U.resolve(void 0)).constructor=U,j=T(A.then,A),m=function(){j(f)}):oe?m=function(){Z.nextTick(f)}:(L=T(L,P),m=function(){L(f)}):(w=!0,_=Y.createTextNode(""),new J(f).observe(_,{characterData:!0}),m=function(){_.data=w=!w})),s.exports=R||function(I){var z={fn:I,next:void 0};b&&(b.next=z),c||(c=z,m()),b=z}},function(s,p,i){var f=i(53),c=i(7);s.exports=/ipad|iphone|ipod/i.test(f)&&c.Pebble!==void 0},function(s,p,i){var f=i(53);s.exports=/web0s(?!.*chrome)/i.test(f)},function(s,p,i){var f=i(32),c=i(33),b=i(164);s.exports=function(m,w){if(f(m),c(w)&&w.constructor===m)return w;var _=b.f(m);return(0,_.resolve)(w),_.promise}},function(s,p,i){var f=i(7);s.exports=function(c,b){var m=f.console;m&&m.error&&(arguments.length==1?m.error(c):m.error(c,b))}},function(s,p){s.exports=function(i){try{return{error:!1,value:i()}}catch(f){return{error:!0,value:f}}}},function(s,p){s.exports=typeof window=="object"},function(s,p,i){var f=i(36),c=i(15),b=i(66),m=i(39),w=c(i(93).f),_=c([].push),A=function(j){return function(P){for(var T,N=m(P),L=b(N),G=L.length,B=0,V=[];G>B;)T=L[B++],f&&!w(N,T)||_(V,j?[T,N[T]]:N[T]);return V}};s.exports={entries:A(!0),values:A(!1)}},function(s,p,i){var f=i(38),c=i(67),b=i(43);s.exports=function(m){for(var w=f(this),_=b(w),A=arguments.length,j=c(A>1?arguments[1]:void 0,_),P=A>2?arguments[2]:void 0,T=P===void 0?_:c(P,_);T>j;)w[j++]=m;return w}},function(s,p,i){i.r(p),i.d(p,"observer",function(){return Gn}),i.d(p,"LogicFlow",function(){return tf}),i.d(p,"h",function(){return $.g}),i.d(p,"LogicFlowUtil",function(){return f}),i.d(p,"BaseNode",function(){return br}),i.d(p,"RectNode",function(){return Jc}),i.d(p,"CircleNode",function(){return $c}),i.d(p,"PolygonNode",function(){return ol}),i.d(p,"DiamondNode",function(){return sl}),i.d(p,"EllipseNode",function(){return dl}),i.d(p,"TextNode",function(){return gl}),i.d(p,"HtmlNode",function(){return Ol}),i.d(p,"BaseEdge",function(){return hi}),i.d(p,"LineEdge",function(){return Cl}),i.d(p,"PolylineEdge",function(){return Ll}),i.d(p,"BezierEdge",function(){return Ul}),i.d(p,"Arrow",function(){return bw}),i.d(p,"BaseEdgeModel",function(){return ds}),i.d(p,"BezierEdgeModel",function(){return oc}),i.d(p,"LineEdgeModel",function(){return bs}),i.d(p,"PolylineEdgeModel",function(){return _s}),i.d(p,"BaseNodeModel",function(){return vr}),i.d(p,"CircleNodeModel",function(){return lc}),i.d(p,"DiamondNodeModel",function(){return yc}),i.d(p,"EllipseNodeModel",function(){return mc}),i.d(p,"PolygonNodeModel",function(){return Sc}),i.d(p,"RectNodeModel",function(){return kc}),i.d(p,"TextNodeModel",function(){return Nc}),i.d(p,"HtmlNodeModel",function(){return Rc}),i.d(p,"EditConfigModel",function(){return Hf}),i.d(p,"GraphModel",function(){return Td}),i.d(p,"SnaplineModel",function(){return fy}),i.d(p,"Keyboard",function(){return eg}),i.d(p,"get",function(){return nh}),i.d(p,"defaults",function(){return oh});var f={};i.r(f),i.d(f,"createUuid",function(){return Jr}),i.d(f,"refreshGraphId",function(){return Eb}),i.d(f,"createDrag",function(){return ks}),i.d(f,"StepDrag",function(){return Zr});var c=i(0),b=i(10);if(!b.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!c.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var m=i(42),w=Object(m.b)("observerBatching");function _(e){e()}var A=!1;function j(){return A}function P(e){return Object(c.t)(e)}var T,N=1e4,L=new Set;function G(){T===void 0&&(T=setTimeout(B,1e4))}function B(){T=void 0;var e=Date.now();L.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,L.delete(t))}),L.size>0&&G()}var V=!1,oe=[],J={};function Y(e){return"observer"+e}function Z(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=J),j();var r,a=function(O){return function(){V?oe.push(O):O()}}((n.useForceUpdate||m.d)()),o=b.d.useRef(null);if(!o.current){var u=new c.c(Y(t),function(){l.mounted?a():(u.dispose(),o.current=null)}),l=function(O){return{cleanAt:Date.now()+N,reaction:O}}(u);o.current=l,r=o,L.add(r),G()}var d=o.current.reaction;return b.d.useDebugValue(d,P),b.d.useEffect(function(){var O;return O=o,L.delete(O),o.current?o.current.mounted=!0:(o.current={reaction:new c.c(Y(t),function(){a()}),cleanAt:1/0},a()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(O){V=!0,oe=[];try{var x=O();V=!1;var S=oe.length>0?oe:void 0;return b.d.useLayoutEffect(function(){S&&S.forEach(function(k){return k()})},[S]),x}finally{V=!1}}(function(){var O,x;if(d.track(function(){try{O=e()}catch(S){x=S}}),x)throw x;return O})}var U=function(){return U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},U.apply(this,arguments)};function M(e,t){var n,r,a,o=U({forwardRef:!1},t),u=e.displayName||e.name,l=function(d,O){return Z(function(){return e(d,O)},u)};return l.displayName=u,n=o.forwardRef?Object(b.f)(Object(b.e)(l)):Object(b.f)(l),r=e,a=n,Object.keys(r).forEach(function(d){R[d]||Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(r,d))}),n.displayName=u,n}var R={$$typeof:!0,render:!0,compare:!0,type:!0};function I(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:Z(r)}function z(e,t,n,r,a){var o=t==="children"?"render":"children",u=typeof e[t]=="function",l=typeof e[o]=="function";return u&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||l?null:new Error("Invalid prop `"+a+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}I.propTypes={children:z,render:z},I.displayName="Observer";var K;(K=b.g)||(K=_),Object(c.n)({reactionScheduler:K}),Object(m.a)()[w]=!0;var de=0,le={};function ve(e){return le[e]||(le[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+de+")";return de++,n}(e)),le[e]}function Se(e,t){if(be(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(t,n[a])||!be(e[n[a]],t[n[a]]))return!1;return!0}function be(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ue(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var he=ve("patchMixins"),me=ve("patchedDefinition");function Ae(e,t){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];t.locks++;try{var u;return e!=null&&(u=e.apply(this,a)),u}finally{t.locks--,t.locks===0&&t.methods.forEach(function(l){l.apply(n,a)})}}function Be(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];Ae.call.apply(Ae,[this,e,t].concat(r))}}function Ze(e,t,n){var r=function(l,d){var O=l[he]=l[he]||{},x=O[d]=O[d]||{};return x.locks=x.locks||0,x.methods=x.methods||[],x}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(e,t);if(!a||!a[me]){var o=e[t],u=Pe(e,t,a?a.enumerable:void 0,r,o);Object.defineProperty(e,t,u)}}function Pe(e,t,n,r,a){var o,u=Be(a,r);return(o={})[me]=!0,o.get=function(){return u},o.set=function(l){if(this===e)u=Be(l,r);else{var d=Pe(this,t,n,r,l);Object.defineProperty(this,t,d)}},o.configurable=!0,o.enumerable=n,o}var Me=c.a||"$mobx",Qe=ve("isMobXReactObserver"),q=ve("isUnmounted"),W=ve("skipRender"),ie=ve("isForcingUpdate");function Oe(e){var t=e.prototype;if(e[Qe]?je(t):e[Qe]=!0,t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==b.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==Ve)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=Ve;$e(t,"props"),$e(t,"state");var n=t.render;return t.render=function(){return we.call(this,n)},Ze(t,"componentWillUnmount",function(){var r;(r=this.render[Me])===null||r===void 0||r.dispose(),this[q]=!0,!this.render[Me]&&je(this)}),e}function je(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function we(e){var t=this;ue(this,W,!1),ue(this,ie,!1);var n=je(this),r=e.bind(this),a=!1,o=new c.c(n+".render()",function(){if(!a&&(a=!0,t[q]!==!0)){var l=!0;try{ue(t,ie,!0),t[W]||b.a.prototype.forceUpdate.call(t),l=!1}finally{ue(t,ie,!1),l&&o.dispose()}}});function u(){a=!1;var l=void 0,d=void 0;if(o.track(function(){try{d=Object(c.d)(!1,r)}catch(O){l=O}}),l)throw l;return d}return o.reactComponent=this,u[Me]=o,this.render=u,u.call(this)}function Ve(e,t){return this.state!==t||!Se(this.props,e)}function $e(e,t){var n=ve("reactProp_"+t+"_valueHolder"),r=ve("reactProp_"+t+"_atomHolder");function a(){return this[r]||ue(this,r,Object(c.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var o=!1;return c.f&&c.e&&(o=Object(c.f)(!0)),a.call(this).reportObserved(),c.f&&c.e&&Object(c.e)(o),this[n]},set:function(o){this[ie]||Se(this[n],o)?ue(this,n,o):(ue(this,n,o),ue(this,W,!0),a.call(this).reportChanged(),ue(this,W,!1))}})}var Ke=typeof Symbol=="function"&&Symbol.for,Ye=Ke?Symbol.for("react.forward_ref"):typeof b.e=="function"&&Object(b.e)(function(e){return null}).$$typeof,ge=Ke?Symbol.for("react.memo"):typeof b.f=="function"&&Object(b.f)(function(e){return null}).$$typeof;function ze(e){if(e.isMobxInjector,ge&&e.$$typeof===ge)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Ye&&e.$$typeof===Ye){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(b.e)(function(){var n=arguments;return Object(b.c)(I,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(b.a,e)?Oe(e):M(e)}if(!b.a)throw new Error("mobx-react requires React to be available");if(!c.C)throw new Error("mobx-react requires mobx to be available");var $=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);var Ce=function(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a},it=function(){this.__data__=[],this.size=0},gt=function(e,t){return e===t||e!=e&&t!=t},rt=function(e,t){for(var n=e.length;n--;)if(gt(e[n][0],t))return n;return-1},ft=Array.prototype.splice,xt=function(e){var t=this.__data__,n=rt(t,e);return!(n<0)&&(n==t.length-1?t.pop():ft.call(t,n,1),--this.size,!0)},Et=function(e){var t=this.__data__,n=rt(t,e);return n<0?void 0:t[n][1]},ot=function(e){return rt(this.__data__,e)>-1},kt=function(e,t){var n=this.__data__,r=rt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function H(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}H.prototype.clear=it,H.prototype.delete=xt,H.prototype.get=Et,H.prototype.has=ot,H.prototype.set=kt;var ne=H,X=function(){this.__data__=new ne,this.size=0},se=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ke=function(e){return this.__data__.get(e)},De=function(e){return this.__data__.has(e)},Ge=i(30),ct=Ge.a.Symbol,Bt=Object.prototype,Ht=Bt.hasOwnProperty,Dt=Bt.toString,Mt=ct?ct.toStringTag:void 0,Ie=function(e){var t=Ht.call(e,Mt),n=e[Mt];try{e[Mt]=void 0;var r=!0}catch(o){}var a=Dt.call(e);return r&&(t?e[Mt]=n:delete e[Mt]),a},Xe=Object.prototype.toString,qe=function(e){return Xe.call(e)},et=ct?ct.toStringTag:void 0,Ot=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":et&&et in Object(e)?Ie(e):qe(e)},Pt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},ur,Hn=function(e){if(!Pt(e))return!1;var t=Ot(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Yn=Ge.a["__core-js_shared__"],Fr=(ur=/[^.]+$/.exec(Yn&&Yn.keys&&Yn.keys.IE_PROTO||""))?"Symbol(src)_1."+ur:"",Mu=function(e){return!!Fr&&Fr in e},Uo=Function.prototype.toString,Sn=function(e){if(e!=null){try{return Uo.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Pi=/^\[object .+?Constructor\]$/,Ue=Function.prototype,Nu=Object.prototype,ki=Ue.toString,Di=Nu.hasOwnProperty,gn=RegExp("^"+ki.call(Di).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vn=function(e){return!(!Pt(e)||Mu(e))&&(Hn(e)?gn:Pi).test(Sn(e))},Ti=function(e,t){return e==null?void 0:e[t]},Xn=function(e,t){var n=Ti(e,t);return vn(n)?n:void 0},xr=Xn(Ge.a,"Map"),Nn=Xn(Object,"create"),Go=function(){this.__data__=Nn?Nn(null):{},this.size=0},Mi=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Cu=Object.prototype.hasOwnProperty,oo=function(e){var t=this.__data__;if(Nn){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return Cu.call(t,e)?t[e]:void 0},Iu=Object.prototype.hasOwnProperty,Ni=function(e){var t=this.__data__;return Nn?t[e]!==void 0:Iu.call(t,e)},Ru=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nn&&t===void 0?"__lodash_hash_undefined__":t,this};function sr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sr.prototype.clear=Go,sr.prototype.delete=Mi,sr.prototype.get=oo,sr.prototype.has=Ni,sr.prototype.set=Ru;var Ci=sr,Qn=function(){this.size=0,this.__data__={hash:new Ci,map:new(xr||ne),string:new Ci}},Bu=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},io=function(e,t){var n=e.__data__;return Bu(t)?n[typeof t=="string"?"string":"hash"]:n.map},Ho=function(e){var t=io(this,e).delete(e);return this.size-=t?1:0,t},Yo=function(e){return io(this,e).get(e)},Lu=function(e){return io(this,e).has(e)},Ii=function(e,t){var n=io(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Er(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Er.prototype.clear=Qn,Er.prototype.delete=Ho,Er.prototype.get=Yo,Er.prototype.has=Lu,Er.prototype.set=Ii;var Sr=Er,Ri=function(e,t){var n=this.__data__;if(n instanceof ne){var r=n.__data__;if(!xr||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Sr(r)}return n.set(e,t),this.size=n.size,this};function Ar(e){var t=this.__data__=new ne(e);this.size=t.size}Ar.prototype.clear=X,Ar.prototype.delete=se,Ar.prototype.get=ke,Ar.prototype.has=De,Ar.prototype.set=Ri;var Vn=Ar,Bi=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Li=function(e){return this.__data__.has(e)};function Ur(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Sr;++t<n;)this.add(e[t])}Ur.prototype.add=Ur.prototype.push=Bi,Ur.prototype.has=Li;var zi=Ur,zu=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Fi=function(e,t){return e.has(t)},Ui=function(e,t,n,r,a,o){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var O=o.get(e),x=o.get(t);if(O&&x)return O==t&&x==e;var S=-1,k=!0,C=2&n?new zi:void 0;for(o.set(e,t),o.set(t,e);++S<l;){var Q=e[S],ee=t[S];if(r)var ae=u?r(ee,Q,S,t,e,o):r(Q,ee,S,e,t,o);if(ae!==void 0){if(ae)continue;k=!1;break}if(C){if(!zu(t,function(re,pe){if(!Fi(C,pe)&&(Q===re||a(Q,re,n,r,o)))return C.push(pe)})){k=!1;break}}else if(Q!==ee&&!a(Q,ee,n,r,o)){k=!1;break}}return o.delete(e),o.delete(t),k},Gr=Ge.a.Uint8Array,Gi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n},Fu=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},Hi=ct?ct.prototype:void 0,Xo=Hi?Hi.valueOf:void 0,Hr=function(e,t,n,r,a,o,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Gr(e),new Gr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return gt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Gi;case"[object Set]":var d=1&r;if(l||(l=Fu),e.size!=t.size&&!d)return!1;var O=u.get(e);if(O)return O==t;r|=2,u.set(e,t);var x=Ui(l(e),l(t),r,a,o,u);return u.delete(e),x;case"[object Symbol]":if(Xo)return Xo.call(e)==Xo.call(t)}return!1},Wn=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e},Vt=Array.isArray,Yi=function(e,t,n){var r=t(e);return Vt(e)?r:Wn(r,n(e))},Xi=function(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var u=e[n];t(u,n,e)&&(o[a++]=u)}return o},Qi=function(){return[]},Uu=Object.prototype.propertyIsEnumerable,cr=Object.getOwnPropertySymbols,An=cr?function(e){return e==null?[]:(e=Object(e),Xi(cr(e),function(t){return Uu.call(e,t)}))}:Qi,Gu=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},jn=function(e){return e!=null&&typeof e=="object"},bn=function(e){return jn(e)&&Ot(e)=="[object Arguments]"},Vi=Object.prototype,Wi=Vi.hasOwnProperty,Hu=Vi.propertyIsEnumerable,ao=bn(function(){return arguments}())?bn:function(e){return jn(e)&&Wi.call(e,"callee")&&!Hu.call(e,"callee")},Jn=ao,Yr=i(48),Yu=/^(?:0|[1-9]\d*)$/,rn=function(e,t){var n=typeof e;return!!(t=t==null?9007199254740991:t)&&(n=="number"||n!="symbol"&&Yu.test(e))&&e>-1&&e%1==0&&e<t},lr=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},dt={};dt["[object Float32Array]"]=dt["[object Float64Array]"]=dt["[object Int8Array]"]=dt["[object Int16Array]"]=dt["[object Int32Array]"]=dt["[object Uint8Array]"]=dt["[object Uint8ClampedArray]"]=dt["[object Uint16Array]"]=dt["[object Uint32Array]"]=!0,dt["[object Arguments]"]=dt["[object Array]"]=dt["[object ArrayBuffer]"]=dt["[object Boolean]"]=dt["[object DataView]"]=dt["[object Date]"]=dt["[object Error]"]=dt["[object Function]"]=dt["[object Map]"]=dt["[object Number]"]=dt["[object Object]"]=dt["[object RegExp]"]=dt["[object Set]"]=dt["[object String]"]=dt["[object WeakMap]"]=!1;var mn=function(e){return jn(e)&&lr(e.length)&&!!dt[Ot(e)]},fr=function(e){return function(t){return e(t)}},Yt=i(49),Ji=Yt.a&&Yt.a.isTypedArray,Qo=Ji?fr(Ji):mn,Zi=Object.prototype.hasOwnProperty,Pn=function(e,t){var n=Vt(e),r=!n&&Jn(e),a=!n&&!r&&Object(Yr.a)(e),o=!n&&!r&&!a&&Qo(e),u=n||r||a||o,l=u?Gu(e.length,String):[],d=l.length;for(var O in e)!t&&!Zi.call(e,O)||u&&(O=="length"||a&&(O=="offset"||O=="parent")||o&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||rn(O,d))||l.push(O);return l},Ki=Object.prototype,uo=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Ki)},kn=function(e,t){return function(n){return e(t(n))}},qi=kn(Object.keys,Object),Xu=Object.prototype.hasOwnProperty,Vo=function(e){if(!uo(e))return qi(e);var t=[];for(var n in Object(e))Xu.call(e,n)&&n!="constructor"&&t.push(n);return t},Nt=function(e){return e!=null&&lr(e.length)&&!Hn(e)},jr=function(e){return Nt(e)?Pn(e):Vo(e)},so=function(e){return Yi(e,jr,An)},dn=Object.prototype.hasOwnProperty,$i=function(e,t,n,r,a,o){var u=1&n,l=so(e),d=l.length;if(d!=so(t).length&&!u)return!1;for(var O=d;O--;){var x=l[O];if(!(u?x in t:dn.call(t,x)))return!1}var S=o.get(e),k=o.get(t);if(S&&k)return S==t&&k==e;var C=!0;o.set(e,t),o.set(t,e);for(var Q=u;++O<d;){var ee=e[x=l[O]],ae=t[x];if(r)var re=u?r(ae,ee,x,t,e,o):r(ee,ae,x,e,t,o);if(!(re===void 0?ee===ae||a(ee,ae,n,r,o):re)){C=!1;break}Q||(Q=x=="constructor")}if(C&&!Q){var pe=e.constructor,ye=t.constructor;pe==ye||!("constructor"in e)||!("constructor"in t)||typeof pe=="function"&&pe instanceof pe&&typeof ye=="function"&&ye instanceof ye||(C=!1)}return o.delete(e),o.delete(t),C},Xr=Xn(Ge.a,"DataView"),co=Xn(Ge.a,"Promise"),lo=Xn(Ge.a,"Set"),fo=Xn(Ge.a,"WeakMap"),ea="[object Map]",hn="[object Promise]",On="[object Set]",Pr="[object WeakMap]",Wo="[object DataView]",Jo=Sn(Xr),Zo=Sn(xr),ta=Sn(co),Qu=Sn(lo),po=Sn(fo),pr=Ot;(Xr&&pr(new Xr(new ArrayBuffer(1)))!=Wo||xr&&pr(new xr)!=ea||co&&pr(co.resolve())!=hn||lo&&pr(new lo)!=On||fo&&pr(new fo)!=Pr)&&(pr=function(e){var t=Ot(e),n=t=="[object Object]"?e.constructor:void 0,r=n?Sn(n):"";if(r)switch(r){case Jo:return Wo;case Zo:return ea;case ta:return hn;case Qu:return On;case po:return Pr}return t});var h=pr,g="[object Arguments]",E="[object Array]",D="[object Object]",F=Object.prototype.hasOwnProperty,te=function(e,t,n,r,a,o){var u=Vt(e),l=Vt(t),d=u?E:h(e),O=l?E:h(t),x=(d=d==g?D:d)==D,S=(O=O==g?D:O)==D,k=d==O;if(k&&Object(Yr.a)(e)){if(!Object(Yr.a)(t))return!1;u=!0,x=!1}if(k&&!x)return o||(o=new Vn),u||Qo(e)?Ui(e,t,n,r,a,o):Hr(e,t,d,n,r,a,o);if(!(1&n)){var C=x&&F.call(e,"__wrapped__"),Q=S&&F.call(t,"__wrapped__");if(C||Q){var ee=C?e.value():e,ae=Q?t.value():t;return o||(o=new Vn),a(ee,ae,n,r,o)}}return!!k&&(o||(o=new Vn),$i(e,t,n,r,a,o))},fe=function e(t,n,r,a,o){return t===n||(t==null||n==null||!jn(t)&&!jn(n)?t!=t&&n!=n:te(t,n,r,a,e,o))},Ee=function(e,t,n,r){var a=n.length,o=a,u=!r;if(e==null)return!o;for(e=Object(e);a--;){var l=n[a];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var d=(l=n[a])[0],O=e[d],x=l[1];if(u&&l[2]){if(O===void 0&&!(d in e))return!1}else{var S=new Vn;if(r)var k=r(O,x,d,e,t,S);if(!(k===void 0?fe(x,O,3,r,S):k))return!1}}return!0},Le=function(e){return e==e&&!Pt(e)},lt=function(e){for(var t=jr(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,Le(a)]}return t},tt=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},wt=function(e){var t=lt(e);return t.length==1&&t[0][2]?tt(t[0][0],t[0][1]):function(n){return n===e||Ee(n,e,t)}},st=function(e){return typeof e=="symbol"||jn(e)&&Ot(e)=="[object Symbol]"},mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wn=/^\w*$/,At=function(e,t){if(Vt(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!st(e))||wn.test(e)||!mt.test(e)||t!=null&&e in Object(t)};function on(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var u=e.apply(this,r);return n.cache=o.set(a,u)||o,u};return n.cache=new(on.Cache||Sr),n}on.Cache=Sr;var Qr=on,Vu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,na=/\\(\\)?/g,ra=function(e){var t=Qr(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Vu,function(n,r,a,o){t.push(a?o.replace(na,"$1"):r||n)}),t}),ho=ct?ct.prototype:void 0,Ko=ho?ho.toString:void 0,an=function e(t){if(typeof t=="string")return t;if(Vt(t))return Ce(t,e)+"";if(st(t))return Ko?Ko.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},oa=function(e){return e==null?"":an(e)},Vr=function(e,t){return Vt(e)?e:At(e,t)?[e]:ra(oa(e))},qo=function(e){if(typeof e=="string"||st(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Wu=function(e,t){for(var n=0,r=(t=Vr(t,e)).length;e!=null&&n<r;)e=e[qo(t[n++])];return n&&n==r?e:void 0},vf=function(e,t,n){var r=e==null?void 0:Wu(e,t);return r===void 0?n:r},lv=function(e,t){return e!=null&&t in Object(e)},fv=function(e,t,n){for(var r=-1,a=(t=Vr(t,e)).length,o=!1;++r<a;){var u=qo(t[r]);if(!(o=e!=null&&n(e,u)))break;e=e[u]}return o||++r!=a?o:!!(a=e==null?0:e.length)&&lr(a)&&rn(u,a)&&(Vt(e)||Jn(e))},bf=function(e,t){return e!=null&&fv(e,t,lv)},pv=function(e,t){return At(e)&&Le(t)?tt(qo(e),t):function(n){var r=vf(n,e);return r===void 0&&r===t?bf(n,e):fe(t,r,3)}},Ju=function(e){return e},dv=function(e){return function(t){return t==null?void 0:t[e]}},hv=function(e){return function(t){return Wu(t,e)}},yv=function(e){return At(e)?dv(qo(e)):hv(e)},gv=function(e){return typeof e=="function"?e:e==null?Ju:typeof e=="object"?Vt(e)?pv(e[0],e[1]):wt(e):yv(e)},mf=function(e){return function(t,n,r){for(var a=-1,o=Object(t),u=r(t),l=u.length;l--;){var d=u[e?l:++a];if(n(o[d],d,o)===!1)break}return t}}(),vv=function(e,t){return function(n,r){if(n==null)return n;if(!Nt(n))return e(n,r);for(var a=n.length,o=t?a:-1,u=Object(n);(t?o--:++o<a)&&r(u[o],o,u)!==!1;);return n}}(function(e,t){return e&&mf(e,t,jr)}),bv=function(e,t){var n=-1,r=Nt(e)?Array(e.length):[];return vv(e,function(a,o,u){r[++n]=t(a,o,u)}),r},ia=function(e,t){return(Vt(e)?Ce:bv)(e,gv(t))},aa=function(){try{var e=Xn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Zu=function(e,t,n){t=="__proto__"&&aa?aa(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},mv=Object.prototype.hasOwnProperty,ua=function(e,t,n){var r=e[t];mv.call(e,t)&&gt(r,n)&&(n!==void 0||t in e)||Zu(e,t,n)},yo=function(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var l=t[o],d=r?r(n[l],e[l],l,n,e):void 0;d===void 0&&(d=e[l]),a?Zu(n,l,d):ua(n,l,d)}return n},Ov=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Of=Math.max,wf=function(e,t,n){return t=Of(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=Of(r.length-t,0),u=Array(o);++a<o;)u[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(u),Ov(e,this,l)}},wv=function(e){return function(){return e}},_v=aa?function(e,t){return aa(e,"toString",{configurable:!0,enumerable:!1,value:wv(t),writable:!0})}:Ju,xv=Date.now,Ev=function(e){var t=0,n=0;return function(){var r=xv(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},_f=Ev(_v),Sv=function(e,t){return _f(wf(e,t,Ju),e+"")},Av=function(e,t,n){if(!Pt(n))return!1;var r=typeof t;return!!(r=="number"?Nt(n)&&rn(t,n.length):r=="string"&&t in n)&&gt(n[t],e)},xf=function(e){return Sv(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,u=a>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):void 0,u&&Av(n[0],n[1],u)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var l=n[r];l&&e(t,l,r,o)}return t})},jv=Object.prototype.hasOwnProperty,un=xf(function(e,t){if(uo(t)||Nt(t))yo(t,jr(t),e);else for(var n in t)jv.call(t,n)&&ua(e,n,t[n])}),Pv=function(e,t,n,r){if(!Pt(e))return e;for(var a=-1,o=(t=Vr(t,e)).length,u=o-1,l=e;l!=null&&++a<o;){var d=qo(t[a]),O=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(a!=u){var x=l[d];(O=r?r(x,d,l):void 0)===void 0&&(O=Pt(x)?x:rn(t[a+1])?[]:{})}ua(l,d,O),l=l[d]}return e},kv=function(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var u=t[r],l=Wu(e,u);n(l,u)&&Pv(o,Vr(u,e),l)}return o},Dv=function(e,t){return kv(e,t,function(n,r){return bf(e,r)})},Ef=ct?ct.isConcatSpreadable:void 0,Tv=function(e){return Vt(e)||Jn(e)||!!(Ef&&e&&e[Ef])},Mv=function e(t,n,r,a,o){var u=-1,l=t.length;for(r||(r=Tv),o||(o=[]);++u<l;){var d=t[u];n>0&&r(d)?n>1?e(d,n-1,r,a,o):Wn(o,d):a||(o[o.length]=d)}return o},Nv=function(e){return e!=null&&e.length?Mv(e,1):[]},Lt,Sf,Af,jf,Pf,kf,Df,Tf,Mf,Nf,Cf,If,Rf,Bf,Lf,zf,Ff,$o=function(e){return _f(wf(e,void 0,Nv),e+"")}(function(e,t){return e==null?{}:Dv(e,t)});function qt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var _t,Gf,pt,Ut,at,jt,Iv={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Ku=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],Hf=(Sf=Wt((Lt=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),qt(this,"isSilentMode",Sf,this),qt(this,"stopZoomGraph",Af,this),qt(this,"stopScrollGraph",jf,this),qt(this,"stopMoveGraph",Pf,this),qt(this,"adjustEdge",kf,this),qt(this,"adjustEdgeMiddle",Df,this),qt(this,"adjustEdgeStartAndEnd",Tf,this),qt(this,"adjustNodePosition",Mf,this),qt(this,"hideAnchors",Nf,this),qt(this,"hoverOutline",Cf,this),qt(this,"nodeSelectedOutline",If,this),qt(this,"edgeSelectedOutline",Rf,this),qt(this,"nodeTextEdit",Bf,this),qt(this,"edgeTextEdit",Lf,this),qt(this,"nodeTextDraggable",zf,this),qt(this,"edgeTextDraggable",Ff,this),Uf(this,"multipleSelectKey",""),Uf(this,"defaultConfig",{}),un(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var a=this.getConfigDetail(r);un(this,a)}},{key:"getConfigDetail",value:function(r){var a=r.isSilentMode,o=r.textEdit,u={};if(a===!1&&un(u,this.defaultConfig),a===!0){var l=$o(Iv,Ku);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},un(u,l)}o===!1&&un(u,{nodeTextEdit:!1,edgeTextEdit:!1});var d=$o(r,Ku);return un(u,d)}},{key:"getConfig",value:function(){return $o(this,Ku)}}])&&Cv(t.prototype,n),e}()).prototype,"isSilentMode",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Af=Wt(Lt.prototype,"stopZoomGraph",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jf=Wt(Lt.prototype,"stopScrollGraph",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pf=Wt(Lt.prototype,"stopMoveGraph",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kf=Wt(Lt.prototype,"adjustEdge",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Df=Wt(Lt.prototype,"adjustEdgeMiddle",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tf=Wt(Lt.prototype,"adjustEdgeStartAndEnd",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mf=Wt(Lt.prototype,"adjustNodePosition",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Nf=Wt(Lt.prototype,"hideAnchors",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cf=Wt(Lt.prototype,"hoverOutline",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),If=Wt(Lt.prototype,"nodeSelectedOutline",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Rf=Wt(Lt.prototype,"edgeSelectedOutline",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bf=Wt(Lt.prototype,"nodeTextEdit",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Lf=Wt(Lt.prototype,"edgeTextEdit",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zf=Wt(Lt.prototype,"nodeTextDraggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ff=Wt(Lt.prototype,"edgeTextDraggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wt(Lt.prototype,"updateEditConfig",[c.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updateEditConfig"),Lt.prototype),Lt);i(77),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(_t||(_t={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(Gf||(Gf={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(pt||(pt={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(Ut||(Ut={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(at||(at={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(jt||(jt={}));var _n,Ct,Yf,Xf,Qf,Vf,Wf,Jf,Zf;function sa(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Kf(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Kf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wr(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Rv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cn(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(_n||(_n={}));var Bv=(Ct=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),qu(this,"MINI_SCALE_SIZE",.2),qu(this,"MAX_SCALE_SIZE",16),Wr(this,"SCALE_X",Yf,this),Wr(this,"SKEW_Y",Xf,this),Wr(this,"SKEW_X",Qf,this),Wr(this,"SCALE_Y",Vf,this),Wr(this,"TRANSLATE_X",Wf,this),Wr(this,"TRANSLATE_Y",Jf,this),Wr(this,"ZOOM_SIZE",Zf,this),qu(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var a=sa(r,2),o=a[0],u=a[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var a=sa(r,2),o=a[0],u=a[1];return[o*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,a,o){var u=sa(r,2),l=u[0],d=u[1];return[l+a/this.SCALE_X,d+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,a){return[r/this.SCALE_X,a/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,u=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,u=r),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(a&&(this.TRANSLATE_X-=(o-this.SCALE_X)*a[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*a[1]),this.SCALE_X=o,this.SCALE_Y=u,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(at.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,a){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=a,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,a,o,u){var l=sa(this.CanvasPointToHtmlPoint([r,a]),2),d=o/2-l[0],O=u/2-l[1];this.TRANSLATE_X+=d,this.TRANSLATE_Y+=O,this.emitGraphTransform("focusOn")}}],n&&Rv(t.prototype,n),e}(),Yf=Cn(Ct.prototype,"SCALE_X",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Xf=Cn(Ct.prototype,"SKEW_Y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qf=Cn(Ct.prototype,"SKEW_X",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vf=Cn(Ct.prototype,"SCALE_Y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Wf=Cn(Ct.prototype,"TRANSLATE_X",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jf=Cn(Ct.prototype,"TRANSLATE_Y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zf=Cn(Ct.prototype,"ZOOM_SIZE",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Cn(Ct.prototype,"zoom",[c.k],Object.getOwnPropertyDescriptor(Ct.prototype,"zoom"),Ct.prototype),Cn(Ct.prototype,"resetZoom",[c.k],Object.getOwnPropertyDescriptor(Ct.prototype,"resetZoom"),Ct.prototype),Cn(Ct.prototype,"translate",[c.k],Object.getOwnPropertyDescriptor(Ct.prototype,"translate"),Ct.prototype),Cn(Ct.prototype,"focusOn",[c.k],Object.getOwnPropertyDescriptor(Ct.prototype,"focusOn"),Ct.prototype),Ct),Lv=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},zv=function(e,t){return e&&yo(t,jr(t),e)},Fv=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},Uv=Object.prototype.hasOwnProperty,Gv=function(e){if(!Pt(e))return Fv(e);var t=uo(e),n=[];for(var r in e)(r!="constructor"||!t&&Uv.call(e,r))&&n.push(r);return n},ei=function(e){return Nt(e)?Pn(e,!0):Gv(e)},Hv=function(e,t){return e&&yo(t,ei(t),e)},qf=i(106),$f=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Yv=function(e,t){return yo(e,An(e),t)},$u=kn(Object.getPrototypeOf,Object),ep=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Wn(t,An(e)),e=$u(e);return t}:Qi,Xv=function(e,t){return yo(e,ep(e),t)},Qv=function(e){return Yi(e,ei,ep)},Vv=Object.prototype.hasOwnProperty,Wv=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Vv.call(e,"index")&&(n.index=e.index,n.input=e.input),n},es=function(e){var t=new e.constructor(e.byteLength);return new Gr(t).set(new Gr(e)),t},Jv=function(e,t){var n=t?es(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Zv=/\w*$/,Kv=function(e){var t=new e.constructor(e.source,Zv.exec(e));return t.lastIndex=e.lastIndex,t},tp=ct?ct.prototype:void 0,np=tp?tp.valueOf:void 0,qv=function(e){return np?Object(np.call(e)):{}},rp=function(e,t){var n=t?es(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},$v=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return es(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Jv(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return rp(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Kv(e);case"[object Symbol]":return qv(e)}},op=Object.create,eb=function(){function e(){}return function(t){if(!Pt(t))return{};if(op)return op(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ip=function(e){return typeof e.constructor!="function"||uo(e)?{}:eb($u(e))},tb=function(e){return jn(e)&&h(e)=="[object Map]"},ap=Yt.a&&Yt.a.isMap,nb=ap?fr(ap):tb,rb=function(e){return jn(e)&&h(e)=="[object Set]"},up=Yt.a&&Yt.a.isSet,ob=up?fr(up):rb,sp="[object Arguments]",cp="[object Function]",ib="[object Object]",St={};St[sp]=St["[object Array]"]=St["[object ArrayBuffer]"]=St["[object DataView]"]=St["[object Boolean]"]=St["[object Date]"]=St["[object Float32Array]"]=St["[object Float64Array]"]=St["[object Int8Array]"]=St["[object Int16Array]"]=St["[object Int32Array]"]=St["[object Map]"]=St["[object Number]"]=St["[object Object]"]=St["[object RegExp]"]=St["[object Set]"]=St["[object String]"]=St["[object Symbol]"]=St["[object Uint8Array]"]=St["[object Uint8ClampedArray]"]=St["[object Uint16Array]"]=St["[object Uint32Array]"]=!0,St["[object Error]"]=St[cp]=St["[object WeakMap]"]=!1;var ab=function e(t,n,r,a,o,u){var l,d=1&n,O=2&n,x=4&n;if(r&&(l=o?r(t,a,o,u):r(t)),l!==void 0)return l;if(!Pt(t))return t;var S=Vt(t);if(S){if(l=Wv(t),!d)return $f(t,l)}else{var k=h(t),C=k==cp||k=="[object GeneratorFunction]";if(Object(Yr.a)(t))return Object(qf.a)(t,d);if(k==ib||k==sp||C&&!o){if(l=O||C?{}:ip(t),!d)return O?Xv(t,Hv(l,t)):Yv(t,zv(l,t))}else{if(!St[k])return o?t:{};l=$v(t,k,d)}}u||(u=new Vn);var Q=u.get(t);if(Q)return Q;u.set(t,l),ob(t)?t.forEach(function(ae){l.add(e(ae,n,r,ae,t,u))}):nb(t)&&t.forEach(function(ae,re){l.set(re,e(ae,n,r,re,t,u))});var ee=S?void 0:(x?O?Qv:so:O?ei:jr)(t);return Lv(ee||t,function(ae,re){ee&&(ae=t[re=ae]),ua(l,re,e(ae,n,r,re,t,u))}),l},Tt=function(e){return ab(e,5)},ts=function(e,t,n){(n!==void 0&&!gt(e[t],n)||n===void 0&&!(t in e))&&Zu(e,t,n)},ub=function(e){return jn(e)&&Nt(e)},sb=Function.prototype,cb=Object.prototype,lp=sb.toString,lb=cb.hasOwnProperty,fb=lp.call(Object),pb=function(e){if(!jn(e)||Ot(e)!="[object Object]")return!1;var t=$u(e);if(t===null)return!0;var n=lb.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&lp.call(n)==fb},ns=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},db=function(e){return yo(e,ei(e))},hb=function(e,t,n,r,a,o,u){var l=ns(e,n),d=ns(t,n),O=u.get(d);if(O)ts(e,n,O);else{var x=o?o(l,d,n+"",e,t,u):void 0,S=x===void 0;if(S){var k=Vt(d),C=!k&&Object(Yr.a)(d),Q=!k&&!C&&Qo(d);x=d,k||C||Q?Vt(l)?x=l:ub(l)?x=$f(l):C?(S=!1,x=Object(qf.a)(d,!0)):Q?(S=!1,x=rp(d,!0)):x=[]:pb(d)||Jn(d)?(x=l,Jn(l)?x=db(l):Pt(l)&&!Hn(l)||(x=ip(d))):S=!1}S&&(u.set(d,x),a(x,d,r,o,u),u.delete(d)),ts(e,n,x)}},yb=function e(t,n,r,a,o){t!==n&&mf(n,function(u,l){if(o||(o=new Vn),Pt(u))hb(t,n,l,r,e,a,o);else{var d=a?a(ns(t,l),u,l+"",t,n,o):void 0;d===void 0&&(d=u),ts(t,l,d)}},ei)},fp=xf(function(e,t,n){yb(e,t,n)}),gb={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},pp=function(e){var t=Tt(gb);return e&&(t=fp(t,e)),t};i(78),i(158);function vb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bb=function(){function e(){var r,a,o;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),o={},(a="_events")in(r=this)?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o}var t,n;return t=e,(n=[{key:"on",value:function(r,a,o){var u=this;return r==null||r.split(",").forEach(function(l){l=l.trim(),u._events[l]||(u._events[l]=[]),u._events[l].push({callback:a,once:!!o})}),this}},{key:"once",value:function(r,a){var o=this;r==null||r.split(",").forEach(function(u){return u=u.trim(),o.on(u,a,!0)})}},{key:"emit",value:function(r,a){var o=this;r==null||r.split(",").forEach(function(u){var l=o._events[u]||[],d=o._events["*"]||[],O=function(x){for(var S=x.length,k=0;k<S;k++)if(x[k]){var C=x[k],Q=C.callback;C.once&&(x.splice(k,1),x.length===0&&delete o._events[u],S--,k--),Q.apply(o,[a])}};O(l),O(d)})}},{key:"off",value:function(r,a){var o=this;return r||(this._events={}),r.split(",").forEach(function(u){if(a){for(var l=o._events[u]||[],d=l.length,O=0;O<d;O++)l[O].callback===a&&(l.splice(O,1),d--,O--);l.length===0&&delete o._events[u]}else delete o._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&vb(t.prototype,n),e}();function go(e,t){return t*Math.round(e/t)||e}function dp(e,t){return e%t}function rs(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return hp(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return hp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var os,is=function(e,t,n){var r=rs(e,2),a=r[0],o=r[1],u=rs(t,2),l=u[0],d=u[1],O=rs(n,2),x=O[0],S=O[1];return a>l&&a<x&&o>d&&o<S},yp=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;default:n=!1}return n},mb=(i(79),i(161),i(125),i(80),i(12),i(13),i(14),i(47),i(31),new Uint8Array(16));function Ob(){if(!os&&!(os=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return os(mb)}for(var wb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,_b=function(e){return typeof e=="string"&&wb.test(e)},Jt=[],as=0;as<256;++as)Jt.push((as+256).toString(16).substr(1));var xb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Jt[e[t+0]]+Jt[e[t+1]]+Jt[e[t+2]]+Jt[e[t+3]]+"-"+Jt[e[t+4]]+Jt[e[t+5]]+"-"+Jt[e[t+6]]+Jt[e[t+7]]+"-"+Jt[e[t+8]]+Jt[e[t+9]]+"-"+Jt[e[t+10]]+Jt[e[t+11]]+Jt[e[t+12]]+Jt[e[t+13]]+Jt[e[t+14]]+Jt[e[t+15]]).toLowerCase();if(!_b(n))throw TypeError("Stringified UUID is invalid");return n},us=function(e,t,n){var r=(e=e||{}).random||(e.rng||Ob)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return xb(r)},Jr=function(){return us()},Eb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,a){return r[a.id]=t+us(),a.id=r[a.id],r},{});return e.edges.forEach(function(r){r.id=t+us(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},ti=(i(104),i(203),function(e,t,n){var r=e.x,a=e.y;return(r-t.x)*(r-n.x)<=0&&(a-t.y)*(a-n.y)<=0});function ss(e){return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}function gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gp(Object(n),!0).forEach(function(r){Sb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e,bp,mp,Op,wp,_p,xp,Ep,Sp,Ap,jp,Pp,kp,Dp,Tp,Mp,Np,Cp,Ip,Rp,cs=function(e){return e.anchors},ca=function(e,t){for(var n,r=t.nodes,a=r.length-1;a>=0;a--){var o=r[a];if(Pb(e,o)){var u=jb(e,o);if(u){var l={node:o,anchorIndex:u.index,anchor:u.anchor};n&&!Ab(o,n.node,t)||(n=l)}}}return n},Ab=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},jb=function(e,t){for(var n,r=cs(t),a=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var u=Zn(e.x,e.y,r[o].x,r[o].y);u<a&&(a=u,n={index:o,anchor:vp(vp({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Zn=function(e,t,n,r){return Math.hypot(e-n,t-r)},kr=function(e,t){var n=!1,r=xn(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},Pb=function(e,t){var n=!1,r=xn(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},xn=function(e){var t=e.x,n=e.y,r=e.width,a=e.height;return{minX:t-r/2,minY:n-a/2,maxX:t+r/2,maxY:n+a/2,x:t,y:n,width:r,height:a,centerX:t,centerY:n}},Bp=function(e,t,n){var r,a=function(u){var l=u,d=l.x,O=l.y,x=l.width,S=l.height,k=l.radius;return[{x:d-x/2+k,y:O-S/2+k,r:k},{x:d+x/2-k,y:O-S/2+k,r:k},{x:d-x/2+k,y:O+S/2-k,r:k},{x:d+x/2-k,y:O+S/2-k,r:k}]}(n),o=Number.MAX_SAFE_INTEGER;return a.forEach(function(u){var l=Zn(e.x,e.y,u.x,u.y);l<o&&(o=l,r=u)}),ls(e,t,r)},ls=function(e,t,n){var r,a=n,o=a.x,u=a.y,l=a.r;if(t===jt.HORIZONTAL){var d=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)),O=o+Math.sqrt(l*l-(e.y-u)*(e.y-u));r={x:Math.abs(d-e.x)<Math.abs(O-e.x)?d:O,y:e.y}}else if(t===jt.VERTICAL){var x=u-Math.sqrt(l*l-(e.x-o)*(e.x-o)),S=u+Math.sqrt(l*l-(e.x-o)*(e.x-o)),k=Math.abs(x-e.y)<Math.abs(S-e.y)?x:S;r={x:e.x,y:k}}return r},Lp=function(e,t){var n=t,r=!1,a=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,l=n.y+n.height/2-n.radius,d=n.x,O=n.y,x=n.width,S=n.height;return e.y===O+S/2||e.y===O-S/2?r=e.x>a&&e.x<o:e.x!==d+x/2&&e.x!==d-x/2||(r=e.y>u&&e.y<l),r},zp=function(e,t,n){var r,a=n,o=a.x,u=a.y,l=a.rx,d=a.ry;if(t===jt.HORIZONTAL){var O=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d)),x=o+Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d));r={x:Math.abs(O-e.x)<Math.abs(x-e.x)?O:x,y:e.y}}else if(t===jt.VERTICAL){var S=u-Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),k=u+Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),C=Math.abs(S-e.y)<Math.abs(k-e.y)?S:k;r={x:e.x,y:C}}return r},Fp=function(e,t,n){for(var r,a=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,u=[],l=0;l<a.length;l++)u.push({start:a[l],end:a[(l+1)%a.length]});return u.forEach(function(d){var O=d.start,x=d.end,S=O,k=x;O.x>x.x&&(S=x,k=O);var C={x:e.x,y:e.y};if(S.x===k.x&&t===jt.HORIZONTAL&&(C={x:S.x,y:e.y}),S.y===k.y&&t===jt.VERTICAL&&(C={x:e.x,y:S.y}),S.x!==k.x&&S.y!==k.y){var Q=(k.y-S.y)/(k.x-S.x),ee=(S.x*k.y-k.x*S.y)/(S.x-k.x);t===jt.HORIZONTAL?C={x:(e.y-ee)/Q,y:e.y}:t===jt.VERTICAL&&(C={x:e.x,y:Q*e.x+ee})}if(ti(C,O,x)){var ae=Zn(C.x,C.y,e.x,e.y);ae<o&&(o=ae,r=C)}}),r},Up=function(e,t,n,r){var a=e.x,o=e.y;return t.x>e.x?a=e.x+n/2:t.x<e.x&&(a=e.x-n/2),t.y>e.y?o=e.y+r/2:t.y<e.y&&(o=e.y-r/2),{x:a,y:o}},Gp=function(e){var t=e.rows,n=e.style,r=e.rowsLength,a=e.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=a,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?t.forEach(function(l){var d=document.createElement("div");d.textContent=l,o.appendChild(d)}):o.textContent=t,document.body.appendChild(o);var u=o.clientHeight;return document.body.removeChild(o),u},fs=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,a=0;return t&&t.forEach(function(o){var u=ld(o);a=u>a?u:a}),{width:Math.ceil(a/2)*r+r/4,height:n*(r+2)+r/4}},la=function(e){return ss(e)!=="object"?{isAllPass:!!e,msg:e?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:e},Hp={node:!1,edge:!1},kb={node:!0,edge:!0},Db={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},$t=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},Tb=1e3,Mb=999,ps=function(){return++Tb};function Yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yp(Object(n),!0).forEach(function(r){Dn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var ds=(_e=function(){function e(r,a){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Dn(this,"id",Jr()),Gt(this,"type",bp,this),Gt(this,"sourceNodeId",mp,this),Gt(this,"targetNodeId",Op,this),Gt(this,"startPoint",wp,this),Gt(this,"endPoint",_p,this),Gt(this,"text",xp,this),Gt(this,"properties",Ep,this),Gt(this,"points",Sp,this),Gt(this,"pointsList",Ap,this),Gt(this,"isSelected",jp,this),Gt(this,"isHovered",Pp,this),Gt(this,"isHitable",kp,this),Gt(this,"draggable",Dp,this),Gt(this,"visible",Tp,this),Gt(this,"isAnimation",Mp,this),Dn(this,"graphModel",void 0),Gt(this,"zIndex",Np,this),Dn(this,"BaseType",Ut.EDGE),Dn(this,"modelType",pt.EDGE),Gt(this,"state",Cp,this),Dn(this,"additionStateData",void 0),Dn(this,"sourceAnchorId",""),Dn(this,"targetAnchorId",""),Dn(this,"menu",void 0),Dn(this,"customTextPosition",!1),Dn(this,"animationData",Db),Gt(this,"style",Ip,this),Gt(this,"arrowConfig",Rp,this),this.graphModel=a,this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var t,n;return t=e,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,o=a&&a(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}un(this,qb(r)),this.graphModel.overlapMode===_n.INCREASE&&(this.zIndex=r.zIndex||ps())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return In(In({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Tt(r)}},{key:"getAnimation",value:function(){var r=this.animationData;return Tt(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return Tt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Tt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.sourceNodeId])===null||a===void 0?void 0:a.model}},{key:"targetNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.targetNodeId])===null||a===void 0?void 0:a.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,a){var o,u;return cs(r).forEach(function(l){var d=dd(l,a);u?d<u&&(u=d,o=l):(u=d,o=l)}),o}},{key:"getEndAnchor",value:function(r){var a,o,u=this;return cs(r).forEach(function(l){var d=dd(l,u.startPoint);o?d<o&&(o=d,a=l):(o=d,a=l)}),a}},{key:"getProperties",value:function(){return Object(c.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,a=r.x,o=r.y,u=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(c.I)(this.properties)};return u&&(l.text={x:a,y:o,value:u}),this.graphModel.overlapMode===_n.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,a){this.properties[r]=$t(a),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=In(In({},this.properties),$t(r)),this.setAttributes()}},{key:"setStyle",value:function(r,a){this.style=In(In({},this.style),{},Dn({},r,$t(a)))}},{key:"setStyles",value:function(r){this.style=In(In({},this.style),$t(r))}},{key:"updateStyles",value:function(r){this.style=In({},$t(r))}},{key:"formatText",value:function(r){var a=this.textPosition,o=a.x,u=a.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,a=r.x,o=r.y;this.text.x=a,this.text.y=o}},{key:"moveText",value:function(r,a){if(this.text){var o=this.text,u=o.x,l=o.y,d=o.value,O=o.draggable,x=o.editable;this.text={value:d,draggable:O,x:u+r,y:l+a,editable:x}}}},{key:"setText",value:function(r){r&&un(this.text,r)}},{key:"updateText",value:function(r){this.text=In(In({},this.text),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var a=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:a.x,y:a.y}),this.targetAnchorId||(this.targetAnchorId=a.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,a){this.startPoint.x+=r,this.startPoint.y+=a}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,a){this.endPoint.x+=r,this.endPoint.y+=a}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){un(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var a=r.startPoint,o=r.endPoint;this.updateStartPoint({x:a.x,y:a.y}),this.updateEndPoint({x:o.x,y:o.y})}}],n&&Nb(t.prototype,n),e}(),bp=nt(_e.prototype,"type",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),mp=nt(_e.prototype,"sourceNodeId",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Op=nt(_e.prototype,"targetNodeId",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wp=nt(_e.prototype,"startPoint",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_p=nt(_e.prototype,"endPoint",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xp=nt(_e.prototype,"text",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Ep=nt(_e.prototype,"properties",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Sp=nt(_e.prototype,"points",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ap=nt(_e.prototype,"pointsList",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jp=nt(_e.prototype,"isSelected",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pp=nt(_e.prototype,"isHovered",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kp=nt(_e.prototype,"isHitable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Dp=nt(_e.prototype,"draggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Tp=nt(_e.prototype,"visible",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mp=nt(_e.prototype,"isAnimation",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Np=nt(_e.prototype,"zIndex",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Cp=nt(_e.prototype,"state",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ip=nt(_e.prototype,"style",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Rp=nt(_e.prototype,"arrowConfig",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),nt(_e.prototype,"sourceNode",[c.m],Object.getOwnPropertyDescriptor(_e.prototype,"sourceNode"),_e.prototype),nt(_e.prototype,"targetNode",[c.m],Object.getOwnPropertyDescriptor(_e.prototype,"targetNode"),_e.prototype),nt(_e.prototype,"textPosition",[c.m],Object.getOwnPropertyDescriptor(_e.prototype,"textPosition"),_e.prototype),nt(_e.prototype,"setProperty",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"setProperty"),_e.prototype),nt(_e.prototype,"setProperties",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"setProperties"),_e.prototype),nt(_e.prototype,"setStyle",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"setStyle"),_e.prototype),nt(_e.prototype,"setStyles",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"setStyles"),_e.prototype),nt(_e.prototype,"updateStyles",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"updateStyles"),_e.prototype),nt(_e.prototype,"formatText",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"formatText"),_e.prototype),nt(_e.prototype,"resetTextPosition",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"resetTextPosition"),_e.prototype),nt(_e.prototype,"moveText",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"moveText"),_e.prototype),nt(_e.prototype,"setText",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"setText"),_e.prototype),nt(_e.prototype,"updateText",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"updateText"),_e.prototype),nt(_e.prototype,"setAnchors",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"setAnchors"),_e.prototype),nt(_e.prototype,"setSelected",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"setSelected"),_e.prototype),nt(_e.prototype,"setHovered",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"setHovered"),_e.prototype),nt(_e.prototype,"setHitable",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"setHitable"),_e.prototype),nt(_e.prototype,"openEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"openEdgeAnimation"),_e.prototype),nt(_e.prototype,"closeEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"closeEdgeAnimation"),_e.prototype),nt(_e.prototype,"setElementState",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"setElementState"),_e.prototype),nt(_e.prototype,"updateStartPoint",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"updateStartPoint"),_e.prototype),nt(_e.prototype,"moveStartPoint",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"moveStartPoint"),_e.prototype),nt(_e.prototype,"updateEndPoint",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"updateEndPoint"),_e.prototype),nt(_e.prototype,"moveEndPoint",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"moveEndPoint"),_e.prototype),nt(_e.prototype,"setZIndex",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"setZIndex"),_e.prototype),nt(_e.prototype,"initPoints",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"initPoints"),_e.prototype),nt(_e.prototype,"updateAttributes",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"updateAttributes"),_e.prototype),nt(_e.prototype,"getAdjustStart",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"getAdjustStart"),_e.prototype),nt(_e.prototype,"getAdjustEnd",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"getAdjustEnd"),_e.prototype),nt(_e.prototype,"updateAfterAdjustStartAndEnd",[c.k],Object.getOwnPropertyDescriptor(_e.prototype,"updateAfterAdjustStartAndEnd"),_e.prototype),_e),hs=ds;function ys(e){return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function Xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xp(Object(n),!0).forEach(function(r){Wp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ib(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gs(){return gs=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Rb(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},gs.apply(this,arguments)}function Rb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=vo(e))!==null;);return e}function vs(e,t){return vs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vs(e,t)}function Bb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=vo(e);if(t){var a=vo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Lb(this,n)}}function Lb(e,t){if(t&&(ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vp(e)}function Vp(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vo(e){return vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vo(e)}function Wp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ut,Jp,bs=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vs(o,u)})(a,e);var t,n,r=Bb(a);function a(){var o;Cb(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Wp(Vp(o=r.call.apply(r,[this].concat(l))),"modelType",pt.LINE_EDGE),o}return t=a,(n=[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return Qp(Qp({},gs(vo(a.prototype),"getEdgeStyle",this).call(this)),Tt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Ib(t.prototype,n),a}(hs);function ms(e){return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function zb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Zp(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Zp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kp(Object(n),!0).forEach(function(r){ws(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fb(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ub(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ni(){return ni=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Hb(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},ni.apply(this,arguments)}function Hb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Dr(e))!==null;);return e}function Os(e,t){return Os=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Os(e,t)}function Yb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Dr(e);if(t){var a=Dr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Xb(this,n)}}function Xb(e,t){if(t&&(ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ri(e)}function ri(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dr(e){return Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Dr(e)}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sn(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var _s=(ut=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Os(o,u)})(a,e);var t,n,r=Yb(a);function a(){var o;Ub(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return ws(ri(o=r.call.apply(r,[this].concat(l))),"modelType",pt.POLYLINE_EDGE),ws(ri(o),"draginngPointList",void 0),Fb(ri(o),"dbClickPosition",Jp,ri(o)),o}return t=a,(n=[{key:"initEdgeData",value:function(o){this.offset=30,ni(Dr(a.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return qp(qp({},ni(Dr(a.prototype),"getEdgeStyle",this).call(this)),Tt(o))}},{key:"getTextPosition",value:function(){var o,u=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!u){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var d=bo(this.points),O=zb(Zb(d),2),x=O[0],S=O[1];return{x:(x.x+S.x)/2,y:(x.y+S.y)/2}}},{key:"getAfterAnchor",value:function(o,u,l){var d,O;return l.forEach(function(x){var S;o===jt.HORIZONTAL?S=Math.abs(u.y-x.y):o===jt.VERTICAL&&(S=Math.abs(u.x-x.x)),(!O||O>S)&&(O=S,d=x)}),d}},{key:"getCorssPoint",value:function(o,u,l){var d;return o===jt.HORIZONTAL?d={x:l.x,y:u.y}:o===jt.VERTICAL&&(d={x:u.x,y:l.y}),d}},{key:"removeCrossPoints",value:function(o,u,l){var d=l.map(function(re){return re});if(o===1){var O=d[o],x=d[u],S=d[o-1];if(ad(S,O,this.sourceNode)){if(ud(O,x,this.sourceNode)){var k=sd(O,x,this.sourceNode);k&&(d[o]=k,d.splice(o-1,1),o--,u--)}}else this.sourceNode.anchors.forEach(function(re){(re.x===S.x&&re.x===O.x||re.y===S.y&&re.y===O.y)&&Zn(re.x,re.y,O.x,O.y)<Zn(S.x,S.y,O.x,O.y)&&(d[o-1]=re)})}if(u===l.length-2){var C=d[o],Q=d[u],ee=d[u+1];if(ad(Q,ee,this.targetNode)){if(ud(C,Q,this.targetNode)){var ae=sd(C,Q,this.targetNode);ae&&(d[u]=ae,d.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(re){(re.x===ee.x&&re.x===Q.x||re.y===ee.y&&re.y===Q.y)&&Zn(re.x,re.y,Q.x,Q.y)<Zn(ee.x,ee.y,Q.x,Q.y)&&(d[u+1]=re)})}return d}},{key:"getDragingPoints",value:function(o,u,l,d,O){var x=O.map(function(C){return C}),S=this.getAfterAnchor(o,l,d),k=this.getCorssPoint(o,l,S);return u==="start"?(x.unshift(k),x.unshift(S)):(x.push(k),x.push(S)),x}},{key:"updateCrossPoints",value:function(o){var u=o.map(function(ye){return ye}),l=o[0],d=o[1],O=o[u.length-2],x=o[u.length-1],S=this.sourceNode,k=this.targetNode,C=S.modelType,Q=k.modelType,ee=ga(l,d),ae=u[0];switch(C){case pt.RECT_NODE:S.radius!==0&&(Lp(l,S)||(ae=Bp(l,ee,S)));break;case pt.CIRCLE_NODE:ae=ls(l,ee,S);break;case pt.ELLIPSE_NODE:ae=zp(l,ee,S);break;case pt.DIAMOND_NODE:case pt.POLYGON_NODE:ae=Fp(l,ee,S)}u[0]=ae;var re=ga(O,x),pe=u[u.length-1];switch(Q){case pt.RECT_NODE:k.radius!==0&&(Lp(x,k)||(pe=Bp(x,re,k)));break;case pt.CIRCLE_NODE:pe=ls(x,re,k);break;case pt.ELLIPSE_NODE:pe=zp(x,re,k);break;case pt.DIAMOND_NODE:case pt.POLYGON_NODE:pe=Fp(x,re,k)}return u[u.length-1]=pe,u}},{key:"getData",value:function(){var o=ni(Dr(a.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=id({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,O=o.startIndex,x=o.endIndex,S=o.direction,k=this.pointsList,C=k;return S===jt.HORIZONTAL?(k[O]={x:l.x,y:l.y+u.y},k[x]={x:d.x,y:d.y+u.y},C=this.pointsList.map(function(Q){return Q})):S===jt.VERTICAL&&(k[O]={x:l.x+u.x,y:l.y},k[x]={x:d.x+u.x,y:d.y},C=this.pointsList.map(function(Q){return Q})),this.updatePointsAfterDrage(C),this.draginngPointList=C,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},k[O]),end:Object.assign({},k[x]),startIndex:O,endIndex:x,direction:S}}},{key:"dragAppend",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,O=o.startIndex,x=o.endIndex,S=o.direction,k=this.pointsList;if(S===jt.HORIZONTAL){k[O]={x:l.x,y:l.y+u.y},k[x]={x:d.x,y:d.y+u.y};var C=this.pointsList.map(function(He){return He});if(O!==0&&x!==this.pointsList.length-1&&(C=this.removeCrossPoints(O,x,C)),O===0){var Q={x:l.x,y:l.y+u.y};if(!kr(Q,this.sourceNode)){var ee=this.sourceNode.anchors;C=this.getDragingPoints(S,"start",Q,ee,C)}}if(x===this.pointsList.length-1){var ae={x:d.x,y:d.y+u.y};if(!kr(ae,this.targetNode)){var re=this.targetNode.anchors;C=this.getDragingPoints(S,"end",ae,re,C)}}C=Ps(C),this.updatePointsAfterDrage(C),this.draginngPointList=C}else if(S===jt.VERTICAL){k[O]={x:l.x+u.x,y:l.y},k[x]={x:d.x+u.x,y:d.y};var pe=this.pointsList.map(function(He){return He});if(O!==0&&x!==this.pointsList.length-1&&(pe=this.removeCrossPoints(O,x,pe)),O===0){var ye={x:l.x+u.x,y:l.y};if(!kr(ye,this.sourceNode)){var Te=this.sourceNode.anchors;pe=this.getDragingPoints(S,"start",ye,Te,pe)}}if(x===this.pointsList.length-1){var xe={x:d.x+u.x,y:d.y};if(!kr(xe,this.targetNode)){var Fe=this.targetNode.anchors;pe=this.getDragingPoints(S,"end",xe,Fe,pe)}}pe=Ps(pe),this.updatePointsAfterDrage(pe),this.draginngPointList=pe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},k[O]),end:Object.assign({},k[x]),startIndex:O,endIndex:x,direction:S}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=bo(this.points);this.pointsList=o.map(function(d){return d}),this.draginngPointList=[];var u=o[0];this.startPoint=Object.assign({},u);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var u=this.updateCrossPoints(o);this.points=u.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,O=o.targetNode,x=id({x:u.x,y:u.y},{x:l.x,y:l.y},d,O,this.offset||0);this.pointsList=x,this.initPoints()}}])&&Gb(t.prototype,n),a}(hs),Jp=sn(ut.prototype,"dbClickPosition",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sn(ut.prototype,"initPoints",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"initPoints"),ut.prototype),sn(ut.prototype,"updatePoints",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePoints"),ut.prototype),sn(ut.prototype,"updateStartPoint",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateStartPoint"),ut.prototype),sn(ut.prototype,"moveStartPoint",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"moveStartPoint"),ut.prototype),sn(ut.prototype,"updateEndPoint",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateEndPoint"),ut.prototype),sn(ut.prototype,"moveEndPoint",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"moveEndPoint"),ut.prototype),sn(ut.prototype,"dragAppendStart",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendStart"),ut.prototype),sn(ut.prototype,"dragAppendSimple",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendSimple"),ut.prototype),sn(ut.prototype,"dragAppend",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppend"),ut.prototype),sn(ut.prototype,"dragAppendEnd",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendEnd"),ut.prototype),sn(ut.prototype,"updatePointsAfterDrage",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePointsAfterDrage"),ut.prototype),sn(ut.prototype,"getAdjustStart",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustStart"),ut.prototype),sn(ut.prototype,"getAdjustEnd",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustEnd"),ut.prototype),sn(ut.prototype,"updateAfterAdjustStartAndEnd",[c.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateAfterAdjustStartAndEnd"),ut.prototype),ut),oi=function(e){var t=e.start,n=e.end,r=e.offset,a=e.verticalLength,o=e.type,u={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((n.y-t.y)/(n.x-t.x)),d=Math.atan(r/a),O=Math.sqrt(a*a+r*r);return o==="start"?n.x>=t.x?(u.leftX=t.x+O*Math.sin(l+d),u.leftY=t.y-O*Math.cos(l+d),u.rightX=t.x-O*Math.sin(l-d),u.rightY=t.y+O*Math.cos(l-d)):(u.leftX=t.x-O*Math.sin(l+d),u.leftY=t.y+O*Math.cos(l+d),u.rightX=t.x+O*Math.sin(l-d),u.rightY=t.y-O*Math.cos(l-d)):o==="end"&&(n.x>=t.x?(u.leftX=n.x+O*Math.sin(l-d),u.leftY=n.y-O*Math.cos(l-d),u.rightX=n.x-O*Math.sin(l+d),u.rightY=n.y+O*Math.cos(l+d)):(u.leftX=n.x-O*Math.sin(l-d),u.leftY=n.y+O*Math.cos(l-d),u.rightX=n.x+O*Math.sin(l+d),u.rightY=n.y-O*Math.cos(l+d))),u};function $p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$p(Object(n),!0).forEach(function(r){Qb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$p(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vb(e){return function(t){if(Array.isArray(t))return Ss(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||ed(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xs(e){return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function Es(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||ed(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ed(e,t){if(e){if(typeof e=="string")return Ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ss(e,t):void 0}}function Ss(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var As=function(e){var t=[],n={};return e.forEach(function(r){var a="".concat(r.x,"-").concat(r.y);r.id=a,n[a]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},pa=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},da=function(e,t){var n=function(r,a){var o=Math.abs(r.x-a.centerX),u=Math.abs(r.y-a.centerY);return o/a.width>u/a.height?jt.HORIZONTAL:jt.VERTICAL}(t,e);return n===jt.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},td=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:a,maxY:o,height:o-r,width:a-n}},ii=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(x){n.push(x.x),r.push(x.y)});var a=Math.min.apply(Math,n),o=Math.max.apply(Math,n),u=Math.min.apply(Math,r),l=Math.max.apply(Math,r),d=o-a,O=l-u;return t&&(d+=t,O+=t),{centerX:(a+o)/2,centerY:(u+l)/2,maxX:o,maxY:l,minX:a,minY:u,x:(a+o)/2,y:(u+l)/2,height:O,width:d}},ha=function(e){var t=e.minX,n=e.minY,r=e.maxX,a=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:a},{x:t,y:a}]},ya=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},js=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},nd=function(e,t,n,r,a){return js(e,t)+js(e,n)+function(o,u){var l=0;return u.forEach(function(d){d&&(o.x===d.x&&(l+=-2),o.y===d.y&&(l+=-2))}),l}(e,[t,n,r,a])},Wb=function e(t,n,r,a,o){o||(o=0),t.unshift(n[a]),r[a]&&r[a]!==a&&o<=100&&e(t,n,r,r[a],o+1)},ai=function(e,t,n,r){var a=t.x-e.x,o=t.y-e.y,u=r.x-n.x,l=r.y-n.y,d=(-o*(e.x-n.x)+a*(e.y-n.y))/(-u*o+a*l),O=(u*(e.y-n.y)-l*(e.x-n.x))/(-u*o+a*l);return d>=0&&d<=1&&O>=0&&O<=1},rd=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=Es(ha(n),4),a=r[0],o=r[1],u=r[2],l=r[3];return ai(e,t,a,o)||ai(e,t,a,l)||ai(e,t,o,u)||ai(e,t,u,l)},Jb=function(e,t,n,r,a,o,u){var l=[],d=[t],O={},x={},S={};x[t.id]=0,S[t.id]=nd(t,n,t);var k={};e.forEach(function(ee){k[ee.id]=ee});for(var C=function(){var ee,ae,re,pe=void 0,ye=1/0;if(d.forEach(function(xe){S[xe.id]<ye&&(ye=S[xe.id],pe=xe)}),pe===n){var Te=[];return Wb(Te,k,O,n.id),{v:Te}}ae=pe,(re=(ee=d).indexOf(ae))>-1&&ee.splice(re,1),l.push(pe),function(xe,Fe,He,Re){var yt=[];return xe.forEach(function(bt){bt!==Fe&&(bt.x!==Fe.x&&bt.y!==Fe.y||rd(bt,Fe,He)||rd(bt,Fe,Re)||yt.push(bt))}),As(yt)}(e,pe,r,a).forEach(function(xe){if(l.indexOf(xe)===-1){d.indexOf(xe)===-1&&d.push(xe);var Fe=S[pe.id]+js(pe,xe);x[xe.id]&&Fe>=x[xe.id]||(O[xe.id]=pe.id,x[xe.id]=Fe,S[xe.id]=x[xe.id]+nd(xe,n,t,o,u))}})};d.length;){var Q=C();if(xs(Q)==="object")return Q.v}return[t,n]},od=function(e){return xn(e)},Ps=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],a=t[n],o=t[n+1];r.x===a.x&&a.x===o.x||r.y===a.y&&a.y===o.y?t.splice(n,1):n++}return t},id=function(e,t,n,r,a){var o,u,l=od(n),d=od(r),O=pa(l,a),x=pa(d,a),S=da(O,e),k=da(x,t);if(o=O,u=x,2*Math.abs(o.centerX-u.centerX)<o.width+u.width&&2*Math.abs(o.centerY-u.centerY)<o.height+u.height){var C=Kb(e,t,S,k);return[e,S].concat(Vb(C),[k,t])}var Q=ii([S,k]),ee=td(O,Q),ae=td(x,Q),re=[];re=(re=re.concat(ha(ee))).concat(ha(ae));var pe={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[Q,ee,ae].forEach(function(Te){re=re.concat(function(xe,Fe){return function(He,Re){return Re<He.minX||Re>He.maxX?[]:[{x:Re,y:He.minY},{x:Re,y:He.maxY}]}(xe,Fe.x).concat(function(He,Re){return Re<He.minY||Re>He.maxY?[]:[{x:He.minX,y:Re},{x:He.maxX,y:Re}]}(xe,Fe.y))}(Te,pe).filter(function(xe){return ya(xe,O)&&ya(xe,x)}))}),[{x:S.x,y:k.y},{x:k.x,y:S.y}].forEach(function(Te){ya(Te,O)&&ya(Te,x)&&re.push(Te)}),re.unshift(S),re.push(k),re=As(re);var ye=Jb(re,S,k,l,d,e,t);return ye.unshift(e),ye.push(t),ye.length>2&&(ye=Ps(ye)),As(ye)},Zb=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],a=Zn(n.x,n.y,r.x,r.y),o=1;o<e.length-1;o++){var u=e[o],l=e[o+1],d=Zn(u.x,u.y,l.x,l.y);d>a&&(a=d,n=u,r=l)}t=[n,r]}return t},ad=function(e,t,n){var r=kr(e,n),a=kr(t,n);return r&&a},ud=function(e,t,n){var r=kr(e,n),a=kr(t,n);return!(r&&a)&&(r||a)},sd=function(e,t,n){for(var r,a,o=xn(n),u=ha(o),l=0;l<u.length;l++)ai(e,t,u[l],u[(l+1)%u.length])&&(a=[u[l],u[(l+1)%u.length]]);return a&&(r=function(d,O,x,S){var k=(O.y-d.y)*(S.x-x.x)-(d.x-O.x)*(x.y-S.y);if(k===0)return!1;var C=((O.x-d.x)*(S.x-x.x)*(x.y-d.y)+(O.y-d.y)*(S.x-x.x)*d.x-(S.y-x.y)*(O.x-d.x)*x.x)/k,Q=-((O.y-d.y)*(S.y-x.y)*(x.x-d.x)+(O.x-d.x)*(S.y-x.y)*d.y-(S.x-x.x)*(O.y-d.y)*x.y)/k;return(C-d.x)*(C-O.x)<=0&&(Q-d.y)*(Q-O.y)<=0&&(C-x.x)*(C-S.x)<=0&&(Q-x.y)*(Q-S.y)<=0&&{x:C,y:Q}}(e,t,a[0],a[1])),r},ga=function(e,t){var n;return e.x===t.x?n=jt.VERTICAL:e.y===t.y&&(n=jt.HORIZONTAL),n},bo=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var a=Es(r.split(","),2),o=a[0],u=a[1];n.push({x:Number(o),y:Number(u)})}),n},Kb=function(e,t,n,r){var a=[];if(ga(e,n)===ga(t,r))e.y===n.y?(a.push({x:n.x,y:(n.y+r.y)/2}),a.push({x:r.x,y:(n.y+r.y)/2})):(a.push({x:(n.x+r.x)/2,y:n.y}),a.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},u=ti(o,e,n),l=ti(o,t,r);if(u||l)o={x:r.x,y:n.y};else{var d=cd(o,e,n),O=cd(o,t,r);d&&O&&(o={x:r.x,y:n.y})}a.push(o)}return a},cd=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},ld=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},fd=function(e){var t=e.start,n=e.end,r=e.sourceNode,a=e.targetNode,o=e.offset,u=xn(r),l=xn(a),d=pa(u,o),O=pa(l,o);return{sNext:da(d,t),ePre:da(O,n)}},va=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[ba(t[0]),ba(t[1]),ba(t[2]),ba(t[3])]},ba=function(e){var t=Es(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},pd=function(e,t){for(var n,r=e.x,a=e.y,o=bo(t),u=Number.MAX_SAFE_INTEGER,l=[],d=0;d<o.length;d++)l.push({start:o[d],end:o[(d+1)%o.length]});if(l.forEach(function(k){var C=k.start,Q=k.end;if(C.x===Q.x){var ee={x:C.x,y:a};if(ti(ee,C,Q)){var ae=Math.abs(C.x-r);ae<u&&(u=ae,n=ee)}}else if(C.y===Q.y){var re={x:r,y:C.y};if(ti(re,C,Q)){var pe=Math.abs(C.y-a);pe<u&&(u=pe,n=re)}}}),!n){var O=l[0],x=O.start,S=O.end;n={x:x.x+(S.x-x.x)/2,y:x.y+(S.y-x.y)/2}}return n},qb=function(e){return $o(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},dd=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};i(204);var mo=function(){};function $b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kn=window.document;function ks(e){var t=e.onDragStart,n=t===void 0?mo:t,r=e.onDraging,a=r===void 0?mo:r,o=e.onDragEnd,u=o===void 0?mo:o,l=e.step,d=l===void 0?1:l,O=e.isStopPropagation,x=O===void 0||O,S=!1,k=!1,C=0,Q=0,ee=0,ae=0;function re(ye){if(x&&ye.stopPropagation(),k&&(S=!0,ee+=ye.clientX-C,ae+=ye.clientY-Q,C=ye.clientX,Q=ye.clientY,Math.abs(ee)>d||Math.abs(ae)>d)){var Te=ee%d,xe=ae%d,Fe=ee-Te,He=ae-xe;ee=Te,ae=xe,a({deltaX:Fe,deltaY:He,event:ye})}}function pe(ye){if(x&&ye.stopPropagation(),k=!1,Kn.removeEventListener("mousemove",re,!1),Kn.removeEventListener("mouseup",pe,!1),S)return S=!1,u({event:ye})}return function(ye){if(ye.button===0)return x&&ye.stopPropagation(),k=!0,C=ye.clientX,Q=ye.clientY,Kn.addEventListener("mousemove",re,!1),Kn.addEventListener("mouseup",pe,!1),n({event:ye})}}var ce,hd,yd,gd,vd,bd,md,Od,wd,_d,xd,Ed,Sd,Zr=function(){function e(r){var a=this,o=r.onDragStart,u=o===void 0?mo:o,l=r.onDraging,d=l===void 0?mo:l,O=r.onDragEnd,x=O===void 0?mo:O,S=r.eventType,k=S===void 0?"":S,C=r.eventCenter,Q=C===void 0?null:C,ee=r.step,ae=ee===void 0?1:ee,re=r.isStopPropagation,pe=re===void 0||re,ye=r.model,Te=ye===void 0?null:ye;(function(xe,Fe){if(!(xe instanceof Fe))throw new TypeError("Cannot call a class as a function")})(this,e),zt(this,"onDragStart",void 0),zt(this,"onDraging",void 0),zt(this,"onDragEnd",void 0),zt(this,"step",void 0),zt(this,"isStopPropagation",void 0),zt(this,"isDraging",!1),zt(this,"isStartDraging",!1),zt(this,"startX",0),zt(this,"startY",0),zt(this,"sumDeltaX",0),zt(this,"sumDeltaY",0),zt(this,"eventType",void 0),zt(this,"eventCenter",void 0),zt(this,"model",void 0),zt(this,"startTime",void 0),zt(this,"isGrag",void 0),zt(this,"handleMouseDown",function(xe){var Fe,He;if(xe.button===0){a.isStopPropagation&&xe.stopPropagation(),a.isStartDraging=!0,a.startX=xe.clientX,a.startY=xe.clientY,Kn.addEventListener("mousemove",a.handleMouseMove,!1),Kn.addEventListener("mouseup",a.handleMouseUp,!1);var Re=(Fe=a.model)===null||Fe===void 0?void 0:Fe.getData();(He=a.eventCenter)===null||He===void 0||He.emit(at["".concat(a.eventType,"_MOUSEDOWN")],{e:xe,data:Re}),a.startTime=new Date().getTime()}}),zt(this,"handleMouseMove",function(xe){if(a.isStopPropagation&&xe.stopPropagation(),a.isStartDraging&&(a.sumDeltaX+=xe.clientX-a.startX,a.sumDeltaY+=xe.clientY-a.startY,a.startX=xe.clientX,a.startY=xe.clientY,a.step<=1||Math.abs(a.sumDeltaX)>a.step||Math.abs(a.sumDeltaY)>a.step)){var Fe,He=a.sumDeltaX%a.step,Re=a.sumDeltaY%a.step,yt=a.sumDeltaX-He,bt=a.sumDeltaY-Re;a.sumDeltaX=He,a.sumDeltaY=Re;var Rt,Qt=(Fe=a.model)===null||Fe===void 0?void 0:Fe.getData();a.isDraging||((Rt=a.eventCenter)===null||Rt===void 0||Rt.emit(at["".concat(a.eventType,"_DRAGSTART")],{e:xe,data:Qt}),a.onDragStart({event:xe})),a.isDraging=!0,Promise.resolve().then(function(){var Zt,nn;a.onDraging({deltaX:yt,deltaY:bt,event:xe}),(Zt=a.eventCenter)===null||Zt===void 0||Zt.emit(at["".concat(a.eventType,"_MOUSEMOVE")],{e:xe,data:Qt}),(nn=a.eventCenter)===null||nn===void 0||nn.emit(at["".concat(a.eventType,"_DRAG")],{e:xe,data:Qt})})}}),zt(this,"handleMouseUp",function(xe){a.isStartDraging=!1,a.isStopPropagation&&xe.stopPropagation(),Promise.resolve().then(function(){var Fe,He,Re;Kn.removeEventListener("mousemove",a.handleMouseMove,!1),Kn.removeEventListener("mouseup",a.handleMouseUp,!1);var yt=(Fe=a.model)===null||Fe===void 0?void 0:Fe.getData();(He=a.eventCenter)===null||He===void 0||He.emit(at["".concat(a.eventType,"_MOUSEUP")],{e:xe,data:yt}),a.isDraging&&(a.isDraging=!1,a.onDragEnd({event:xe}),(Re=a.eventCenter)===null||Re===void 0||Re.emit(at["".concat(a.eventType,"_DROP")],{e:xe,data:yt}))})}),zt(this,"cancelDrag",function(){Kn.removeEventListener("mousemove",a.handleMouseMove,!1),Kn.removeEventListener("mouseup",a.handleMouseUp,!1),a.isDraging=!1}),this.onDragStart=u,this.onDraging=d,this.onDragEnd=x,this.step=ae,this.isStopPropagation=pe,this.eventType=k,this.eventCenter=Q,this.model=Te}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&$b(t.prototype,n),e}();function Ad(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ad(Object(n),!0).forEach(function(r){dr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ad(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jd(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||Pd(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oo(e){return function(t){if(Array.isArray(t))return Ds(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Pd(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pd(e,t){if(e){if(typeof e=="string")return Ds(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ds(e,t):void 0}}function Ds(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oa(e){return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(e)}function Tn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var kd,Dd=200,Td=(ce=function(){function e(r){(function(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")})(this,e),dr(this,"rootEl",void 0),Tn(this,"width",hd,this),Tn(this,"height",yd,this),dr(this,"theme",void 0),dr(this,"eventCenter",void 0),dr(this,"modelMap",new Map),dr(this,"topElement",void 0),dr(this,"animation",void 0),dr(this,"idGenerator",void 0),dr(this,"nodeMoveRules",[]),Tn(this,"edgeType",gd,this),Tn(this,"nodes",vd,this),Tn(this,"edges",bd,this),Tn(this,"overlapMode",md,this),Tn(this,"background",Od,this),Tn(this,"transformModel",wd,this),Tn(this,"editConfigModel",_d,this),Tn(this,"gridSize",xd,this),Tn(this,"partial",Ed,this),Tn(this,"fakerNode",Sd,this);var a,o=r.container,u=r.background,l=u===void 0?{}:u,d=r.grid,O=r.idGenerator,x=r.animation;this.background=l,Oa(d)==="object"&&(this.gridSize=d.size),this.rootEl=o,this.editConfigModel=new Hf(r),this.eventCenter=new bb,this.transformModel=new Bv(this.eventCenter),this.theme=pp(r.style),this.edgeType=r.edgeType||"polyline",r.width||(r.width=o.getBoundingClientRect().width),r.height||(r.height=o.getBoundingClientRect().height),this.width=r.width,this.height=r.height,this.animation=(a=x)&&typeof a!="boolean"?fp(Tt(Hp),a):Tt(a===!0?kb:Hp),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=O}var t,n;return t=e,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,a,o){return r[a.id]={index:o,model:a},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,a,o){return r[a.id]={index:o,model:a},r},{})}},{key:"modelsMap",get:function(){return[].concat(Oo(this.nodes),Oo(this.edges)).reduce(function(r,a){return r[a.id]=a,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(S){return r.push(S)}),this.edges.forEach(function(S){return r.push(S)}),r=r.sort(function(S,k){return S.zIndex-k.zIndex});for(var a=[],o=-1,u=[-200,-200],l=[this.width+Dd,this.height+Dd],d=0;d<r.length;d++){var O=r[d];O.visible&&(!this.partial||O.isSelected||this.isElementInArea(O,u,l,!1,!1))&&(O.zIndex===9999&&(o=a.length),a.push(O))}if(o!==-1){var x=a[a.length-1];a[a.length-1]=a[o],a[o]=x}return a}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===_t.TEXT_EDIT}),a=this.edges.find(function(o){return o.state===_t.TEXT_EDIT});return r||a}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(a){a.isSelected&&r.set(a.id,a)}),this.edges.forEach(function(a){a.isSelected&&r.set(a.id,a)}),r}},{key:"getAreaElement",value:function(r,a){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=[],d=[];this.nodes.forEach(function(S){return d.push(S)}),this.edges.forEach(function(S){return d.push(S)});for(var O=0;O<d.length;O++){var x=d[O];this.isElementInArea(x,r,a,o,u)&&l.push(x)}return l}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var a;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(a=this.nodesMap[r])===null||a===void 0?void 0:a.model}},{key:"getPointByClient",value:function(r){var a=r.x,o=r.y,u=this.rootEl.getBoundingClientRect(),l={x:a-u.left,y:o-u.top},d=jd(this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:d[0],y:d[1]}}}},{key:"isElementInArea",value:function(r,a,o){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Ut.NODE){for(var d=xn(r=r),O=d.minX,x=d.minY,S=d.maxX,k=d.maxY,C=[{x:O,y:x},{x:S,y:x},{x:S,y:k},{x:O,y:k}],Q=l,ee=0;ee<C.length;ee++){var ae=C[ee],re=ae.x,pe=ae.y,ye=this.transformModel.CanvasPointToHtmlPoint([re,pe]),Te=jd(ye,2);if(re=Te[0],pe=Te[1],is([re,pe],a,o)!==l){Q=!l;break}}return Q}if(r.BaseType===Ut.EDGE){var xe=r=r,Fe=xe.startPoint,He=xe.endPoint,Re=this.transformModel.CanvasPointToHtmlPoint([Fe.x,Fe.y]),yt=this.transformModel.CanvasPointToHtmlPoint([He.x,He.y]),bt=is(Re,a,o),Rt=is(yt,a,o);return u?bt&&Rt:bt||Rt}return!1}},{key:"graphDataToModel",value:function(r){var a=this;this.nodes=ia(r.nodes,function(o){var u=a.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,d=o.y;return l&&d&&(o.x=go(l,a.gridSize),o.y=go(d,a.gridSize),Oa(o.text)==="object"&&(o.text.x-=dp(l,a.gridSize),o.text.y-=dp(d,a.gridSize))),new u(o,a)}),this.edges=ia(r.edges,function(o){var u=a.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new u(o,a)})}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(o){var u=o.getData();u&&r.push(u)});var a=[];return this.nodes.forEach(function(o){var u=o.getData();u&&a.push(u)}),{nodes:a,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,a=[],o=0;o<this.nodes.length;o++){var u=this.nodes[o];if(u.isDragging){r=!0;break}a.push(u.getHistoryData())}if(r)return!1;for(var l=!1,d=[],O=0;O<this.edges.length;O++){var x=this.edges[O];if(x.isDragging){l=!0;break}d.push(x.getHistoryData())}return!l&&{nodes:a,edges:d}}},{key:"getEdgeModelById",value:function(r){var a;return(a=this.edgesMap[r])===null||a===void 0?void 0:a.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var a=[],o=0;o<this.edges.length;o++){var u=this.edges[o],l=this.edges[o].sourceNodeId===r,d=this.edges[o].targetNodeId===r;(l||d)&&a.push(u)}return a}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.selectElements,o={nodes:[],edges:[]};return a.forEach(function(u){if(u.BaseType===Ut.NODE&&o.nodes.push(u.getData()),u.BaseType===Ut.EDGE){var l=u.getData(),d=a.get(l.sourceNodeId)&&a.get(l.targetNodeId);(r||d)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(r,a){this.getElement(r).updateAttributes(a)}},{key:"changeNodeId",value:function(r,a){return a||(a=Jr()),this.nodesMap[a]?"":this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=a),o.targetNodeId===r&&(o.targetNodeId=a)}),this.nodesMap[r].model.id=a,a):""}},{key:"changeEdgeId",value:function(r,a){return a||(a=Jr()),this.edgesMap[a]?"":this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=a)}),a):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,a){return this.modelMap.set(r,a)}},{key:"toFront",value:function(r){var a,o,u,l=((a=this.nodesMap[r])===null||a===void 0?void 0:a.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);l&&(this.overlapMode===_n.DEFAULT&&((u=this.topElement)===null||u===void 0||u.setZIndex(),l.setZIndex(9999),this.topElement=l),this.overlapMode===_n.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,a){var o,u,l,d=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);d&&(typeof a=="number"&&(l=a),a==="top"&&(l=ps()),a==="bottom"&&(l=--Mb),d.setZIndex(l))}},{key:"deleteNode",value:function(r){var a=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(at.NODE_DELETE,{data:a})}},{key:"addNode",value:function(r){var a=$t(r);a.id&&this.nodesMap[r.id]&&delete a.id;var o=this.getModel(a.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(a.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var u=new o(a,this);this.nodes.push(u);var l=u.getData();return this.eventCenter.emit(at.NODE_ADD,{data:l}),u}},{key:"cloneNode",value:function(r){var a=this.getNodeModelById(r),o=a.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var u=this.addNode(o);return u.setSelected(!0),a.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,a,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,O=d.move(a,o,u);O&&this.moveEdge(r,a,o)}}},{key:"moveNode2Coordinate",value:function(r,a,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,O=d.x,x=d.y,S=a-O,k=o-x;this.moveNode(r,S,k,u)}}},{key:"editText",value:function(r){this.setElementStateById(r,_t.TEXT_EDIT)}},{key:"addEdge",value:function(r){var a=$t(r),o=a.type;o||(o=this.edgeType),a.id&&this.edgesMap[a.id]&&delete a.id;var u=this.getModel(o);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new u(ma(ma({},a),{},{type:o}),this),d=l.getData();return this.edges.push(l),this.eventCenter.emit(at.EDGE_ADD,{data:d}),l}},{key:"moveEdge",value:function(r,a,o){for(var u=0;u<this.edges.length;u++){var l,d=this.edges[u],O=d.textPosition,x=O.x,S=O.y,k=this.edges[u].sourceNodeId===r,C=this.edges[u].targetNodeId===r;if(k&&d.moveStartPoint(a,o),C&&d.moveEndPoint(a,o),k||C)if(d.customTextPosition===!0)d.resetTextPosition();else if(d.modelType===pt.POLYLINE_EDGE&&(l=d.text)!==null&&l!==void 0&&l.value){var Q=d.text,ee=pd(Q,d.points);d.moveText(ee.x-Q.x,ee.y-Q.y)}else{var ae=d.textPosition,re=ae.x,pe=ae.y;d.moveText(re-x,pe-S)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,a){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===a){var u=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(at.EDGE_DELETE,{data:u})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var a=this.edgesMap[r].index,o=this.edgesMap[r].model.getData();this.edges.splice(a,1),this.eventCenter.emit(at.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeBySource",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].sourceNodeId===r){var o=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(at.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].targetNodeId===r){var o=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(at.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(r,a,o){this.nodes.forEach(function(u){u.id===r?u.setElementState(a,o):u.setElementState(_t.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(a,o):u.setElementState(_t.DEFAULT)})}},{key:"updateText",value:function(r,a){this.nodes.forEach(function(o){o.id===r&&o.updateText(a)}),this.edges.forEach(function(o){o.id===r&&o.updateText(a)})}},{key:"selectNodeById",value:function(r){var a,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(a=this.nodesMap[r])===null||a===void 0?void 0:a.model;u==null||u.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var a,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(a=this.edgesMap[r])===null||a===void 0?void 0:a.model;u==null||u.setSelected(!0)}},{key:"selectElementById",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||this.clearSelectElements();var o=this.getElement(r);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(a){a==null||a.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===_n.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,a,o){var u=this,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(d){return u.moveNode(d,a,o,l)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,a){var o=this.getNodeModelById(r);if(o){var u=o.getData();u.type=a;var l=this.getModel(a);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(a,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var d=new l(u,this);this.nodes.splice(this.nodesMap[r].index,1,d),this.getNodeEdges(r).forEach(function(O){if(O.sourceNodeId===r){var x=Up(d,O.startPoint,d.width,d.height);O.updateStartPoint(x)}if(O.targetNodeId===r){var S=Up(d,O.endPoint,d.width,d.height);O.updateEndPoint(S)}})}}},{key:"changeEdgeType",value:function(r,a){var o=this.getEdgeModelById(r);if(o&&o.type!==a){var u=o.getData();u.type=a;var l=this.getModel(a);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(a,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete u.pointsList;var d=new l(u,this);this.edges.splice(this.edgesMap[r].index,1,d)}}},{key:"getNodeIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(o){o.targetNodeId===r&&a.push(o)}),a}},{key:"getNodeOutgoingEdge",value:function(r){var a=[];return this.edges.forEach(function(o){o.sourceNodeId===r&&a.push(o)}),a}},{key:"getNodeIncomingNode",value:function(r){var a=this,o=[];return this.edges.forEach(function(u){u.targetNodeId===r&&o.push(a.nodesMap[u.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(r){var a=this,o=[];return this.edges.forEach(function(u){u.sourceNodeId===r&&o.push(a.nodesMap[u.targetNodeId].model)}),o}},{key:"setTheme",value:function(r){this.theme=pp(ma(ma({},this.theme),r))}},{key:"resize",value:function(r,a){this.width=r!=null?r:this.width,this.height=a!=null?a:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,a=[],o=[];r.forEach(function(S){var k=S.x,C=S.y,Q=S.width,ee=S.height,ae=S.getNodeStyle().strokeWidth,re=ae===void 0?0:ae;a=a.concat([k+Q/2+re,k-Q/2-re]),o=o.concat([C+ee/2+re,C-ee/2-re])});var u=Math.min.apply(Math,Oo(a)),l=Math.max.apply(Math,Oo(a)),d=Math.min.apply(Math,Oo(o)),O=l-u||0,x=Math.max.apply(Math,Oo(o))-d||0;return{virtualRectWidth:O,virtualRectHeight:x,virtualRectCenterPositionX:u+O/2,virtualRectCenterPositionY:d+x/2}}},{key:"translateCenter",value:function(){var r=this.nodes,a=this.width,o=this.height,u=this.rootEl,l=this.transformModel;if(r.length){var d=a||u.clientWidth,O=o||u.clientHeight,x=this.getVirtualRectSize(),S=x.virtualRectCenterPositionX,k=x.virtualRectCenterPositionY;l.focusOn(S,k,d,O)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,u=this.width,l=this.height,d=this.rootEl,O=this.transformModel;if(o.length){var x=u||d.clientWidth,S=l||d.clientHeight,k=this.getVirtualRectSize(),C=k.virtualRectWidth,Q=k.virtualRectHeight,ee=k.virtualRectCenterPositionX,ae=k.virtualRectCenterPositionY,re=(C+a)/x,pe=(Q+r)/S,ye=0;ye=1/Math.max(re,pe);var Te=[x/2,S/2];O.zoom(ye,Te),O.focusOn(ee,ae,x,S)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&em(t.prototype,n),e}(),hd=We(ce.prototype,"width",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yd=We(ce.prototype,"height",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gd=We(ce.prototype,"edgeType",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vd=We(ce.prototype,"nodes",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bd=We(ce.prototype,"edges",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),md=We(ce.prototype,"overlapMode",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _n.DEFAULT}}),Od=We(ce.prototype,"background",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wd=We(ce.prototype,"transformModel",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_d=We(ce.prototype,"editConfigModel",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xd=We(ce.prototype,"gridSize",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ed=We(ce.prototype,"partial",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sd=We(ce.prototype,"fakerNode",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We(ce.prototype,"nodesMap",[c.m],Object.getOwnPropertyDescriptor(ce.prototype,"nodesMap"),ce.prototype),We(ce.prototype,"edgesMap",[c.m],Object.getOwnPropertyDescriptor(ce.prototype,"edgesMap"),ce.prototype),We(ce.prototype,"modelsMap",[c.m],Object.getOwnPropertyDescriptor(ce.prototype,"modelsMap"),ce.prototype),We(ce.prototype,"sortElements",[c.m],Object.getOwnPropertyDescriptor(ce.prototype,"sortElements"),ce.prototype),We(ce.prototype,"textEditElement",[c.m],Object.getOwnPropertyDescriptor(ce.prototype,"textEditElement"),ce.prototype),We(ce.prototype,"selectElements",[c.m],Object.getOwnPropertyDescriptor(ce.prototype,"selectElements"),ce.prototype),We(ce.prototype,"setFakerNode",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"setFakerNode"),ce.prototype),We(ce.prototype,"removeFakerNode",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"removeFakerNode"),ce.prototype),We(ce.prototype,"setModel",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"setModel"),ce.prototype),We(ce.prototype,"toFront",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"toFront"),ce.prototype),We(ce.prototype,"setElementZIndex",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementZIndex"),ce.prototype),We(ce.prototype,"deleteNode",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteNode"),ce.prototype),We(ce.prototype,"addNode",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"addNode"),ce.prototype),We(ce.prototype,"cloneNode",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"cloneNode"),ce.prototype),We(ce.prototype,"moveNode",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode"),ce.prototype),We(ce.prototype,"moveNode2Coordinate",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode2Coordinate"),ce.prototype),We(ce.prototype,"editText",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"editText"),ce.prototype),We(ce.prototype,"addEdge",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"addEdge"),ce.prototype),We(ce.prototype,"moveEdge",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveEdge"),ce.prototype),We(ce.prototype,"deleteEdgeBySourceAndTarget",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySourceAndTarget"),ce.prototype),We(ce.prototype,"deleteEdgeById",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeById"),ce.prototype),We(ce.prototype,"deleteEdgeBySource",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySource"),ce.prototype),We(ce.prototype,"deleteEdgeByTarget",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeByTarget"),ce.prototype),We(ce.prototype,"setElementStateById",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementStateById"),ce.prototype),We(ce.prototype,"updateText",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"updateText"),ce.prototype),We(ce.prototype,"selectNodeById",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectNodeById"),ce.prototype),We(ce.prototype,"selectEdgeById",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectEdgeById"),ce.prototype),We(ce.prototype,"selectElementById",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectElementById"),ce.prototype),We(ce.prototype,"clearSelectElements",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearSelectElements"),ce.prototype),We(ce.prototype,"moveNodes",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNodes"),ce.prototype),We(ce.prototype,"setDefaultEdgeType",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"setDefaultEdgeType"),ce.prototype),We(ce.prototype,"changeNodeType",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeNodeType"),ce.prototype),We(ce.prototype,"changeEdgeType",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeEdgeType"),ce.prototype),We(ce.prototype,"getNodeIncomingEdge",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingEdge"),ce.prototype),We(ce.prototype,"getNodeOutgoingEdge",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingEdge"),ce.prototype),We(ce.prototype,"getNodeIncomingNode",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingNode"),ce.prototype),We(ce.prototype,"getNodeOutgoingNode",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingNode"),ce.prototype),We(ce.prototype,"setTheme",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"setTheme"),ce.prototype),We(ce.prototype,"resize",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"resize"),ce.prototype),We(ce.prototype,"clearData",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearData"),ce.prototype),We(ce.prototype,"translateCenter",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"translateCenter"),ce.prototype),We(ce.prototype,"fitView",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"fitView"),ce.prototype),We(ce.prototype,"openEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"openEdgeAnimation"),ce.prototype),We(ce.prototype,"closeEdgeAnimation",[c.k],Object.getOwnPropertyDescriptor(ce.prototype,"closeEdgeAnimation"),ce.prototype),ce),tm=Td;function Ts(e){return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function Ms(){return Ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ms.apply(this,arguments)}function nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ns(e,t){return Ns=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ns(e,t)}function rm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wa(e);if(t){var a=wa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return om(this,n)}}function om(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qn(e)}function qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wa(e){return wa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wa(e)}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Md,im=Gn(kd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ns(o,u)})(a,e);var t,n,r=rm(a);function a(o){var u;(function(x,S){if(!(x instanceof S))throw new TypeError("Cannot call a class as a function")})(this,a),hr(qn(u=r.call(this)),"stepDrag",void 0),hr(qn(u),"stepScrollX",0),hr(qn(u),"stepScrollY",0),hr(qn(u),"onDraging",function(x){var S=x.deltaX,k=x.deltaY;u.setState({isDraging:!0});var C=u.props.graphModel,Q=C.transformModel;C.editConfigModel.stopMoveGraph||Q.translate(S,k)}),hr(qn(u),"onDragEnd",function(){u.setState({isDraging:!1})}),hr(qn(u),"zoomHandler",function(x){var S=u.props,k=S.graphModel,C=k.editConfigModel,Q=k.transformModel,ee=k.gridSize,ae=S.graphModel,re=x.deltaX,pe=x.deltaY;if(C.stopScrollGraph||x.ctrlKey===!0){if(!C.stopZoomGraph){x.preventDefault();var ye=ae.getPointByClient({x:x.clientX,y:x.clientY}).canvasOverlayPosition,Te=ye.x,xe=ye.y;Q.zoom(x.deltaY<0,[Te,xe])}}else{if(x.preventDefault(),u.stepScrollX+=re,u.stepScrollY+=pe,Math.abs(u.stepScrollX)>=ee){var Fe=u.stepScrollX%ee,He=u.stepScrollX-Fe;Q.translate(-He*Q.SCALE_X,0),u.stepScrollX=Fe}if(Math.abs(u.stepScrollY)>=ee){var Re=u.stepScrollY%ee,yt=u.stepScrollY-Re;Q.translate(0,-yt*Q.SCALE_Y),u.stepScrollY=Re}}}),hr(qn(u),"clickHandler",function(x){if(x.target.getAttribute("name")==="canvas-overlay"){var S=u.props.graphModel;S.selectElements.size>0&&S.clearSelectElements(),S.eventCenter.emit(at.BLANK_CLICK,{e:x})}}),hr(qn(u),"handleContextMenu",function(x){if(x.target.getAttribute("name")==="canvas-overlay"){x.preventDefault();var S=u.props.graphModel,k=S.getPointByClient({x:x.clientX,y:x.clientY});S.eventCenter.emit(at.BLANK_CONTEXTMENU,{e:x,position:k})}}),hr(qn(u),"mouseDownHandler",function(x){var S=u.props.graphModel,k=S.eventCenter,C=S.editConfigModel,Q=S.transformModel.SCALE_X,ee=S.gridSize,ae=x.target,re=!C.adjustEdge&&!C.adjustNodePosition;(ae.getAttribute("name")==="canvas-overlay"||re)&&(C.stopMoveGraph?k.emit(at.BLANK_MOUSEDOWN,{e:x}):(u.stepDrag.setStep(ee*Q),u.stepDrag.handleMouseDown(x)),u.clickHandler(x))});var l=o.graphModel,d=l.gridSize,O=l.eventCenter;return u.stepDrag=new Zr({onDraging:u.onDraging,onDragEnd:u.onDragEnd,step:d,eventType:"BLANK",isStopPropagation:!1,eventCenter:O,model:null}),u.state={isDraging:!1},u}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props,l=u.children,d=u.dnd,O=this.state.isDraging;return Object($.g)("svg",Ms({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:O?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},d.eventMap()),Object($.g)("g",{transform:o},l))}}])&&nm(t.prototype,n),a}($.a))||kd;function Cs(e){return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function am(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function um(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Is(e,t){return Is=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Is(e,t)}function sm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=_a(e);if(t){var a=_a(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cm(this,n)}}function cm(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nd(e)}function Nd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_a(e)}function lm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fm=Gn(Md=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Is(o,u)})(a,e);var t,n,r=sm(a);function a(){var o;am(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return lm(Nd(o=r.call.apply(r,[this].concat(l))),"setToolOverlayRef",function(O){var x=o.props.tool.getInstance();x.components.forEach(function(S){return S(x,O)}),x.components=[]}),o}return t=a,(n=[{key:"getTools",value:function(){var o=this.props,u=o.tool,l=o.graphModel,d=u.getTools().map(function(O){return Object($.g)(O,{graphModel:l,logicFlow:u.instance})});return u.components=d,d}},{key:"render",value:function(){return Object($.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&um(t.prototype,n),a}($.a))||Md;function Rs(e){return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function pm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bs(e,t){return Bs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bs(e,t)}function hm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=xa(e);if(t){var a=xa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ym(this,n)}}function ym(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function xa(e){return xa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xa(e)}var Cd,gm=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Bs(o,u)})(a,e);var t,n,r=hm(a);function a(){return pm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.background;return Object($.g)("div",{className:"lf-background"},Object($.g)("div",{style:o,className:"lf-background-area"}))}}])&&dm(t.prototype,n),a}($.a);function Ls(e){return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function vm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zs(e,t){return zs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zs(e,t)}function mm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ea(e);if(t){var a=Ea(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Om(this,n)}}function Om(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Id(e)}function Id(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ea(e){return Ea=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ea(e)}function wm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rd=Gn(Cd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&zs(o,u)})(a,e);var t,n,r=mm(a);function a(){var o;vm(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return wm(Id(o=r.call.apply(r,[this].concat(l))),"id",Jr()),o}return t=a,(n=[{key:"renderDot",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,O=d===void 0?2:d,x=o.size,S=o.visible,k=Math.min(Math.max(2,O),x/2),C=1;return S||(C=0),Object($.g)("rect",{width:k,height:k,rx:k/2,ry:k/2,fill:l,opacity:C})}},{key:"renderMesh",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,O=d===void 0?1:d,x=o.size,S=o.visible,k=Math.min(Math.max(1,O),x/2),C="M ".concat(x," 0 H0 M0 0 V0 ").concat(x),Q=1;return S||(Q=0),Object($.g)("path",{d:C,stroke:l,strokeWidth:k,opacity:Q})}},{key:"render",value:function(){var o=this.props,u=o.type,l=o.size,d=o.graphModel.transformModel,O=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),x="matrix(".concat(O,")");return Object($.g)("div",{className:"lf-grid"},Object($.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object($.g)("defs",null,Object($.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:x,x:"0",y:"0",width:l,height:l},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object($.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&bm(t.prototype,n),a}($.a))||Cd;Rd.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function Fs(e){return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function _m(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Bd(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Bd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ld,Kr=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=_m(n,2),a=r[0],o=r[1];(a==="style"||Fs(o)!=="object")&&(t[a]=o)}),Object($.g)("line",t)};function Us(e){return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zd(Object(n),!0).forEach(function(r){xm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gs(e,t){return Gs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gs(e,t)}function Am(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Aa(e);if(t){var a=Aa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jm(this,n)}}function jm(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Aa(e){return Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Aa(e)}var Fd,Pm=Gn(Ld=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Gs(o,u)})(a,e);var t,n,r=Am(a);function a(){return Em(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,u=o.position,l=o.isShowHorizontal,d=o.isShowVertical,O=o.getStyle(),x=u.x,S=x===void 0?0:x,k=u.y,C=k===void 0?0:k,Q=Sa(Sa({x1:-1e5,y1:C,x2:1e5,y2:C},O),{},{stroke:l?O.stroke:"none"}),ee=Sa(Sa({x1:S,y1:-1e5,x2:S,y2:1e5},O),{},{stroke:d?O.stroke:"none"});return Object($.g)("g",{className:"lf-snapline"},Object($.g)(Kr,Q),Object($.g)(Kr,ee))}}])&&Sm(t.prototype,n),a}($.a))||Ld;function Hs(e){return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function km(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ud(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ud(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ud(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tr(e){var t=e.x,n=e.y,r=e.width,a=e.height,o=e.className,u=e.radius,l=t-r/2,d=n-a/2,O={};return Object.entries(e).forEach(function(x){var S=km(x,2),k=S[0],C=S[1];Hs(C)!=="object"&&(O[k]=C)}),O.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",u&&(O.rx=u,O.ry=u),O.x=l,O.y=d,Object($.g)("rect",O)}function Ys(e){return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function wo(){return wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wo.apply(this,arguments)}function Gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gd(Object(n),!0).forEach(function(r){Dm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xs(e,t){return Xs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xs(e,t)}function Nm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ja(e);if(t){var a=ja(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Cm(this,n)}}function Cm(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ja(e){return ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ja(e)}Tr.defaultProps={className:"",radius:""};var Yd,Im=Gn(Fd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Xs(o,u)})(a,e);var t,n,r=Nm(a);function a(){return Tm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,u=o.nodes,l=o.editConfigModel,d=l.hoverOutline,O=l.nodeSelectedOutline,x=[];return u.forEach(function(S){if(S.isHovered||S.isSelected){var k=S.isHovered,C=S.isSelected,Q=S.x,ee=S.y,ae=S.width,re=S.height;if(O&&C||d&&k){var pe=S.getOutlineStyle(),ye={};if(Object.keys(pe).forEach(function(xe){xe!=="hover"&&(ye[xe]=pe[xe])}),k){var Te=pe.hover;ye=Hd(Hd({},ye),Te)}x.push(Object($.g)(Tr,wo({className:"lf-outline-node",x:Q,y:ee,width:ae+10,height:re+10},ye)))}}}),x}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,u=o.edges,l=o.editConfigModel,d=l.edgeSelectedOutline,O=l.hoverOutline,x=[],S=0;S<u.length;S++){var k=u[S];(d&&k.isSelected||O&&k.isHovered)&&(k.modelType===pt.LINE_EDGE?x.push(this.getLineOutline(k)):k.modelType===pt.POLYLINE_EDGE?x.push(this.getPolylineOutline(k)):k.modelType===pt.BEZIER_EDGE&&x.push(this.getBezierOutline(k)))}return x}},{key:"getLineOutline",value:function(o){var u=o.startPoint,l=o.endPoint,d=(u.x+l.x)/2,O=(u.y+l.y)/2,x=Math.abs(u.x-l.x)+10,S=Math.abs(u.y-l.y)+10,k=o.getOutlineStyle();return Object($.g)(Tr,wo({className:"lf-outline-edge",x:d,y:O,width:x,height:S},k))}},{key:"getPolylineOutline",value:function(o){var u=o.points,l=bo(u),d=ii(l,8),O=d.x,x=d.y,S=d.width,k=d.height,C=o.getOutlineStyle();return Object($.g)(Tr,wo({className:"lf-outline",x:O,y:x,width:S,height:k},C))}},{key:"getBezierOutline",value:function(o){var u=o.path,l=va(u),d=ii(l,8),O=d.x,x=d.y,S=d.width,k=d.height,C=o.getOutlineStyle();return Object($.g)(Tr,wo({className:"lf-outline",x:O,y:x,width:S,height:k},C))}},{key:"render",value:function(){return Object($.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&Mm(t.prototype,n),a}($.a))||Fd;function Qs(e){return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function Rm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Xd(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Xd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ui(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.r,u=o===void 0?4:o,l=e.className,d={cx:n,cy:a,r:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(O){var x=Rm(O,2),S=x[0],k=x[1];Qs(k)!=="object"&&(d[S]=k)}),d.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",Object($.g)("circle",d)}function Vs(e){return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function Bm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Qd(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Qd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function si(){return si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},si.apply(this,arguments)}function Vd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jd(e,t,n){return t&&Wd(e.prototype,t),n&&Wd(e,n),e}function Zd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ws(e,t)}function Ws(e,t){return Ws=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ws(e,t)}function Kd(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ka(e);if(t){var a=ka(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Lm(this,n)}}function Lm(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pa(e)}function Pa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ka(e){return ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ka(e)}function Js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qd,$d=function(e){Zd(n,e);var t=Kd(n);function n(){var r;return Vd(this,n),Js(Pa(r=t.call(this)),"dragHandler",void 0),Js(Pa(r),"onDraging",function(a){var o=a.event,u=r.props,l=u.graphModel,d=u.bezierModel,O=u.type,x=l.getPointByClient({x:o.clientX,y:o.clientY}).canvasOverlayPosition,S=x.x,k=x.y;d.updateAdjustAnchor({x:S,y:k},O)}),Js(Pa(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Zr({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return Jd(n,[{key:"render",value:function(){var r=this,a=this.props.position,o=a.x,u=a.y,l=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object($.g)(ui,si({className:"lf-bezier-adjust-anchor",x:o,y:u},l,{onMouseDown:function(d){r.dragHandler.handleMouseDown(d)}}))}}]),n}($.a),zm=Gn(Yd=function(e){Zd(n,e);var t=Kd(n);function n(){return Vd(this,n),t.apply(this,arguments)}return Jd(n,[{key:"getBezierAdjust",value:function(r,a){var o=r.path,u=r.id,l=Bm(va(o),4),d=l[0],O=l[1],x=l[2],S=l[3],k=r.getEdgeStyle().adjustLine,C=[];return C.push(Object($.g)(Kr,si({x1:d.x,y1:d.y,x2:O.x,y2:O.y},k))),C.push(Object($.g)($d,{position:O,bezierModel:r,graphModel:a,key:"".concat(u,"_ePre"),type:"sNext"})),C.push(Object($.g)(Kr,si({x1:S.x,y1:S.y,x2:x.x,y2:x.y},k))),C.push(Object($.g)($d,{position:x,bezierModel:r,graphModel:a,key:"".concat(u,"_sNext"),type:"ePre"})),C}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,a=r.edges,o=[],u=0;u<a.length;u++){var l=a[u];l.isSelected&&l.modelType===pt.BEZIER_EDGE&&l.draggable&&o.push(this.getBezierAdjust(l,r))}return o}},{key:"render",value:function(){return Object($.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}($.a))||Yd;function Zs(e){return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function Fm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Um(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ks(e,t){return Ks=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ks(e,t)}function Gm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Da(e);if(t){var a=Da(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Hm(this,n)}}function Hm(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Da(e){return Da=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Da(e)}var eh,Ym=Gn(qd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ks(o,u)})(a,e);var t,n,r=Gm(a);function a(){return Fm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props.children;return Object($.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object($.g)("g",{transform:o},u))}}])&&Um(t.prototype,n),a}($.a))||qd;function qs(e){return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function $s(){return $s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s.apply(this,arguments)}function Xm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ec(e,t){return ec=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ec(e,t)}function Vm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ta(e);if(t){var a=Ta(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Wm(this,n)}}function Wm(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ta(e){return Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ta(e)}var Jm=Gn(eh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ec(o,u)})(a,e);var t,n,r=Vm(a);function a(){return Xm(this,a),r.apply(this,arguments)}return t=a,n=[{key:"getComponent",value:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",d=this.props.getView,O=d(o.type);return Object($.g)(O,{key:o.id,model:o,graphModel:u,overlay:l})}},{key:"render",value:function(){var o=this,u=this.props,l=u.graphModel,d=u.tool,O=u.options,x=u.dnd,S=u.snaplineModel,k={};O.width&&(k.width="".concat(l.width,"px")),O.height&&(k.height="".concat(l.height,"px"));var C=l.fakerNode,Q=l.editConfigModel.adjustEdge;return Object($.g)("div",{className:"lf-graph",style:k},Object($.g)(im,{graphModel:l,dnd:x},Object($.g)("g",{className:"lf-base"},ia(l.sortElements,function(ee){return o.getComponent(ee,l)})),C?this.getComponent(C,l):""),Object($.g)(Ym,{graphModel:l},Object($.g)(Im,{graphModel:l}),Q?Object($.g)(zm,{graphModel:l}):"",O.isSilentMode||O.snapline===!1?"":Object($.g)(Pm,{snaplineModel:S})),Object($.g)(fm,{graphModel:l,tool:d}),O.background&&Object($.g)(gm,{background:O.background}),O.grid&&Object($.g)(Rd,$s({},O.grid,{graphModel:l})))}}],n&&Qm(t.prototype,n),a}($.a))||eh,Zm=Jm;function th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?th(Object(n),!0).forEach(function(r){yr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qm=function(){function e(r){var a=this;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),yr(this,"nodeConfig",void 0),yr(this,"lf",void 0),yr(this,"fakerNode",void 0),yr(this,"stopDrag",function(){a.nodeConfig=null,window.document.removeEventListener("mouseup",a.stopDrag)}),yr(this,"dragEnter",function(u){a.nodeConfig&&!a.fakerNode&&(a.fakerNode=a.lf.createFakerNode(Ma(Ma({},a.nodeConfig),a.clientToLocalPoint({x:u.clientX,y:u.clientY}))))}),yr(this,"onDragOver",function(u){if(u.preventDefault(),a.fakerNode){var l=a.clientToLocalPoint({x:u.clientX,y:u.clientY}),d=l.x,O=l.y;a.fakerNode.moveTo(d,O);var x=a.fakerNode.getData();a.lf.setNodeSnapLine(x),a.lf.graphModel.eventCenter.emit(at.NODE_DND_DRAG,{data:x})}return!1}),yr(this,"onDragLeave",function(){a.fakerNode&&(a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)}),yr(this,"onDrop",function(u){if(a.lf.graphModel&&u&&a.nodeConfig){var l=a.lf.addNode(Ma(Ma({},a.nodeConfig),a.clientToLocalPoint({x:u.clientX,y:u.clientY})));u.preventDefault(),u.stopPropagation(),a.nodeConfig=null,a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null;var d=l.getData();a.lf.graphModel.eventCenter.emit(at.NODE_DND_ADD,{data:d})}});var o=r.lf;this.lf=o}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var a=r.x,o=r.y,u=vf(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:a,y:o}).canvasOverlayPosition,d=l.x,O=l.y;return{x:go(d,u),y:go(O,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Km(t.prototype,n),e}();function nh(e){var t=e.container,n=e.grid,r=e.width,a=e.height;if(!t)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof a=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(e.grid=un({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),un({},oh,e)}var vt,rh,oh={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function tc(e){return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function nc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ih(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ih(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ih(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ah(Object(n),!0).forEach(function(r){uh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ah(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function e0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ci(){return ci=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=n0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},ci.apply(this,arguments)}function n0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Mr(e))!==null;);return e}function rc(e,t){return rc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},rc(e,t)}function r0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Mr(e);if(t){var a=Mr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o0(this,n)}}function o0(e,t){if(t&&(tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ca(e)}function Ca(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mr(e){return Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mr(e)}function uh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var oc=(vt=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&rc(o,u)})(a,e);var t,n,r=r0(a);function a(){var o;e0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return uh(Ca(o=r.call.apply(r,[this].concat(l))),"modelType",pt.BEZIER_EDGE),$m(Ca(o),"path",rh,Ca(o)),o}return t=a,(n=[{key:"initEdgeData",value:function(o){this.offset=100,ci(Mr(a.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return Na(Na({},ci(Mr(a.prototype),"getEdgeStyle",this).call(this)),Tt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,u=0;return this.pointsList.forEach(function(l){var d=l.x,O=l.y;o+=d,u+=O}),{x:o/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=ci(Mr(a.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Na(Na({},o),{},{pointsList:u})}},{key:"getControls",value:function(){var o=this.startPoint,u=this.endPoint;return fd({start:o,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var u=nc(o,4),l=u[0],d=u[1],O=u[2],x=u[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(O.x," ").concat(O.y,`,
    `).concat(x.x," ").concat(x.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),u=o.sNext,l=o.ePre;this.updatePath(u,l)}},{key:"updatePath",value:function(o,u){var l={x:this.startPoint.x,y:this.startPoint.y},d={x:this.endPoint.x,y:this.endPoint.y};if(!o||!u){var O=this.getControls();o=O.sNext,u=O.ePre}this.pointsList=[l,o,u,d],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u;var l=nc(this.pointsList,3),d=l[1],O=l[2];d.x+=o,d.y+=u,this.updatePath(d,O)}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u;var l=nc(this.pointsList,3),d=l[1],O=l[2];O.x+=o,O.y+=u,this.updatePath(d,O)}},{key:"updateAdjustAnchor",value:function(o,u){u==="sNext"?this.pointsList[1]=o:u==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,O=o.targetNode,x=fd({start:u,end:l,sourceNode:d,targetNode:O,offset:this.offset}),S=x.sNext,k=x.ePre;this.pointsList=[u,S,k,l],this.initPoints()}}])&&t0(t.prototype,n),a}(hs),rh=Rn(vt.prototype,"path",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Rn(vt.prototype,"initPoints",[c.k],Object.getOwnPropertyDescriptor(vt.prototype,"initPoints"),vt.prototype),Rn(vt.prototype,"updatePoints",[c.k],Object.getOwnPropertyDescriptor(vt.prototype,"updatePoints"),vt.prototype),Rn(vt.prototype,"updateStartPoint",[c.k],Object.getOwnPropertyDescriptor(vt.prototype,"updateStartPoint"),vt.prototype),Rn(vt.prototype,"updateEndPoint",[c.k],Object.getOwnPropertyDescriptor(vt.prototype,"updateEndPoint"),vt.prototype),Rn(vt.prototype,"moveStartPoint",[c.k],Object.getOwnPropertyDescriptor(vt.prototype,"moveStartPoint"),vt.prototype),Rn(vt.prototype,"moveEndPoint",[c.k],Object.getOwnPropertyDescriptor(vt.prototype,"moveEndPoint"),vt.prototype),Rn(vt.prototype,"updateAdjustAnchor",[c.k],Object.getOwnPropertyDescriptor(vt.prototype,"updateAdjustAnchor"),vt.prototype),Rn(vt.prototype,"getAdjustStart",[c.k],Object.getOwnPropertyDescriptor(vt.prototype,"getAdjustStart"),vt.prototype),Rn(vt.prototype,"getAdjustEnd",[c.k],Object.getOwnPropertyDescriptor(vt.prototype,"getAdjustEnd"),vt.prototype),Rn(vt.prototype,"updateAfterAdjustStartAndEnd",[c.k],Object.getOwnPropertyDescriptor(vt.prototype,"updateAfterAdjustStartAndEnd"),vt.prototype),vt),Ne,sh,ch,lh,fh,ph,dh,hh,yh,gh,vh,bh,mh,Oh,wh,_h,xh,Eh,Sh,i0=function(e){return e==null};function ic(e){return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function a0(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(d,O){if(!!d){if(typeof d=="string")return Ah(d,O);var x=Object.prototype.toString.call(d).slice(8,-1);if(x==="Object"&&d.constructor&&(x=d.constructor.name),x==="Map"||x==="Set")return Array.from(d);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Ah(d,O)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return u=d.done,d},e:function(d){l=!0,o=d},f:function(){try{u||n.return==null||n.return()}finally{if(l)throw o}}}}function Ah(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jh(Object(n),!0).forEach(function(r){En(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function u0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var gr,Ph,vr=(Ne=function(){function e(r,a){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),En(this,"id",Jr()),Xt(this,"type",sh,this),Xt(this,"x",ch,this),Xt(this,"y",lh,this),Xt(this,"text",fh,this),Xt(this,"properties",ph,this),Xt(this,"_width",dh,this),Xt(this,"_height",hh,this),Xt(this,"anchorsOffset",yh,this),Xt(this,"isSelected",gh,this),Xt(this,"isHovered",vh,this),Xt(this,"isDragging",bh,this),Xt(this,"isHitable",mh,this),Xt(this,"draggable",Oh,this),Xt(this,"visible",wh,this),En(this,"graphModel",void 0),Xt(this,"zIndex",_h,this),Xt(this,"state",xh,this),Xt(this,"autoToFront",Eh,this),Xt(this,"style",Sh,this),En(this,"BaseType",Ut.NODE),En(this,"modelType",pt.NODE),En(this,"additionStateData",void 0),En(this,"targetRules",[]),En(this,"sourceRules",[]),En(this,"moveRules",[]),En(this,"hasSetTargetRules",!1),En(this,"hasSetSourceRules",!1),this.graphModel=a,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,o=a&&a(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}this.formatText(r),un(this,function(l){return $o(l,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===_n.INCREASE&&(this.zIndex=r.zIndex||ps())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,a=r.x,o=r.y,u=r.value,l=this.properties;Object(c.x)(l)&&(l=Object(c.I)(l));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===_n.INCREASE&&(d.zIndex=this.zIndex),u&&(d.text={x:a,y:o,value:u}),d}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(c.I)(this.properties)}},{key:"getNodeStyle",value:function(){return cn(cn({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Tt(r)}},{key:"getAnchorStyle",value:function(r){var a=this.graphModel.theme.anchor;return Tt(a)}},{key:"getAnchorLineStyle",value:function(){var r=this.graphModel.theme.anchorLine;return Tt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Tt(r)}},{key:"isAllowConnectedAsSource",value:function(r,a,o){var u=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l,d=!0,O=0;O<u.length;O++){var x=u[O];if(!x.validate.call(this,this,r,a,o)){d=!1,l=x.message;break}}return{isAllPass:d,msg:l}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,a,o){var u=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l,d=!0,O=0;O<u.length;O++){var x=u[O];if(!x.validate.call(this,r,this,a,o)){d=!1,l=x.message;break}}return{isAllPass:d,msg:l}}},{key:"isAllowMoveNode",value:function(r,a){var o,u=!0,l=!0,d=a0(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(d.s();!(o=d.n()).done;){var O=(0,o.value)(this,r,a);if(!O)return!1;if(ic(O)==="object"){var x=O;if(x.x===!1&&x.y===!1)return!1;u=u&&x.x,l=l&&x.y}}}catch(S){d.e(S)}finally{d.f()}return{x:u,y:l}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,a=this.id,o=this.x,u=this.y;return r&&r.length>0?r.map(function(l,d){return l.length?(l=l,{id:"".concat(a,"_").concat(d),x:o+l[0],y:u+l[1]}):cn(cn({},l=l),{},{x:o+l.x,y:u+l.y,id:l.id||"".concat(a,"_").concat(d)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!i0(r))for(var a=0;a<this.anchors.length;a++){var o=this.anchors[a];if(o.id===r)return o}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,a){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=!1,l=!1;if(o)u=!0,l=!0;else{var d=this.isAllowMoveNode(r,a);typeof d=="boolean"?(u=d,l=d):(u=d.x,l=d.y)}if(u){var O=this.x+r;this.x=O,this.text&&this.moveText(r,0)}if(l){var x=this.y+a;this.y=x,this.text&&this.moveText(0,a)}return u||l}},{key:"moveTo",value:function(r,a){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,l=a-this.y;return!(!o&&!this.isAllowMoveNode(u,l)||(this.text&&this.text&&this.moveText(u,l),this.x=r,this.y=a,0))}},{key:"moveText",value:function(r,a){var o=this.text,u=o.x,l=o.y,d=o.value,O=o.draggable,x=o.editable;this.text={value:d,editable:x,draggable:O,x:u+r,y:l+a}}},{key:"updateText",value:function(r){this.text=cn(cn({},this.text),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"setProperty",value:function(r,a){this.properties=cn(cn({},this.properties),{},En({},r,$t(a))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=cn(cn({},this.properties),$t(r)),this.setAttributes()}},{key:"setStyle",value:function(r,a){this.style=cn(cn({},this.style),{},En({},r,$t(a)))}},{key:"setStyles",value:function(r){this.style=cn(cn({},this.style),$t(r))}},{key:"updateStyles",value:function(r){this.style=cn({},$t(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){un(this,r)}}],n&&u0(t.prototype,n),e}(),sh=ht(Ne.prototype,"type",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ch=ht(Ne.prototype,"x",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),lh=ht(Ne.prototype,"y",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fh=ht(Ne.prototype,"text",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),ph=ht(Ne.prototype,"properties",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dh=ht(Ne.prototype,"_width",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),hh=ht(Ne.prototype,"_height",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),yh=ht(Ne.prototype,"anchorsOffset",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gh=ht(Ne.prototype,"isSelected",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vh=ht(Ne.prototype,"isHovered",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bh=ht(Ne.prototype,"isDragging",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mh=ht(Ne.prototype,"isHitable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Oh=ht(Ne.prototype,"draggable",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wh=ht(Ne.prototype,"visible",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_h=ht(Ne.prototype,"zIndex",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),xh=ht(Ne.prototype,"state",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Eh=ht(Ne.prototype,"autoToFront",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sh=ht(Ne.prototype,"style",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ht(Ne.prototype,"incoming",[c.m],Object.getOwnPropertyDescriptor(Ne.prototype,"incoming"),Ne.prototype),ht(Ne.prototype,"outgoing",[c.m],Object.getOwnPropertyDescriptor(Ne.prototype,"outgoing"),Ne.prototype),ht(Ne.prototype,"addNodeMoveRules",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"addNodeMoveRules"),Ne.prototype),ht(Ne.prototype,"move",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"move"),Ne.prototype),ht(Ne.prototype,"moveTo",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveTo"),Ne.prototype),ht(Ne.prototype,"moveText",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveText"),Ne.prototype),ht(Ne.prototype,"updateText",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateText"),Ne.prototype),ht(Ne.prototype,"setSelected",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setSelected"),Ne.prototype),ht(Ne.prototype,"setHovered",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setHovered"),Ne.prototype),ht(Ne.prototype,"setHitable",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setHitable"),Ne.prototype),ht(Ne.prototype,"setElementState",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setElementState"),Ne.prototype),ht(Ne.prototype,"setProperty",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setProperty"),Ne.prototype),ht(Ne.prototype,"setProperties",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setProperties"),Ne.prototype),ht(Ne.prototype,"setStyle",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setStyle"),Ne.prototype),ht(Ne.prototype,"setStyles",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setStyles"),Ne.prototype),ht(Ne.prototype,"updateStyles",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateStyles"),Ne.prototype),ht(Ne.prototype,"setZIndex",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setZIndex"),Ne.prototype),ht(Ne.prototype,"updateAttributes",[c.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateAttributes"),Ne.prototype),Ne);function ac(e){return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function kh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kh(Object(n),!0).forEach(function(r){Th(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function c0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uc(){return uc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=f0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},uc.apply(this,arguments)}function f0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=_o(e))!==null;);return e}function sc(e,t){return sc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sc(e,t)}function p0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=_o(e);if(t){var a=_o(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d0(this,n)}}function d0(e,t){if(t&&(ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ia(e)}function Ia(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_o(e)}function Th(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cc(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var en,Mh,Nh,lc=(gr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&sc(o,u)})(a,e);var t,n,r=p0(a);function a(){var o;c0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Th(Ia(o=r.call.apply(r,[this].concat(l))),"modelType",pt.CIRCLE_NODE),s0(Ia(o),"r",Ph,Ia(o)),o}return t=a,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=uc(_o(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.circle;return Dh(Dh({},o),Tt(u))}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.r;return[{x:o,y:u-l,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+l,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&l0(t.prototype,n),a}(vr),Ph=cc(gr.prototype,"r",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),cc(gr.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(gr.prototype,"width"),gr.prototype),cc(gr.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(gr.prototype,"height"),gr.prototype),gr);i(127);function fc(e){return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function pc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ch(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ch(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ih(Object(n),!0).forEach(function(r){Lh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ih(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bh(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dc(){return dc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=g0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},dc.apply(this,arguments)}function g0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Eo(e))!==null;);return e}function hc(e,t){return hc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hc(e,t)}function v0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Eo(e);if(t){var a=Eo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b0(this,n)}}function b0(e,t){if(t&&(fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xo(e)}function xo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eo(e){return Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Eo(e)}function Lh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function So(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var $n,zh,Fh,yc=(en=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&hc(o,u)})(a,e);var t,n,r=v0(a);function a(){var o;h0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Lh(xo(o=r.call.apply(r,[this].concat(l))),"modelType",pt.DIAMOND_NODE),Bh(xo(o),"rx",Mh,xo(o)),Bh(xo(o),"ry",Nh,xo(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=dc(Eo(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.diamond;return Rh(Rh({},o),Tt(u))}},{key:"points",get:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[[o,u-d],[o+l,u],[o,u+d],[o-l,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=pc(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=pc(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(u,l){var d=pc(u,2);return{x:d[0],y:d[1],id:"".concat(o.id,"_").concat(l)}})}}])&&y0(t.prototype,n),a}(vr),Mh=So(en.prototype,"rx",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Nh=So(en.prototype,"ry",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),So(en.prototype,"points",[c.m],Object.getOwnPropertyDescriptor(en.prototype,"points"),en.prototype),So(en.prototype,"pointsPosition",[c.m],Object.getOwnPropertyDescriptor(en.prototype,"pointsPosition"),en.prototype),So(en.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(en.prototype,"width"),en.prototype),So(en.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(en.prototype,"height"),en.prototype),en);function gc(e){return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function Uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uh(Object(n),!0).forEach(function(r){Yh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hh(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vc(){return vc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=w0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},vc.apply(this,arguments)}function w0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=jo(e))!==null;);return e}function bc(e,t){return bc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bc(e,t)}function _0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=jo(e);if(t){var a=jo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return x0(this,n)}}function x0(e,t){if(t&&(gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ao(e)}function Ao(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jo(e){return jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jo(e)}function Yh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ra(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Mn,Xh,mc=($n=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bc(o,u)})(a,e);var t,n,r=_0(a);function a(){var o;m0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Yh(Ao(o=r.call.apply(r,[this].concat(l))),"modelType",pt.ELLIPSE_NODE),Hh(Ao(o),"rx",zh,Ao(o)),Hh(Ao(o),"ry",Fh,Ao(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=vc(jo(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.ellipse;return Gh(Gh({},o),Tt(u))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[{x:o,y:u-d,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&O0(t.prototype,n),a}(vr),zh=Ra($n.prototype,"rx",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Fh=Ra($n.prototype,"ry",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Ra($n.prototype,"width",[c.m],Object.getOwnPropertyDescriptor($n.prototype,"width"),$n.prototype),Ra($n.prototype,"height",[c.m],Object.getOwnPropertyDescriptor($n.prototype,"height"),$n.prototype),$n);function Oc(e){return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function wc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Qh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Qh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vh(Object(n),!0).forEach(function(r){Jh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function S0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _c(){return _c=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=j0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},_c.apply(this,arguments)}function j0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Po(e))!==null;);return e}function xc(e,t){return xc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xc(e,t)}function P0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Po(e);if(t){var a=Po(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k0(this,n)}}function k0(e,t){if(t&&(Oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ba(e)}function Ba(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e){return Po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Po(e)}function Jh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function La(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ec,Zh,Sc=(Mn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&xc(o,u)})(a,e);var t,n,r=P0(a);function a(){var o;S0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Jh(Ba(o=r.call.apply(r,[this].concat(l))),"modelType",pt.POLYGON_NODE),E0(Ba(o),"points",Xh,Ba(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=_c(Po(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.polygon;return Wh(Wh({},o),Tt(u))}},{key:"pointsPosition",get:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return this.points.map(function(O){return{x:O[0]+o-l/2,y:O[1]+u-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=wc(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=wc(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this,u=this.x,l=this.y,d=this.width,O=this.height;return this.points.map(function(x,S){var k=wc(x,2),C=k[0],Q=k[1];return{x:u+C-d/2,y:l+Q-O/2,id:"".concat(o.id,"_").concat(S)}})}}])&&A0(t.prototype,n),a}(vr),Xh=La(Mn.prototype,"points",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),La(Mn.prototype,"pointsPosition",[c.m],Object.getOwnPropertyDescriptor(Mn.prototype,"pointsPosition"),Mn.prototype),La(Mn.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(Mn.prototype,"width"),Mn.prototype),La(Mn.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(Mn.prototype,"height"),Mn.prototype),Mn);function Ac(e){return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function Kh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kh(Object(n),!0).forEach(function(r){$h(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function T0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jc(){return jc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=N0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},jc.apply(this,arguments)}function N0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ko(e))!==null;);return e}function Pc(e,t){return Pc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pc(e,t)}function C0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ko(e);if(t){var a=ko(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I0(this,n)}}function I0(e,t){if(t&&(Ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return za(e)}function za(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ko(e){return ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ko(e)}function $h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nr,kc=(Ec=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Pc(o,u)})(a,e);var t,n,r=C0(a);function a(){var o;T0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return $h(za(o=r.call.apply(r,[this].concat(l))),"modelType",pt.RECT_NODE),D0(za(o),"radius",Zh,za(o)),o}return t=a,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=jc(ko(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.rect;return qh(qh({},o),Tt(u))}}])&&M0(t.prototype,n),a}(vr),Zh=function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}(Ec.prototype,"radius",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ec);function Dc(e){return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ty(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ey(Object(n),!0).forEach(function(r){ry(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tc(){return Tc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=L0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Tc.apply(this,arguments)}function L0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Do(e))!==null;);return e}function Mc(e,t){return Mc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mc(e,t)}function z0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Do(e);if(t){var a=Do(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return F0(this,n)}}function F0(e,t){if(t&&(Dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ny(e)}function ny(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Do(e){return Do=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Do(e)}function ry(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oy(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Nc=(Nr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Mc(o,u)})(a,e);var t,n,r=z0(a);function a(){var o;R0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return ry(ny(o=r.call.apply(r,[this].concat(l))),"modelType",pt.TEXT_NODE),o}return t=a,(n=[{key:"getTextStyle",value:function(){var o=Tc(Do(a.prototype),"getTextStyle",this).call(this),u=this.graphModel.theme.text;return ty(ty({},o),Tt(u))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return fs({rows:o,fontSize:u,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return fs({rows:o,fontSize:u,rowsLength:o.length}).height}}])&&B0(t.prototype,n),a}(vr),oy(Nr.prototype,"width",[c.m],Object.getOwnPropertyDescriptor(Nr.prototype,"width"),Nr.prototype),oy(Nr.prototype,"height",[c.m],Object.getOwnPropertyDescriptor(Nr.prototype,"height"),Nr.prototype),Nr);function Cc(e){return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function U0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ic(e,t){return Ic=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ic(e,t)}function H0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fa(e);if(t){var a=Fa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Y0(this,n)}}function Y0(e,t){if(t&&(Cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iy(e)}function iy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fa(e){return Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fa(e)}function X0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bn,ay,uy,sy,Rc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ic(o,u)})(a,e);var t,n,r=H0(a);function a(){var o;U0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return X0(iy(o=r.call.apply(r,[this].concat(l))),"modelType",pt.HTML_NODE),o}return t=a,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}}])&&G0(t.prototype,n),a}(vr);function cy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ly(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var fy=(Bn=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),ly(this,"graphModel",void 0),Bc(this,"isShowHorizontal",ay,this),Bc(this,"isShowVertical",uy,this),Bc(this,"position",sy,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,n=[{key:"getStyle",value:function(){return function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?cy(Object(o),!0).forEach(function(u){ly(r,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):cy(Object(o)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(o,u))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,a){for(var o=r.x,u=r.y,l=!1,d=!1,O=0;O<a.length;O++){var x=a[O];if(x.id!==r.id&&(o===x.x&&(l=!0),u===x.y&&(d=!0),l&&d))break}return{isShowVertical:l,isShowHorizontal:d,position:{x:o,y:u}}}},{key:"getHorizontalSnapline",value:function(r,a){var o,u,l=!1,d=r.id;if(d){var O=this.graphModel.fakerNode;if(O&&O.id===d)u=xn(O);else{var x=this.graphModel.getNodeModelById(d);u=xn(x)}}for(var S=0;S<a.length;S++){var k=a[S];if(k.id!==r.id){var C=xn(k);if(C.minY===u.minY||C.maxY===u.minY){l=!0,o=u.minY;break}if(C.minY===u.maxY||C.maxY===u.maxY){l=!0,o=u.maxY;break}}}return un({isShowHorizontal:l,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,a){var o,u,l=!1,d=r.id;if(d){var O=this.graphModel.fakerNode;if(O&&O.id===d)u=xn(O);else{var x=this.graphModel.getNodeModelById(d);u=xn(x)}}for(var S=0;S<a.length;S++){var k=a[S];if(k.id!==r.id){var C=xn(k);if(C.minX===u.minX||C.maxX===u.minX){l=!0,o=u.minX;break}if(C.minX===u.maxX||C.maxX===u.maxX){l=!0,o=u.maxX;break}}}return un({isShowVertical:l,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,a){var o=this.getCenterSnapLine(r,a),u=o.isShowHorizontal,l=o.isShowVertical;if(!u){var d=this.getHorizontalSnapline(r,a);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!l){var O=this.getVerticalSnapline(r,a);O.isShowVertical&&(o.isShowVertical=O.isShowVertical,o.position.x=O.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var a=r.isShowHorizontal,o=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=a,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var a=this.graphModel.nodes,o=this.getSnapLinePosition(r,a);this.setSnaplineInfo(o)}}],n&&Q0(t.prototype,n),e}(),ay=li(Bn.prototype,"isShowHorizontal",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uy=li(Bn.prototype,"isShowVertical",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sy=li(Bn.prototype,"position",[c.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li(Bn.prototype,"clearSnapline",[c.k],Object.getOwnPropertyDescriptor(Bn.prototype,"clearSnapline"),Bn.prototype),li(Bn.prototype,"setNodeSnapLine",[c.k],Object.getOwnPropertyDescriptor(Bn.prototype,"setNodeSnapLine"),Bn.prototype),Bn);function Lc(e){return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function fi(){return fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fi.apply(this,arguments)}function py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?py(Object(n),!0).forEach(function(r){tr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):py(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return hy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return hy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zc(e,t){return zc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zc(e,t)}function J0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ua(e);if(t){var a=Ua(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Z0(this,n)}}function Z0(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return er(e)}function er(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ua(e){return Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ua(e)}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K0=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&zc(o,u)})(a,e);var t,n,r=J0(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),tr(er(o=r.call(this)),"preTargetNode",void 0),tr(er(o),"sourceRuleResults",void 0),tr(er(o),"targetRuleResults",void 0),tr(er(o),"dragHandler",void 0),tr(er(o),"t",void 0),tr(er(o),"onDragStart",function(u){var l=u.event,d=o.props,O=d.anchorData,x=d.nodeModel,S=d.graphModel,k=S.overlapMode;S.selectNodeById(x.id),k!==_n.INCREASE&&x.autoToFront&&S.toFront(x.id),S.eventCenter.emit(at.ANCHOR_DRAGSTART,{data:O,e:l,nodeModel:x}),o.setState({startX:O.x,startY:O.y,endX:O.x,endY:O.y})}),tr(er(o),"onDraging",function(u){var l=u.event,d=o.props,O=d.graphModel,x=d.nodeModel,S=d.anchorData,k=O.transformModel,C=O.eventCenter,Q=O.width,ee=O.height,ae=O.editConfigModel,re=l.clientX,pe=l.clientY,ye=O.getPointByClient({x:re,y:pe}),Te=ye.domOverlayPosition,xe=Te.x,Fe=Te.y,He=ye.canvasOverlayPosition,Re=He.x,yt=He.y;o.t&&clearInterval(o.t);var bt=[];xe<10?bt=[10,0]:xe+10>Q?bt=[-10,0]:Fe<10?bt=[0,10]:Fe+10>ee&&(bt=[0,-10]),o.setState({endX:Re,endY:yt,draging:!0}),o.moveAnchorEnd(Re,yt),bt.length>0&&!ae.stopMoveGraph&&(o.t=setInterval(function(){var Rt=V0(bt,2),Qt=Rt[0],Zt=Rt[1];k.translate(Qt,Zt);var nn=o.state,fn=nn.endX,wr=nn.endY;o.setState({endX:fn-Qt,endY:wr-Zt}),o.moveAnchorEnd(fn-Qt,wr-Zt)},50)),C.emit(at.ANCHOR_DRAG,{data:S,e:l,nodeModel:x})}),tr(er(o),"onDragEnd",function(u){o.t&&clearInterval(o.t),o.checkEnd(u),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear()}),tr(er(o),"checkEnd",function(u){var l=o.props,d=l.graphModel,O=l.nodeModel,x=l.anchorData,S=x.x,k=x.y,C=x.id,Q=d.edgeType,ee=o.state,ae=ee.endX,re=ee.endY,pe=ee.draging,ye=ca({x:ae,y:re},d);if(o.preTargetNode&&o.preTargetNode.state!==_t.DEFAULT&&o.preTargetNode.setElementState(_t.DEFAULT),pe&&ye&&ye.node){var Te=ye.node,xe=ye.anchor.id,Fe="".concat(O.id,"_").concat(Te.id,"_").concat(xe,"_").concat(C),He=o.sourceRuleResults.get(Fe)||{},Re=He.isAllPass,yt=He.msg,bt=o.targetRuleResults.get(Fe)||{},Rt=bt.isAllPass,Qt=bt.msg;if(Re&&Rt){Te.setElementState(_t.DEFAULT);var Zt=d.addEdge({type:Q,sourceNodeId:O.id,sourceAnchorId:C,startPoint:{x:S,y:k},targetNodeId:ye.node.id,targetAnchorId:ye.anchor.id,endPoint:{x:ye.anchor.x,y:ye.anchor.y}}),nn=o.props.anchorData;d.eventCenter.emit(at.ANCHOR_DROP,{data:nn,e:u,nodeModel:O,edgeModel:Zt})}else{var fn=Te.getData();d.eventCenter.emit(at.CONNECTION_NOT_ALLOWED,{data:fn,msg:Qt||yt})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=new Zr({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=a,(n=[{key:"getAnchorShape",value:function(){var o=this.props,u=o.anchorData,l=o.style,d=o.node.getAnchorShape(u);if(d)return d;var O=u.x,x=u.y,S=dy(dy({},l),l.hover);return Object($.g)("g",null,Object($.g)(ui,fi({className:"lf-node-anchor-hover"},S,{x:O,y:x})),Object($.g)(ui,fi({className:"lf-node-anchor"},l,{x:O,y:x})))}},{key:"moveAnchorEnd",value:function(o,u){var l=this.props,d=l.graphModel,O=l.nodeModel,x=l.anchorData,S=ca({x:o,y:u},d);if(S){var k=S.node,C=S.anchor.id;if(this.preTargetNode&&this.preTargetNode!==S.node&&this.preTargetNode.setElementState(_t.DEFAULT),x.id===C)return;this.preTargetNode=k;var Q="".concat(O.id,"_").concat(k.id,"_").concat(C,"_").concat(x.id);if(!this.targetRuleResults.has(Q)){var ee=S.anchor,ae=O.isAllowConnectedAsSource(k,x,ee),re=k.isAllowConnectedAsTarget(O,x,ee);this.sourceRuleResults.set(Q,la(ae)),this.targetRuleResults.set(Q,la(re))}var pe=this.sourceRuleResults.get(Q).isAllPass,ye=this.targetRuleResults.get(Q).isAllPass;pe&&ye?k.setElementState(_t.ALLOW_CONNECT):k.setElementState(_t.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==_t.DEFAULT&&this.preTargetNode.setElementState(_t.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,O=o.endY;return Zn(u,l,d,O)>10}},{key:"render",value:function(){var o=this,u=this.state,l=u.startX,d=u.startY,O=u.endX,x=u.endY,S=this.props,k=S.anchorData.edgeAddable,C=S.edgeStyle;return Object($.g)("g",{className:"lf-anchor"},Object($.g)("g",{onMouseDown:function(Q){k!==!1&&o.dragHandler.handleMouseDown(Q)}},this.getAnchorShape()),this.isShowLine()&&Object($.g)(Kr,fi({x1:l,y1:d,x2:O,y2:x},C,{"pointer-events":"none"})))}}])&&W0(t.prototype,n),a}($.a);i(63);function yy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function q0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yy(Object(n),!0).forEach(function(r){$0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fc(e){return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function eO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return gy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return gy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vy(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.value,u=e.fontSize,l=e.fill,d=l===void 0?"currentColor":l,O=e.overflowMode,x=O===void 0?"default":O,S=e.textWidth,k=S===void 0?"":S,C=e.model,Q={textAnchor:"middle","dominant-baseline":"middle",x:n,y:a,fill:d};if(Object.entries(e).forEach(function(Te){var xe=eO(Te,2),Fe=xe[0],He=xe[1];Fc(He)!=="object"&&(Q[Fe]=He)}),o){var ee=String(o).split(/[\r\n]/g),ae=ee.length;if(x!=="default"){var re=C.BaseType,pe=C.modelType;if(re===Ut.NODE&&pe!==pt.TEXT_NODE||re===Ut.EDGE&&k)return function(Te){var xe=Te.value,Fe=Te.fontSize,He=Te.model,Re=Te.fontFamily,yt=Re===void 0?"":Re,bt=Te.lineHeight,Rt=Te.wrapPadding,Qt=Rt===void 0?"0, 0":Rt,Zt=Te.overflowMode,nn=Te.x,fn=Te.y,wr=He.width,to=He.textHeight,_r=Te.textWidth||wr,vi=String(xe).split(/[\r\n]/g),hu=vi.length,yu=Gp({rows:vi,style:{fontSize:"".concat(Fe,"px"),width:"".concat(_r,"px"),fontFamily:yt,lineHeight:bt,padding:Qt},rowsLength:hu,className:"lf-get-text-height"}),Co=He.height>yu?He.height:yu;to&&(Co=to);var Io=Zt==="ellipsis";return Object($.g)("g",null,Object($.g)("foreignObject",{width:_r,height:Co,x:nn-_r/2,y:fn-Co/2},Object($.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Co,width:_r,padding:Qt}},Object($.g)("div",{className:Io?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:q0({},Te)},vi.map(function(Rr){return Object($.g)("div",{className:"lf-node-text--auto-wrap-inner"},Rr)})))))}(e)}if(ae>1){var ye=ee.map(function(Te,xe){var Fe=(xe-(ae-1)/2)*(u+2);return Object($.g)("tspan",{className:"lf-text-tspan",x:n,y:a+Fe},Te)});return Object($.g)("text",Q,ye)}return Object($.g)("text",Q,o)}}function Uc(e){return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function Gc(){return Gc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gc.apply(this,arguments)}function tO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return by(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return by(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hc(e,t){return Hc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hc(e,t)}function rO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ga(e);if(t){var a=Ga(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return oO(this,n)}}function oO(e,t){if(t&&(Uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cr(e)}function Cr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ga(e){return Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ga(e)}function qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var my=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Hc(o,u)})(a,e);var t,n,r=rO(a);function a(o){var u;(function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")})(this,a),qr(Cr(u=r.call(this)),"dragHandler",void 0),qr(Cr(u),"sumDeltaX",0),qr(Cr(u),"sumDeltaY",0),qr(Cr(u),"stepDrag",void 0),qr(Cr(u),"onDraging",function(O){var x=O.deltaX,S=O.deltaY,k=u.props,C=k.model,Q=tO(k.graphModel.transformModel.fixDeltaXY(x,S),2),ee=Q[0],ae=Q[1];C.moveText(ee,ae)}),qr(Cr(u),"dblClickHandler",function(){u.props.editable&&u.props.model.setElementState(_t.TEXT_EDIT)}),qr(Cr(u),"mouseDownHandle",function(O){var x=u.props,S=x.draggable,k=x.graphModel.editConfigModel.nodeTextDraggable;(S||k)&&u.stepDrag.handleMouseDown(O)});var l=o.model,d=o.draggable;return u.stepDrag=new Zr({onDraging:u.onDraging,step:1,model:l,isStopPropagation:d}),u}return t=a,(n=[{key:"getShape",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.text,O=l.editConfigModel,x=d.value,S=d.x,k=d.y,C=d.editable,Q=d.draggable,ee={x:S,y:k,className:"",value:x};C?ee.className="lf-element-text":Q||O.nodeTextDraggable?ee.className="lf-text-draggable":ee.className="lf-text-disabled";var ae=u.getTextStyle();return Object($.g)(vy,Gc({},ee,ae,{model:u}))}},{key:"render",value:function(){if(this.props.model.text)return Object($.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&nO(t.prototype,n),a}($.a),iO=window.navigator.userAgent.match(/MSIE|Trident/)!==null,pi=new Map,Oy=function(e){var t=pi.get(e);t&&(window.cancelAnimationFrame(t),pi.delete(e))};function Yc(e){return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function Ha(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return wy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return wy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xc(e,t){return Xc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xc(e,t)}function aO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ya(e);if(t){var a=Ya(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return uO(this,n)}}function uO(e,t){if(t&&(Yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tn(e)}function tn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ya(e){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ya(e)}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var br=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&Xc(u,l)})(o,e);var t,n,r,a=aO(o);function o(u){var l;(function(k,C){if(!(k instanceof C))throw new TypeError("Cannot call a class as a function")})(this,o),ln(tn(l=a.call(this)),"t",void 0),ln(tn(l),"moveOffset",void 0),ln(tn(l),"stepDrag",void 0),ln(tn(l),"contextMenuTime",void 0),ln(tn(l),"startTime",void 0),ln(tn(l),"clickTimer",void 0),ln(tn(l),"onDragStart",function(k){var C=k.event,Q=C.clientX,ee=C.clientY,ae=l.props,re=ae.model,pe=ae.graphModel.getPointByClient({x:Q,y:ee}).canvasOverlayPosition,ye=pe.x,Te=pe.y;l.moveOffset={x:re.x-ye,y:re.y-Te}}),ln(tn(l),"onDraging",function(k){var C=k.event,Q=l.props,ee=Q.model,ae=Q.graphModel,re=ae.editConfigModel,pe=ae.transformModel,ye=ae.width,Te=ae.height,xe=ae.gridSize;ee.isDragging=!0;var Fe=C.clientX,He=C.clientY,Re=ae.getPointByClient({x:Fe,y:He}).canvasOverlayPosition,yt=Re.x,bt=Re.y,Rt=Ha(pe.CanvasPointToHtmlPoint([yt,bt]),2),Qt=Rt[0],Zt=Rt[1];if(!(Qt<0||Zt<0||Qt>ye||Zt>Te)){yt+=l.moveOffset.x,bt+=l.moveOffset.y,yt=go(yt,xe),bt=go(bt,xe);var nn,fn,wr,to=Ha(pe.CanvasPointToHtmlPoint([yt-ee.width/2,bt-ee.height/2]),2),_r=to[0],vi=to[1],hu=Ha(pe.CanvasPointToHtmlPoint([yt+ee.width/2,bt+ee.height/2]),2),yu=hu[0],Co=hu[1],Io=Math.max(xe,20),Rr=[];_r<0?Rr=[Io,0]:yu>ae.width?Rr=[-Io,0]:vi<0?Rr=[0,Io]:Co>ae.height&&(Rr=[0,-Io]),l.t&&Oy(l.t),Rr.length>0&&!re.stopMoveGraph?l.t=(nn=function(){var gu=Ha(Rr,2),vu=gu[0],ig=gu[1];pe.translate(vu,ig),ae.moveNode(ee.id,-vu/pe.SCALE_X,-ig/pe.SCALE_X)},fn=Jr(),wr=window.requestAnimationFrame(function gu(){if(nn(),pi.get(fn)){var vu=window.requestAnimationFrame(gu);pi.set(fn,vu)}}),pi.set(fn,wr),fn):ae.moveNode2Coordinate(ee.id,yt,bt)}}),ln(tn(l),"onDragEnd",function(){l.t&&Oy(l.t),l.props.model.isDragging=!1}),ln(tn(l),"handleClick",function(k){if(l.startTime&&!(new Date().getTime()-l.startTime>200)){var C=l.props,Q=C.model,ee=C.graphModel,ae={data:Q.getData(),e:k,position:ee.getPointByClient({x:k.clientX,y:k.clientY})},re=k.button===2,pe=k.detail===2;if(!re){var ye=ee.editConfigModel;ee.selectNodeById(Q.id,yp(k,ye)),l.toFront(),pe?(ye.nodeTextEdit&&Q.text.editable&&(Q.setSelected(!1),ee.setElementStateById(Q.id,_t.TEXT_EDIT)),ee.eventCenter.emit(at.NODE_DBCLICK,ae)):(ee.eventCenter.emit(at.ELEMENT_CLICK,ae),ee.eventCenter.emit(at.NODE_CLICK,ae))}}}),ln(tn(l),"handleContextMenu",function(k){k.preventDefault();var C=l.props,Q=C.model,ee=C.graphModel,ae=Q.getData(),re=ee.getPointByClient({x:k.clientX,y:k.clientY});ee.setElementStateById(Q.id,_t.SHOW_MENU,re.domOverlayPosition),ee.selectNodeById(Q.id),ee.eventCenter.emit(at.NODE_CONTEXTMENU,{data:ae,e:k,position:re}),l.toFront()}),ln(tn(l),"handleMouseDown",function(k){var C=l.props,Q=C.model,ee=C.graphModel;l.toFront(),l.startTime=new Date().getTime(),ee.editConfigModel.adjustNodePosition&&Q.draggable&&l.stepDrag&&l.stepDrag.handleMouseDown(k)}),ln(tn(l),"setHoverON",function(k){if(!l.state.isHovered){l.setState({isHovered:!0});var C=l.props,Q=C.model,ee=C.graphModel,ae=Q.getData();Q.setHovered(!0),ee.eventCenter.emit(at.NODE_MOUSEENTER,{data:ae,e:k})}}),ln(tn(l),"setHoverOFF",function(k){l.setState({isHovered:!1});var C=l.props,Q=C.model,ee=C.graphModel,ae=Q.getData();Q.setHovered(!1),ee.eventCenter.emit(at.NODE_MOUSELEAVE,{data:ae,e:k})}),ln(tn(l),"onMouseOut",function(k){iO&&l.setHoverOFF(k)});var d=u.graphModel,O=d.gridSize,x=d.eventCenter,S=u.model;return l.stepDrag=new Zr({onDragStart:l.onDragStart,onDraging:l.onDraging,onDragEnd:l.onDragEnd,step:O,eventType:"NODE",isStopPropagation:!1,eventCenter:x,model:S}),l.state={isHovered:!1},l}return t=o,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getAnchorShape",value:function(u){return null}},{key:"getAnchors",value:function(){var u=this,l=this.props,d=l.model,O=l.graphModel,x=d.isSelected,S=d.isHitable,k=d.isDragging,C=this.state.isHovered;if(S&&(x||C)&&!k){var Q=d.getAnchorLineStyle();return ia(d.anchors,function(ee,ae){var re=d.getAnchorStyle(ee);return Object($.g)(K0,{anchorData:ee,node:u,style:re,edgeStyle:Q,anchorIndex:ae,nodeModel:d,graphModel:O,setHoverOFF:u.setHoverOFF})})}return[]}},{key:"getText",value:function(){var u=this.props,l=u.model,d=u.graphModel;if(l.state===_t.TEXT_EDIT)return"";if(l.text){var O=d.editConfigModel,x=!1;return(l.text.draggable||O.nodeTextDraggable)&&(x=!0),Object($.g)(my,{editable:O.nodeTextEdit&&l.text.editable,model:l,graphModel:d,draggable:x})}}},{key:"getStateClassName",value:function(){var u=this.props.model,l=u.state,d=u.isDraging,O=u.isSelected,x="lf-node";switch(l){case _t.ALLOW_CONNECT:x+=" lf-node-allow";break;case _t.NOT_ALLOW_CONNECT:x+=" lf-node-not-allow";break;default:x+=" lf-node-default"}return d&&(x+=" lf-isDragging"),O&&(x+=" lf-node-selected"),x}},{key:"toFront",value:function(){var u=this.props,l=u.model,d=u.graphModel;d.overlapMode!==_n.INCREASE&&l.autoToFront&&d.toFront(l.id)}},{key:"render",value:function(){var u,l=this.props,d=l.model,O=l.graphModel,x=O.editConfigModel,S=x.hideAnchors,k=x.adjustNodePosition,C=O.gridSize,Q=O.transformModel.SCALE_X,ee=d.isHitable,ae=d.draggable,re=Object($.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),S?null:this.getAnchors());return ee?(k&&ae&&this.stepDrag.setStep(C*Q),u=Object($.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},re)):u=Object($.g)("g",{className:this.getStateClassName()},re),u}}])&&_y(t.prototype,n),r&&_y(t,r),o}($.a);function Qc(e){return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Vc(){return Vc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vc.apply(this,arguments)}function sO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wc(e,t){return Wc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wc(e,t)}function lO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Xa(e);if(t){var a=Xa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fO(this,n)}}function fO(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Xa(e){return Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xa(e)}var Jc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Wc(o,u)})(a,e);var t,n,r=lO(a);function a(){return sO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object($.g)(Tr,Vc({},u,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}])&&cO(t.prototype,n),a}(br);function Zc(e){return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function Kc(){return Kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kc.apply(this,arguments)}function pO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qc(e,t){return qc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},qc(e,t)}function hO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qa(e);if(t){var a=Qa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return yO(this,n)}}function yO(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Qa(e){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(e)}var $c=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&qc(o,u)})(a,e);var t,n,r=hO(a);function a(){return pO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.r,O=o.getNodeStyle();return Object($.g)(ui,Kc({},O,{x:u,y:l,r:d}))}}])&&dO(t.prototype,n),a}(br);function el(e){return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function gO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return xy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ey(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(a){var o=gO(a,2),u=o[0],l=o[1];el(l)!=="object"&&(r[u]=l)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(a){return a.join(",")}).join(" "),Object($.g)("polygon",r)}function tl(e){return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function nl(){return nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nl.apply(this,arguments)}function vO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rl(e,t){return rl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},rl(e,t)}function mO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Va(e);if(t){var a=Va(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return OO(this,n)}}function OO(e,t){if(t&&(tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Va(e)}var ol=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&rl(o,u)})(a,e);var t,n,r=mO(a);function a(){return vO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.width,O=o.height,x=o.points,S=o.getNodeStyle(),k={transform:"matrix(1 0 0 1 ".concat(u-d/2," ").concat(l-O/2,")")};return Object($.g)("g",k,Object($.g)(Ey,nl({},S,{points:x,x:u,y:l})))}}])&&bO(t.prototype,n),a}(br);function il(e){return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function al(){return al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},al.apply(this,arguments)}function wO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ul(e,t){return ul=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ul(e,t)}function xO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Wa(e);if(t){var a=Wa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return EO(this,n)}}function EO(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Wa(e){return Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wa(e)}var sl=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ul(o,u)})(a,e);var t,n,r=xO(a);function a(){return wO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object($.g)("g",null,Object($.g)(Ey,al({},u,{points:o.points,x:o.x,y:o.y})))}}])&&_O(t.prototype,n),a}(br);function cl(e){return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function SO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Sy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Sy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AO(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.rx,u=o===void 0?4:o,l=e.ry,d=l===void 0?4:l,O=e.className,x={cx:n,cy:a,rx:u,ry:d,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(S){var k=SO(S,2),C=k[0],Q=k[1];cl(Q)!=="object"&&(x[C]=Q)}),x.className=O?"lf-basic-shape ".concat(O):"lf-basic-shape",Object($.g)("ellipse",x)}function ll(e){return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function fl(){return fl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl.apply(this,arguments)}function jO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pl(e,t){return pl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pl(e,t)}function kO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ja(e);if(t){var a=Ja(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return DO(this,n)}}function DO(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(e)}var dl=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&pl(o,u)})(a,e);var t,n,r=kO(a);function a(){return jO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object($.g)(AO,fl({},u,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}])&&PO(t.prototype,n),a}(br);function hl(e){return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function Ay(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ay(Object(n),!0).forEach(function(r){TO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ay(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yl(e,t){return yl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yl(e,t)}function CO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Za(e);if(t){var a=Za(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return IO(this,n)}}function IO(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Za(e){return Za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Za(e)}var gl=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&yl(o,u)})(a,e);var t,n,r=CO(a);function a(){return MO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text;if(l&&l.value&&u.background&&u.background.fill!=="transparnet"){var d=l.x,O=l.y,x=o.width,S=o.height,k=jy(jy({},u.background),{},{x:d,y:O-1,width:x,height:S});return Object($.g)(Tr,k)}}},{key:"getShape",value:function(){return Object($.g)("g",null,this.getBackgroud())}}])&&NO(t.prototype,n),a}(br);function vl(e){return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function bl(){return bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bl.apply(this,arguments)}function RO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ml(e,t){return ml=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ml(e,t)}function LO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ka(e);if(t){var a=Ka(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return zO(this,n)}}function zO(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return di(e)}function di(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ka(e){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ka(e)}function qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ol=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ml(o,u)})(a,e);var t,n,r=LO(a);function a(){var o;RO(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return qa(di(o=r.call.apply(r,[this].concat(l))),"ref",void 0),qa(di(o),"currrentProperties",void 0),qa(di(o),"preProperties",void 0),qa(di(o),"setRef",function(O){o.ref=O}),o}return t=a,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.height,O=o.width,x=o.getNodeStyle();return this.currrentProperties=JSON.stringify(o.properties),Object($.g)("foreignObject",bl({},x,{x:u-O/2,y:l-d/2,width:O,height:d,ref:this.setRef}))}}])&&BO(t.prototype,n),a}(br);function wl(e){return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(e)}function _l(){return _l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_l.apply(this,arguments)}function Py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Py(Object(n),!0).forEach(function(r){Sl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xl(e,t){return xl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xl(e,t)}function UO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$a(e);if(t){var a=$a(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return GO(this,n)}}function GO(e,t){if(t&&(wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return El(e)}function El(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $a(e){return $a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$a(e)}function Sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nr,HO=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&xl(o,u)})(a,e);var t,n,r=UO(a);function a(o){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),Sl(El(u=r.call(this,o)),"setHoverON",function(){u.setState({isHoverd:!0})}),Sl(El(u),"setHoverOFF",function(){u.setState({isHoverd:!1})}),u.state={isHoverd:!1},u}return t=a,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text,d=u.background||{};if(this.state.isHoverd&&u.hover&&u.hover.background&&(d=$r($r({},d),u.hover.background)),l&&l.value&&d.fill!=="transparent"){var O,x=u.fontSize,S=u.overflowMode,k=u.lineHeight,C=u.wrapPadding,Q=u.textWidth,ee=l.value,ae=l.x,re=l.y,pe=String(ee).split(/[\r\n]/g),ye=pe.length;if(S==="autoWrap"&&Q){var Te=Gp({rows:pe,style:{fontSize:"".concat(x,"px"),width:"".concat(Q,"px"),lineHeight:k,padding:C},rowsLength:ye,className:"lf-get-text-height"});O=$r($r({},d),{},{x:ae-1,y:re-1,width:Q,height:Te})}else{pe&&pe.forEach(function(yt){ld(yt)});var xe=fs({rows:pe,fontSize:x,rowsLength:ye}),Fe=xe.width,He=xe.height;if(typeof d.wrapPadding=="string"){var Re=d.wrapPadding.split(",").filter(function(yt){return yt.trim()}).map(function(yt){return parseFloat(yt.trim())});Re.length>0&&Re.length<=4&&(Re.length===1?Re=[Re[0],Re[0],Re[0],Re[0]]:Re.length===2?Re=[Re[0],Re[1],Re[0],Re[1]]:Re.length===3&&(Re=[Re[0],Re[1],Re[2],Re[1]]),Fe+=Re[1]+Re[3],He+=Re[0]+Re[2],ae+=(Re[1]-Re[3])/2,re+=(Re[2]-Re[0])/2)}O=$r($r({},d),{},{x:ae-1,y:re-1,width:Fe,height:He})}return Object($.g)(Tr,O)}}},{key:"getShape",value:function(){var o=this.props.model,u=o.text,l=u.value,d=u.x,O=u.y;if(l){var x=$r({x:d,y:O,className:"lf-element-text",value:l},o.getTextStyle());return Object($.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object($.g)(vy,_l({},x,{model:o})))}}}])&&FO(t.prototype,n),a}(my);function Al(e){return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function jl(){return jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jl.apply(this,arguments)}function ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ky(Object(n),!0).forEach(function(r){zn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Dy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Dy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pl(e,t){return Pl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pl(e,t)}function QO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=eu(e);if(t){var a=eu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return VO(this,n)}}function VO(e,t){if(t&&(Al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ln(e)}function Ln(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eu(e){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eu(e)}function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(nr||(nr={}));var Ty=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Pl(o,u)})(a,e);var t,n,r=QO(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),zn(Ln(o=r.call(this)),"dragHandler",void 0),zn(Ln(o),"oldEdge",void 0),zn(Ln(o),"preTargetNode",void 0),zn(Ln(o),"targetRuleResults",void 0),zn(Ln(o),"sourceRuleResults",void 0),zn(Ln(o),"onDragStart",function(){var u=o.props,l=u.x,d=u.y,O=u.edgeModel,x=O.startPoint,S=O.endPoint,k=O.pointsList;o.oldEdge={startPoint:x,endPoint:S,pointsList:k},o.setState({endX:l,endY:d,draging:!0}),O.isHitable=!1}),zn(Ln(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,O=o.state,x=O.endX,S=O.endY,k=o.props,C=k.graphModel,Q=k.type,ee=YO(C.transformModel.moveCanvasPointByHtml([x,S],l,d),2),ae=ee[0],re=ee[1];o.setState({endX:ae,endY:re,draging:!0});var pe=o.props.edgeModel,ye=ca({x,y:S},C);if(ye&&ye.node&&o.isAllowAdjust(ye)){var Te,xe=pe.startPoint,Fe=pe.endPoint,He=pe.sourceNode,Re=pe.targetNode;Q===nr.SOURCE?Te={startPoint:{x:ye.anchor.x,y:ye.anchor.y},endPoint:{x:Fe.x,y:Fe.y},sourceNode:ye.node,targetNode:Re}:Q===nr.TARGET&&(Te={startPoint:{x:xe.x,y:xe.y},endPoint:{x:ye.anchor.x,y:ye.anchor.y},sourceNode:He,targetNode:ye.node}),pe.updateAfterAdjustStartAndEnd(Te)}else Q===nr.SOURCE?pe.updateStartPoint({x:ae,y:re}):Q===nr.TARGET&&pe.updateEndPoint({x:ae,y:re})}),zn(Ln(o),"onDragEnd",function(){var u;o.setState({draging:!1});var l=o.props,d=l.graphModel,O=l.edgeModel,x=l.type;O.isHitable=!0;var S=o.state,k=S.endX,C=S.endY,Q=S.draging,ee=ca({x:k,y:C},d);if(Q){if(ee&&ee.node&&o.isAllowAdjust(ee)){var ae,re=O.getData(),pe=mr(mr({},re),{},{sourceAnchorId:"",targetAnchorId:"",text:(re==null||(ae=re.text)===null||ae===void 0?void 0:ae.value)||""});x===nr.SOURCE?pe=mr(mr({},pe),{},{sourceNodeId:ee.node.id,sourceAnchorId:ee.anchor.id,startPoint:{x:ee.anchor.x,y:ee.anchor.y},targetNodeId:O.targetNodeId,endPoint:mr({},O.endPoint)}):x===nr.TARGET&&(pe=mr(mr({},pe),{},{sourceNodeId:O.sourceNodeId,startPoint:mr({},O.startPoint),targetNodeId:ee.node.id,targetAnchorId:ee.anchor.id,endPoint:{x:ee.anchor.x,y:ee.anchor.y}})),d.deleteEdgeById(O.id);var ye=d.addEdge(mr({},pe));d.eventCenter.emit(at.EDGE_EXCHANGE_NODE,{data:{newEdge:ye.getData(),oldEdge:O.getData()}})}else o.recoveryEdge();(u=o.preTargetNode)===null||u===void 0||u.setElementState(_t.DEFAULT)}}),zn(Ln(o),"recoveryEdge",function(){var u=o.props.edgeModel,l=o.oldEdge,d=l.startPoint,O=l.endPoint,x=l.pointsList;u.updateStartPoint(d),u.updateEndPoint(O),u.modelType!==pt.LINE_EDGE&&(u.pointsList=x,u.initPoints())}),zn(Ln(o),"getAdjustPointStyle",function(){return o.props.graphModel.theme.edgeAdjust}),o.state={draging:!1,endX:0,endY:0},o.targetRuleResults=new Map,o.sourceRuleResults=new Map,o.dragHandler=ks({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=a,(n=[{key:"isAllowAdjust",value:function(o){var u=this.props,l=u.edgeModel,d=(l.id,l.sourceNode),O=l.targetNode,x=l.sourceAnchorId,S=l.targetAnchorId,k=u.type,C=null,Q=null,ee=null,ae=null;if(k===nr.SOURCE?(C=o.node,Q=O,ee=o.anchor,ae=O.getAnchorInfo(S)):(C=d,Q=o.node,ae=o.anchor,ee=d.getAnchorInfo(x)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(_t.DEFAULT),this.preTargetNode=o.node,ae.id===ee.id)return!1;var re="".concat(C.id,"_").concat(Q.id,"_").concat(ee.id,"_").concat(ae.id);if(!this.targetRuleResults.has(re)){var pe=C.isAllowConnectedAsSource(Q,ee,ae),ye=Q.isAllowConnectedAsTarget(C,ee,ae);this.sourceRuleResults.set(re,la(pe)),this.targetRuleResults.set(re,la(ye))}var Te=this.sourceRuleResults.get(re).isAllPass,xe=this.targetRuleResults.get(re).isAllPass,Fe=Te&&xe?_t.ALLOW_CONNECT:_t.NOT_ALLOW_CONNECT;return k===nr.SOURCE?C.setElementState(Fe):Q.setElementState(Fe),Te&&xe}},{key:"render",value:function(){var o=this.props,u=o.x,l=o.y,d=this.state.draging,O=this.getAdjustPointStyle();return Object($.g)("g",null,Object($.g)(ui,jl({className:"lf-edge-adjust-point"},O,{x:u,y:l,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}])&&XO(t.prototype,n),a}($.a);function kl(e){return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function tu(){return tu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(this,arguments)}function My(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ny(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?My(Object(n),!0).forEach(function(r){Un(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dl(e,t){return Dl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dl(e,t)}function ZO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=nu(e);if(t){var a=nu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return KO(this,n)}}function KO(e,t){if(t&&(kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fn(e)}function Fn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nu(e){return nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nu(e)}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hi=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Dl(o,u)})(a,e);var t,n,r=ZO(a);function a(){var o;WO(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Un(Fn(o=r.call.apply(r,[this].concat(l))),"startTime",void 0),Un(Fn(o),"contextMenuTime",void 0),Un(Fn(o),"clickTimer",void 0),Un(Fn(o),"handleHover",function(O,x){var S=o.props,k=S.model,C=S.graphModel.eventCenter;k.setHovered(O);var Q=O?at.EDGE_MOUSEENTER:at.EDGE_MOUSELEAVE,ee=k.getData();C.emit(Q,{data:ee,e:x})}),Un(Fn(o),"setHoverON",function(O){o.props.model.isHovered||o.handleHover(!0,O)}),Un(Fn(o),"setHoverOFF",function(O){o.handleHover(!1,O)}),Un(Fn(o),"handleContextMenu",function(O){O.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var x=o.props,S=x.model,k=x.graphModel,C=k.getPointByClient({x:O.clientX,y:O.clientY});k.setElementStateById(S.id,_t.SHOW_MENU,C.domOverlayPosition),o.toFront(),k.selectEdgeById(S.id);var Q=S==null?void 0:S.getData();k.eventCenter.emit(at.EDGE_CONTEXTMENU,{data:Q,e:O,position:C})}),Un(Fn(o),"handleMouseDown",function(O){O.stopPropagation(),o.startTime=new Date().getTime()}),Un(Fn(o),"handleMouseUp",function(O){if(o.startTime&&!(new Date().getTime()-o.startTime>200||O.button===2)){var x=O.detail===2,S=o.props,k=S.model,C=S.graphModel,Q=k==null?void 0:k.getData(),ee=C.getPointByClient({x:O.clientX,y:O.clientY});if(x){var ae=C.editConfigModel,re=C.textEditElement;if(re&&re.id===k.id&&C.setElementStateById(k.id,_t.DEFAULT),ae.edgeTextEdit&&k.text.editable&&C.setElementStateById(k.id,_t.TEXT_EDIT),k.modelType===pt.POLYLINE_EDGE){var pe=k,ye=C.getPointByClient({x:O.x,y:O.y}).canvasOverlayPosition,Te=ye.x,xe=ye.y,Fe=pd({x:Te,y:xe},pe.points);pe.dbClickPosition=Fe}C.eventCenter.emit(at.EDGE_DBCLICK,{data:Q,e:O,position:ee})}else C.eventCenter.emit(at.ELEMENT_CLICK,{data:Q,e:O,position:ee}),C.eventCenter.emit(at.EDGE_CLICK,{data:Q,e:O,position:ee});var He=C.editConfigModel;C.selectEdgeById(k.id,yp(O,He)),o.toFront()}}),Un(Fn(o),"getIsDraging",function(){return!1}),o}return t=a,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,u=o.model,l=o.graphModel;if(u.state===_t.TEXT_EDIT)return"";var d=!1,O=l.editConfigModel;return(u.text.draggable||O.edgeTextDraggable)&&(d=!0),Object($.g)(HO,{editable:O.edgeTextEdit&&u.text.editable,model:u,graphModel:l,draggable:d})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isSelected;return{start:u,end:l,hover:this.state.hover,isSelected:d}}},{key:"getArrowStyle",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getEdgeStyle(),O=u.getEdgeAnimationStyle(),x=l.theme.arrow,S=u.isAnimation?O.stroke:d.stroke;return Ny(Ny({},d),{},{fill:S,stroke:S},x)}},{key:"getArrow",value:function(){return Object($.g)("g",null,Object($.g)("defs",null,this.getStartArrow(),this.getEndArrow()))}},{key:"getStartArrow",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.id,O=l.theme.arrow,x=O.offset,S=O.verticalLength,k=this.getArrowStyle(),C=k.stroke,Q=k.strokeWidth;return Object($.g)("marker",{id:"marker-start-".concat(d),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object($.g)("path",{stroke:C,fill:C,strokeWidth:Q,d:"M 0 0 L ".concat(x," -").concat(S," L ").concat(x," ").concat(S," Z")}))}},{key:"getEndArrow",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.id,O=l.theme.arrow,x=O.offset,S=O.verticalLength,k=this.getArrowStyle(),C=k.stroke,Q=k.strokeWidth;return Object($.g)("marker",{id:"marker-end-".concat(d),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object($.g)("path",{stroke:C,fill:C,strokeWidth:Q,transform:"rotate(180)",d:"M 0 0 L ".concat(x," -").concat(S," L ").concat(x," ").concat(S," Z")}))}},{key:"getAdjustPoints",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getAdjustStart(),O=u.getAdjustEnd();return Object($.g)("g",null,Object($.g)(Ty,tu({type:"SOURCE"},d,{edgeModel:u,graphModel:l})),Object($.g)(Ty,tu({type:"TARGET"},O,{edgeModel:u,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object($.g)("g",null)}},{key:"getAppend",value:function(){return Object($.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,u=o.graphModel,l=o.model;u.overlapMode!==_n.INCREASE&&u.toFront(l.id)}},{key:"render",value:function(){var o=this.props,u=o.model,l=u.isSelected,d=u.isHitable,O=o.graphModel,x=this.getIsDraging(),S=O.editConfigModel.adjustEdgeStartAndEnd,k=O.animation,C=l&&k.edge&&O.getSelectElements().edges.length===1;return Object($.g)("g",null,Object($.g)("g",{className:["lf-edge",!d&&"pointer-none",l&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),C&&this.getAnimation(),this.getText(),this.getArrow()),S&&l&&!x?this.getAdjustPoints():"")}}])&&JO(t.prototype,n),a}($.a);function Tl(e){return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function qO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Cy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Cy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var To=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=qO(n,2),a=r[0],o=r[1],u=Tl(o);a!=="style"&&u==="object"||(t[a]=o)}),Object($.g)("path",t)};function Ml(e){return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function ru(){return ru=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ru.apply(this,arguments)}function $O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ew(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nl(e,t){return Nl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Nl(e,t)}function tw(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ou(e);if(t){var a=ou(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nw(this,n)}}function nw(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ou(e){return ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ou(e)}var Cl=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Nl(o,u)})(a,e);var t,n,r=tw(a);function a(){return $O(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isAnimation,O=o.arrowConfig,x=o.getEdgeStyle(),S=o.getEdgeAnimationStyle(),k=S.strokeDasharray,C=S.stroke,Q=S.strokeDashoffset,ee=S.animationName,ae=S.animationDuration,re=S.animationIterationCount,pe=S.animationTimingFunction,ye=S.animationDirection;return Object($.g)(Kr,ru({},x,{x1:u.x,y1:u.y,x2:l.x,y2:l.y},O,d?{strokeDasharray:k,stroke:C,style:{strokeDashoffset:Q,animationName:ee,animationDuration:ae,animationIterationCount:re,animationTimingFunction:pe,animationDirection:ye}}:{}))}},{key:"getShape",value:function(){return Object($.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,O=u.strokeDasharray,x=o.startPoint,S=o.endPoint,k=o.getEdgeStyle();return Object($.g)("g",null,Object($.g)(Kr,ru({},k,{x1:x.x,y1:x.y,x2:S.x,y2:S.y,className:d,strokeDasharray:O,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,u=function(k){var C,Q=k.start,ee=k.end;if(Q.x===ee.x&&Q.y===ee.y)C="";else{var ae={start:Q,end:ee,offset:10,verticalLength:5},re=oi(fa(fa({},ae),{},{type:"start"})),pe=oi(fa(fa({},ae),{},{type:"end"}));C="M".concat(re.leftX," ").concat(re.leftY,` 
    L`).concat(re.rightX," ").concat(re.rightY,` 
    L`).concat(pe.rightX," ").concat(pe.rightY,`
    L`).concat(pe.leftX," ").concat(pe.leftY," z")}return{d:C,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),l=u.d,d=u.strokeWidth,O=u.fill,x=u.strokeDasharray,S=u.stroke;return Object($.g)(To,{d:l,fill:O,strokeWidth:d,stroke:S,strokeDasharray:x})}}])&&ew(t.prototype,n),a}(hi);function Il(e){return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function rw(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Iy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Iy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ry=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=rw(n,2),a=r[0],o=r[1];(a==="style"||Il(o)!=="object")&&(t[a]=o)}),Object($.g)("polyline",t)};function Rl(e){return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function By(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?By(Object(n),!0).forEach(function(r){or(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):By(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function au(){return au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(this,arguments)}function ow(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ly(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ly(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bl(e,t){return Bl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bl(e,t)}function aw(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=uu(e);if(t){var a=uu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return uw(this,n)}}function uw(e,t){if(t&&(Rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rr(e)}function rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uu(e){return uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uu(e)}function or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ll=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Bl(o,u)})(a,e);var t,n,r=aw(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),or(rr(o=r.call(this)),"drag",void 0),or(rr(o),"isDraging",void 0),or(rr(o),"appendInfo",void 0),or(rr(o),"dragHandler",void 0),or(rr(o),"onDragStart",function(){o.props.model.dragAppendStart()}),or(rr(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,O=o.props,x=O.model,S=O.graphModel;o.isDraging=!0;var k=S.transformModel,C=S.editConfigModel,Q=ow(k.fixDeltaXY(l,d),2),ee=Q[0],ae=Q[1],re=x,pe=C.adjustEdgeMiddle;o.appendInfo=pe?re.dragAppendSimple(o.appendInfo,{x:ee,y:ae}):re.dragAppend(o.appendInfo,{x:ee,y:ae})}),or(rr(o),"onDragEnd",function(){var u=o.props,l=u.model,d=u.graphModel.eventCenter,O=l;O.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,d.emit(at.EDGE_ADJUST,{data:O.getData()})}),or(rr(o),"beforeDragStart",function(u,l){l.dragAble&&o.dragHandler(u),o.appendInfo=l}),or(rr(o),"getIsDraging",function(){return o.isDraging}),o.drag=ks({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.points,l=o.isAnimation,d=o.arrowConfig,O=o.getEdgeStyle(),x=o.getEdgeAnimationStyle(),S=x.strokeDasharray,k=x.stroke,C=x.strokeDashoffset,Q=x.animationName,ee=x.animationDuration,ae=x.animationIterationCount,re=x.animationTimingFunction,pe=x.animationDirection;return Object($.g)(Ry,au({points:u},O,d,l?{strokeDasharray:S,stroke:k,style:{strokeDashoffset:C,animationName:Q,animationDuration:ee,animationIterationCount:ae,animationTimingFunction:re,animationDirection:pe}}:{}))}},{key:"getShape",value:function(){return Object($.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,O=u.strokeDasharray,x=o.getEdgeStyle();return Object($.g)("g",null,Object($.g)(Ry,au({points:o.points},x,{className:d,strokeDasharray:O,stroke:l})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.points,l=o.isSelected,d={start:null,end:null,hover:this.state.hover,isSelected:l},O=bo(u);return O.length>=2&&(d.start=O[O.length-2],d.end=O[O.length-1]),d}},{key:"getAppendAttributes",value:function(o){var u,l=o.start,d=o.end;if(l.x===d.x&&l.y===d.y)u="";else{var O={start:l,end:d,offset:10,verticalLength:5},x=oi(iu(iu({},O),{},{type:"start"})),S=oi(iu(iu({},O),{},{type:"end"}));u="M".concat(x.leftX," ").concat(x.leftY,` 
      L`).concat(x.rightX," ").concat(x.rightY,` 
      L`).concat(S.rightX," ").concat(S.rightY,`
      L`).concat(S.leftX," ").concat(S.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var u=this.getAppendAttributes(o),l=u.d,d=u.strokeWidth,O=u.fill,x=u.strokeDasharray,S=u.stroke;return Object($.g)(To,{d:l,fill:O,strokeWidth:d,stroke:S,strokeDasharray:x})}},{key:"getAppendWidth",value:function(){for(var o=this,u=this.props,l=u.model,d=u.graphModel,O=l.pointsList,x=l.draggable,S=[],k=O.length,C=function(ee){var ae="lf-polyline-append",re={start:{x:O[ee].x,y:O[ee].y},end:{x:O[ee+1].x,y:O[ee+1].y},startIndex:ee,endIndex:ee+1,direction:"",dragAble:!0},pe=Object($.g)("g",{className:ae},o.getAppendShape(re)),ye=d.editConfigModel,Te=ye.adjustEdge,xe=ye.adjustEdgeMiddle;if(Te&&x){o.dragHandler=o.drag;var Fe=re.startIndex,He=re.endIndex,Re=xe&&(Fe===0||He===k-1);re.dragAble=!Re,re.start.x===re.end.x?(re.dragAble&&(ae+="-ew-resize"),re.direction=jt.VERTICAL):re.start.y===re.end.y&&(re.dragAble&&(ae+="-ns-resize"),re.direction=jt.HORIZONTAL),pe=Object($.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(yt){return o.beforeDragStart(yt,re)}},Object($.g)("g",{className:ae},o.getAppendShape(re)))}else o.dragHandler=function(){};S.push(pe)},Q=0;Q<k-1;Q++)C(Q);return Object($.g)("g",null,S)}}])&&iw(t.prototype,n),a}(hi);function zl(e){return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function sw(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return zy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return zy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function su(){return su=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(this,arguments)}function cw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fl(e,t){return Fl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fl(e,t)}function fw(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=cu(e);if(t){var a=cu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pw(this,n)}}function pw(e,t){if(t&&(zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function cu(e){return cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cu(e)}var Ul=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Fl(o,u)})(a,e);var t,n,r=fw(a);function a(){return cw(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle(),l=o.path,d=o.isAnimation,O=o.arrowConfig,x=o.getEdgeAnimationStyle(),S=x.strokeDasharray,k=x.stroke,C=x.strokeDashoffset,Q=x.animationName,ee=x.animationDuration,ae=x.animationIterationCount,re=x.animationTimingFunction,pe=x.animationDirection;return Object($.g)(To,su({d:l},u,O,d?{strokeDasharray:S,stroke:k,style:{strokeDashoffset:C,animationName:Q,animationDuration:ee,animationIterationCount:ae,animationTimingFunction:re,animationDirection:pe}}:{}))}},{key:"getShape",value:function(){return Object($.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,O=u.strokeDasharray,x=o.getEdgeStyle();return Object($.g)("g",null,Object($.g)(To,su({d:o.path},x,{className:d,strokeDasharray:O,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object($.g)(To,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=this.state.hover,l=o,d=l.path,O=l.isSelected,x=function(k){var C=va(k);return[C[2],C[3]]}(d),S=sw(x,2);return{start:S[0],end:S[1],hover:u,isSelected:O}}}])&&lw(t.prototype,n),a}(hi);function Gl(e){return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function Fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hl(e,t){return Hl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hl(e,t)}function gw(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=lu(e);if(t){var a=lu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vw(this,n)}}function vw(e,t){if(t&&(Gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function lu(e){return lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lu(e)}var bw=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Hl(o,u)})(a,e);var t,n,r=gw(a);function a(){return hw(this,a),r.apply(this,arguments)}return t=a,n=[{key:"getArrowAttributes",value:function(){var o=this.props,u=o.arrowInfo,l=o.style,d=u.start,O=u.end,x={start:d,end:O,offset:l.offset,verticalLength:l.verticalLength,type:"end"},S=oi(x),k=S.leftX,C=S.leftY,Q=S.rightX,ee=S.rightY;return function(ae){for(var re=1;re<arguments.length;re++){var pe=arguments[re]!=null?arguments[re]:{};re%2?Fy(Object(pe),!0).forEach(function(ye){dw(ae,ye,pe[ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(pe)):Fy(Object(pe)).forEach(function(ye){Object.defineProperty(ae,ye,Object.getOwnPropertyDescriptor(pe,ye))})}return ae}({d:"M".concat(k," ").concat(C," L").concat(O.x," ").concat(O.y," L").concat(Q," ").concat(ee," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),u=o.d,l=o.strokeWidth,d=o.stroke,O=o.fill;return Object($.g)(To,{d:u,fill:O,strokeWidth:l,stroke:d})}},{key:"render",value:function(){return Object($.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&yw(t.prototype,n),a}($.a),Uy=function(e,t){return fe(e,t)},mw=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Yl=function(){return Ge.a.Date.now()},Ow=/\s/,ww=function(e){for(var t=e.length;t--&&Ow.test(e.charAt(t)););return t},_w=/^\s+/,xw=function(e){return e&&e.slice(0,ww(e)+1).replace(_w,"")},Ew=/^[-+]0x[0-9a-f]+$/i,Sw=/^0b[01]+$/i,Aw=/^0o[0-7]+$/i,jw=parseInt,Gy=function(e){if(typeof e=="number")return e;if(st(e))return NaN;if(Pt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Pt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=xw(e);var n=Sw.test(e);return n||Aw.test(e)?jw(e.slice(2),n?2:8):Ew.test(e)?NaN:+e},Pw=Math.max,kw=Math.min,Dw=function(e,t,n){var r,a,o,u,l,d,O=0,x=!1,S=!1,k=!0;if(typeof e!="function")throw new TypeError("Expected a function");function C(ye){var Te=r,xe=a;return r=a=void 0,O=ye,u=e.apply(xe,Te)}function Q(ye){return O=ye,l=setTimeout(ae,t),x?C(ye):u}function ee(ye){var Te=ye-d;return d===void 0||Te>=t||Te<0||S&&ye-O>=o}function ae(){var ye=Yl();if(ee(ye))return re(ye);l=setTimeout(ae,function(Te){var xe=t-(Te-d);return S?kw(xe,o-(Te-O)):xe}(ye))}function re(ye){return l=void 0,k&&r?C(ye):(r=a=void 0,u)}function pe(){var ye=Yl(),Te=ee(ye);if(r=arguments,a=this,d=ye,Te){if(l===void 0)return Q(d);if(S)return clearTimeout(l),l=setTimeout(ae,t),C(d)}return l===void 0&&(l=setTimeout(ae,t)),u}return t=Gy(t)||0,Pt(n)&&(x=!!n.leading,o=(S="maxWait"in n)?Pw(Gy(n.maxWait)||0,t):o,k="trailing"in n?!!n.trailing:k),pe.cancel=function(){l!==void 0&&clearTimeout(l),O=0,r=d=a=l=void 0},pe.flush=function(){return l===void 0?u:re(Yl())},pe},Tw=i(166);function Mw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hy,Yy,Xy,Nw=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Ir(this,"undos",[]),Ir(this,"redos",[]),Ir(this,"callbacks",[]),Ir(this,"stopWatch",null),Ir(this,"curData",null),Ir(this,"maxSize",50),Ir(this,"waitTime",100),Ir(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){Uy(mw(this.undos),r)||(this.undos.push(r),Uy(this.curData,r)||(this.redos=[]),this.eventCenter.emit(at.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var a=this.undos.pop();return this.curData=Tt(a),a}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Tt(r),r}}},{key:"watch",value:function(r){var a=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(Tw.a)(r,Dw(function(){var o=r.modelToHistoryData();o&&a.add(o)},this.waitTime))}}])&&Mw(t.prototype,n),e}();function Xl(e){return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function Cw(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Qy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Qy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vy(Object(n),!0).forEach(function(r){eo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ql(e,t){return Ql=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ql(e,t)}function Iw(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fu(e);if(t){var a=fu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Rw(this,n)}}function Rw(e,t){if(t&&(Xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return No(e)}function No(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fu(e){return fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fu(e)}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jy,Zy,Ky,Vl=Gn((Xy=Yy=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&Ql(u,l)})(o,e);var t,n,r,a=Iw(o);function o(){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),eo(No(u=a.call(this)),"ref",Object($.f)()),eo(No(u),"__prevText",{type:"",text:"",id:""}),eo(No(u),"keyupHandler",function(l){var d=u.props.graphModel.textEditElement;l.key==="Enter"&&l.altKey&&d.setElementState(0)}),eo(No(u),"inputHandler",function(l){var d=l.target.innerText,O=u.props.graphModel.textEditElement;u.__prevText={type:O.type,text:d.replace(/(\r\n)+$|(\n)+$/,""),id:O.id}}),eo(No(u),"keydownHandler",function(l){l.stopPropagation()}),u.state={style:{left:0,top:0}},u}return t=o,r=[{key:"getDerivedStateFromProps",value:function(u){var l,d=u.graphModel,O=d.transformModel,x=d.theme,S=d.textEditElement;if(S){var k;if((k=S.text)===null||k===void 0||!k.value)if(S.BaseType===Ut.EDGE){var C=(S=S).text,Q=S.textPosition,ee=Q.x,ae=Q.y;C.x=ee,C.y=ae,S.setText(C)}else S=S;var re={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(S.BaseType===Ut.EDGE){var pe=x.edgeText,ye=pe.overflowMode,Te=pe.lineHeight,xe=pe.wrapPadding,Fe=pe.textWidth;Fe&&ye==="autoWrap"&&(l=Mo(Mo({},re),{},{width:Fe,minWidth:Fe,lineHeight:Te,padding:xe}))}else if(S.BaseType===Ut.NODE){var He=x.nodeText,Re=He.overflowMode,yt=He.lineHeight,bt=He.wrapPadding,Rt=He.textWidth,Qt=S,Zt=Qt.width,nn=Qt.modelType;(nn!==pt.TEXT_NODE&&Re==="autoWrap"||nn===pt.TEXT_NODE&&Rt)&&(l=Mo(Mo({},re),{},{width:Rt||Zt,minWidth:Rt||Zt,lineHeight:yt,padding:bt}))}var fn=S.text,wr=fn.x,to=fn.y,_r=Cw(O.CanvasPointToHtmlPoint([wr,to]),2);return{style:Mo({left:_r[0],top:_r[1]},l)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var u=this.props.graphModel,l=u.eventCenter,d=u.editConfigModel,O=d.edgeTextEdit,x=d.nodeTextEdit;(O||x)&&l.on("".concat(at.GRAPH_TRANSFORM,",").concat(at.NODE_CLICK,",").concat(at.BLANK_CLICK," "),function(){u.textEditElement&&u.textEditElement.setElementState(_t.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var l=this.__prevText,d=l.text,O=l.id;u.updateText(O,d),u.eventCenter.emit(at.TEXT_UPDATE,Mo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var l=document.createRange();l.selectNodeContents(u),l.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(l)}}},{key:"render",value:function(){var u,l=this.props.graphModel.textEditElement,d=this.state.style;return l?Object($.g)("div",{contentEditable:!0,className:"lf-text-input",style:d,ref:this.ref,key:l.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},(u=l.text)===null||u===void 0?void 0:u.value):null}}])&&Wy(t.prototype,n),r&&Wy(t,r),o}($.a),eo(Yy,"toolName","textEdit"),Hy=Xy))||Hy,Bw=function(e){return e.modelType===pt.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,a=(n.x+r.x)/2,o=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,l=Math.abs(n.y-r.y)+10;return{x:a-u/2,y:o-l/2,x1:a+u/2,y1:o+l/2}}(e):e.modelType===pt.POLYLINE_EDGE?function(t){var n=t.points,r=bo(n),a=ii(r,8),o=a.x,u=a.y,l=a.width,d=a.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):e.modelType===pt.BEZIER_EDGE?function(t){var n=t.path,r=va(n),a=ii(r,8),o=a.x,u=a.y,l=a.width,d=a.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):void 0};function Wl(e){return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function qy(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||$y(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lw(e){return function(t){if(Array.isArray(t))return Jl(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||$y(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $y(e,t){if(e){if(typeof e=="string")return Jl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jl(e,t):void 0}}function Jl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zl(e,t){return Zl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Zl(e,t)}function Fw(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=pu(e);if(t){var a=pu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Uw(this,n)}}function Uw(e,t){if(t&&(Wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yi(e)}function yi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pu(e){return pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pu(e)}function gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kl=Gn((Ky=Zy=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Zl(o,u)})(a,e);var t,n,r=Fw(a);function a(o){var u;(function(x,S){if(!(x instanceof S))throw new TypeError("Cannot call a class as a function")})(this,a),gi(yi(u=r.call(this)),"stepDrag",void 0),gi(yi(u),"handleMouseDown",function(x){u.stepDrag.handleMouseDown(x)}),gi(yi(u),"onDraging",function(x){var S=x.deltaX,k=x.deltaY,C=u.props.graphModel,Q=C.getSelectElements(!0);C.moveNodes(Q.nodes.map(function(ee){return ee.id}),S,k)}),gi(yi(u),"handleContextMenu",function(x){x.preventDefault();var S=u.props,k=S.graphModel,C=S.graphModel,Q=C.eventCenter,ee=C.selectElements,ae=k.getPointByClient({x:x.clientX,y:x.clientY}),re={nodes:[],edges:[]};Lw(ee.values()).forEach(function(pe){pe.BaseType===Ut.NODE&&re.nodes.push(pe.getData()),pe.BaseType===Ut.EDGE&&re.edges.push(pe.getData())}),Q.emit(at.SELECTION_CONTEXTMENU,{data:re,e:x,position:ae})});var l=o.graphModel,d=l.gridSize,O=l.eventCenter;return u.stepDrag=new Zr({onDraging:u.onDraging,step:d,eventType:"SELECTION",eventCenter:O}),u}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel,u=o.selectElements,l=o.transformModel;if(!(u.size<=1)){var d=Number.MAX_SAFE_INTEGER,O=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER;u.forEach(function(ee){var ae={x:0,y:0,x1:0,y1:0};ee.BaseType===Ut.NODE&&(ae=function(re){var pe=re.x,ye=re.y,Te=re.width,xe=re.height;return{x:pe-Te/2,y:ye-xe/2,x1:pe+Te/2,y1:ye+xe/2}}(ee)),ee.BaseType===Ut.EDGE&&(ae=Bw(ee)),d=Math.min(d,ae.x),O=Math.min(O,ae.y),x=Math.max(x,ae.x1),S=Math.max(S,ae.y1)});var k=qy(l.CanvasPointToHtmlPoint([d,O]),2);d=k[0],O=k[1];var C=qy(l.CanvasPointToHtmlPoint([x,S]),2);x=C[0],S=C[1];var Q={left:"".concat(d-10,"px"),top:"".concat(O-10,"px"),width:"".concat(x-d+20,"px"),height:"".concat(S-O+20,"px")};return Object($.g)("div",{className:"lf-multiple-select",style:Q,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&zw(t.prototype,n),a}($.a),gi(Zy,"toolName","multipleSelect"),Jy=Ky))||Jy;function Gw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hw=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),du(this,"tools",void 0),du(this,"components",void 0),du(this,"toolMap",new Map),du(this,"instance",void 0),this.instance=r,this.isDisabledTool(Vl.toolName)||this.registerTool(Vl.toolName,Vl),this.isDisabledTool(Kl.toolName)||this.registerTool(Kl.toolName,Kl)}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,a){this.toolMap.set(r,a)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Gw(t.prototype,n),e}(),Yw=i(167),Xw=i.n(Yw);function Qw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ql(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eg=function(){function e(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),ql(this,"mousetrap",void 0),ql(this,"options",void 0),ql(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var a=r.lf;this.target=a.container,this.mousetrap=new Xw.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,a=this.options.keyboard.shortcuts;if(a)if(Vt(a))a.forEach(function(d){var O=d.keys,x=d.callback,S=d.action;return r.on(O,x,S)});else{var o=a.keys,u=a.callback,l=a.action;this.on(o,u,l)}}},{key:"on",value:function(r,a,o){this.mousetrap.bind(this.getKeys(r),a,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,a){this.mousetrap.unbind(this.getKeys(r),a)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var a=this;return(Array.isArray(r)?r:[r]).map(function(o){return a.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&Qw(t.prototype,n),e}(),Vw=eg,Or=null;function tg(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function ng(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function $l(e){return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function rg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rg(Object(n),!0).forEach(function(r){It(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function og(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tf=function(){function e(a){var o,u,l=this;(function(d,O){if(!(d instanceof O))throw new TypeError("Cannot call a class as a function")})(this,e),It(this,"container",void 0),It(this,"width",void 0),It(this,"height",void 0),It(this,"graphModel",void 0),It(this,"history",void 0),It(this,"viewMap",new Map),It(this,"tool",void 0),It(this,"keyboard",void 0),It(this,"dnd",void 0),It(this,"options",void 0),It(this,"snaplineModel",void 0),It(this,"components",[]),It(this,"plugins",void 0),It(this,"extension",{}),It(this,"adapterIn",void 0),It(this,"adapterOut",void 0),It(this,"getView",function(d){return l.viewMap.get(d)}),a=nh(a),this.options=a,this.container=a.container,this.plugins=a.plugins,this.graphModel=new tm(ef({},a)),this.tool=new Hw(this),this.history=new Nw(this.graphModel.eventCenter),this.dnd=new qm({lf:this}),this.keyboard=new Vw({lf:this,keyboard:a.keyboard}),a.isSilentMode||a.snapline===!1||(this.snaplineModel=new fy(this.graphModel),o=this.graphModel.eventCenter,u=this.snaplineModel,o.on("node:mousemove",function(d){var O=d.data;u.setNodeSnapLine(O)}),o.on("node:mouseup",function(){u.clearSnapline()})),function(d,O){var x=d.keyboard,S=x.options.keyboard;x.on(["cmd + c","ctrl + c"],function(){if(S.enabled&&!O.textEditElement){var k=d.options.guards,C=O.getSelectElements(!1);return k&&k.beforeClone&&!k.beforeClone(C)?(Or=null,!1):((Or=C).nodes.forEach(function(Q){return tg(Q,40)}),Or.edges.forEach(function(Q){return ng(Q,40)}),!1)}}),x.on(["cmd + v","ctrl + v"],function(){if(S.enabled&&!O.textEditElement){if(Or&&(Or.nodes||Or.edges)){d.clearSelectElements();var k=d.addElements(Or);if(!k)return;k.nodes.forEach(function(C){return d.selectElementById(C.id,!0)}),k.edges.forEach(function(C){return d.selectElementById(C.id,!0)}),Or.nodes.forEach(function(C){return tg(C,40)}),Or.edges.forEach(function(C){return ng(C,40)})}return!1}}),x.on(["cmd + z","ctrl + z"],function(){if(S.enabled&&!O.textEditElement)return d.undo(),!1}),x.on(["cmd + y","ctrl + y"],function(){if(S.enabled&&!O.textEditElement)return d.redo(),!1}),x.on(["backspace"],function(){if(S.enabled&&!O.textEditElement){var k=O.getSelectElements(!0);return d.clearSelectElements(),k.edges.forEach(function(C){return d.deleteEdge(C.id)}),k.nodes.forEach(function(C){return d.deleteNode(C.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(a.disabledPlugins)}var t,n,r;return t=e,n=[{key:"register",value:function(a,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof a=="string"){var l={BaseEdge:hi,BaseEdgeModel:ds,BaseNode:br,BaseNodeModel:vr,RectNode:Jc,RectNodeModel:kc,CircleNode:$c,CircleNodeModel:lc,PolygonNode:ol,PolygonNodeModel:Sc,TextNode:gl,TextNodeModel:Nc,LineEdge:Cl,LineEdgeModel:bs,DiamondNode:sl,DiamondNodeModel:yc,PolylineEdge:Ll,PolylineEdgeModel:_s,BezierEdge:Ul,BezierEdgeModel:oc,EllipseNode:dl,EllipseNodeModel:mc,HtmlNode:Ol,HtmlNodeModel:Rc,h:$.g,type:a};this.viewMap.forEach(function(k){var C=k.extendKey;C&&(l[C]=k)}),this.graphModel.modelMap.forEach(function(k){var C=k.extendKey;C&&(l[C]=k)});var d=o(l),O=d.view,x=d.model,S=O;u&&!S.isObervered&&(S.isObervered=!0,S=ze(S)),this.setView(a,S),this.graphModel.setModel(a,x)}else this.registerElement(a)}},{key:"registerElement",value:function(a){var o=a.view;a.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=ze(o)),this.setView(a.type,o),this.graphModel.setModel(a.type,a.model)}},{key:"batchRegister",value:function(){var a=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];o.forEach(function(u){a.registerElement(u)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Jc,model:kc,type:"rect"}),this.registerElement({type:"circle",view:$c,model:lc}),this.registerElement({type:"polygon",view:ol,model:Sc}),this.registerElement({type:"line",view:Cl,model:bs}),this.registerElement({type:"polyline",view:Ll,model:_s}),this.registerElement({type:"bezier",view:Ul,model:oc}),this.registerElement({type:"text",view:gl,model:Nc}),this.registerElement({type:"ellipse",view:dl,model:mc}),this.registerElement({type:"diamond",view:sl,model:yc}),this.registerElement({type:"html",view:Ol,model:Rc})}},{key:"selectElementById",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(a,o),o||this.graphModel.toFront(a)}},{key:"focusOn",value:function(a){var o=this.graphModel.transformModel,u=a.coordinate,l=a.id;if(!u){var d=this.getNodeModelById(l);d&&(u=d.getData());var O=this.getEdgeModelById(l);O&&(u=O.textPosition)}var x=u,S=x.x,k=x.y;o.focusOn(S,k,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(a){this.graphModel.setTheme(a)}},{key:"resize",value:function(a,o){this.options.width=a!=null?a:this.options.width,this.options.height=o!=null?o:this.options.height,this.graphModel.resize(a,o)}},{key:"setDefaultEdgeType",value:function(a){this.graphModel.setDefaultEdgeType(a)}},{key:"updateText",value:function(a,o){this.graphModel.updateText(a,o)}},{key:"deleteElement",value:function(a){var o,u,l,d=this.getModelById(a);return!!d&&(u=(l=(It(o={},Ut.NODE,this.deleteNode),It(o,Ut.EDGE,this.deleteEdge),o)[d.BaseType])===null||l===void 0?void 0:l.call(this,a))!==null&&u!==void 0&&u}},{key:"getModelById",value:function(a){return this.graphModel.getElement(a)}},{key:"getDataById",value:function(a){return this.graphModel.getElement(a).getData()}},{key:"changeNodeType",value:function(a,o){this.graphModel.changeNodeType(a,o)}},{key:"changeEdgeType",value:function(a,o){this.graphModel.changeEdgeType(a,o)}},{key:"getNodeEdges",value:function(a){return this.graphModel.getNodeEdges(a)}},{key:"addNode",value:function(a){return this.graphModel.addNode(a)}},{key:"deleteNode",value:function(a){var o=this.graphModel.getNodeModelById(a);if(!o)return!1;var u=o.getData(),l=this.options.guards,d=!l||!l.beforeDelete||l.beforeDelete(u);return d&&this.graphModel.deleteNode(a),d}},{key:"cloneNode",value:function(a){var o=this.graphModel.getNodeModelById(a).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(o))return this.graphModel.cloneNode(a)}},{key:"changeNodeId",value:function(a,o){return this.graphModel.changeNodeId(a,o)}},{key:"getNodeModelById",value:function(a){return this.graphModel.getNodeModelById(a)}},{key:"getNodeDataById",value:function(a){return this.graphModel.getNodeModelById(a).getData()}},{key:"addEdge",value:function(a){return this.graphModel.addEdge(a)}},{key:"deleteEdge",value:function(a){var o=this.options.guards,u=this.graphModel.edgesMap[a];if(!u)return!1;var l=u.model.getData(),d=!o||!o.beforeDelete||o.beforeDelete(l);return d&&this.graphModel.deleteEdgeById(a),d}},{key:"deleteEdgeByNodeId",value:function(a){var o=a.sourceNodeId,u=a.targetNodeId;o&&u?this.graphModel.deleteEdgeBySourceAndTarget(o,u):o?this.graphModel.deleteEdgeBySource(o):u&&this.graphModel.deleteEdgeByTarget(u)}},{key:"changeEdgeId",value:function(a,o){return this.graphModel.changeEdgeId(a,o)}},{key:"getEdgeModelById",value:function(a){var o;return(o=this.graphModel.edgesMap[a])===null||o===void 0?void 0:o.model}},{key:"getEdgeModels",value:function(a){var o=this.graphModel.edges,u=a.sourceNodeId,l=a.targetNodeId;if(u&&l){var d=[];return o.forEach(function(S){S.sourceNodeId===u&&S.targetNodeId===l&&d.push(S)}),d}if(u){var O=[];return o.forEach(function(S){S.sourceNodeId===u&&O.push(S)}),O}if(l){var x=[];return o.forEach(function(S){S.targetNodeId===l&&x.push(S)}),x}return[]}},{key:"getEdgeDataById",value:function(a){var o;return(o=this.getEdgeModelById(a))===null||o===void 0?void 0:o.getData()}},{key:"getNodeIncomingEdge",value:function(a){return this.graphModel.getNodeIncomingEdge(a)}},{key:"getNodeOutgoingEdge",value:function(a){return this.graphModel.getNodeOutgoingEdge(a)}},{key:"getNodeIncomingNode",value:function(a){return this.graphModel.getNodeIncomingNode(a)}},{key:"getNodeOutgoingNode",value:function(a){return this.graphModel.getNodeOutgoingNode(a)}},{key:"editText",value:function(a){this.graphModel.editText(a)}},{key:"setProperties",value:function(a,o){var u;(u=this.graphModel.getElement(a))===null||u===void 0||u.setProperties($t(o))}},{key:"getProperties",value:function(a){var o;return(o=this.graphModel.getElement(a))===null||o===void 0?void 0:o.getProperties()}},{key:"toFront",value:function(a){this.graphModel.toFront(a)}},{key:"setElementZIndex",value:function(a,o){return this.graphModel.setElementZIndex(a,o)}},{key:"addElements",value:function(a){for(var o=this,u=a.nodes,l=a.edges,d={},O={nodes:[],edges:[]},x=0;x<u.length;x++){var S=u[x],k=S.id,C=this.addNode(S);if(!C)return;k&&(d[k]=C.id),O.nodes.push(C)}return l.forEach(function(Q){var ee=Q.sourceNodeId,ae=Q.targetNodeId;d[ee]&&(Q.sourceNodeId=d[ee]),d[ae]&&(Q.targetNodeId=d[ae]);var re=o.graphModel.addEdge(Q);O.edges.push(re)}),O}},{key:"getAreaElement",value:function(a,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],l=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return this.graphModel.getAreaElement(a,o,u,l).map(function(d){return d.getData()})}},{key:"getSelectElements",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(a)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var a=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(a):a}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(a){this.graphModel.editConfigModel.updateEditConfig(a)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(a,o){return this.graphModel.getPointByClient({x:a,y:o})}},{key:"undo",value:function(){if(this.history.undoAble()){var a=$t(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"redo",value:function(){if(this.history.redoAble()){var a=$t(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"zoom",value:function(a,o){return this.graphModel.transformModel.zoom(a,o)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(a){this.graphModel.transformModel.setZoomMiniSize(a)}},{key:"setZoomMaxSize",value:function(a){this.graphModel.transformModel.setZoomMaxSize(a)}},{key:"getTransform",value:function(){var a=this.graphModel.transformModel;return{SCALE_X:a.SCALE_X,SCALE_Y:a.SCALE_Y,TRANSLATE_X:a.TRANSLATE_X,TRANSLATE_Y:a.TRANSLATE_Y}}},{key:"translate",value:function(a,o){this.graphModel.transformModel.translate(a,o)}},{key:"resetTranslate",value:function(){var a=this.graphModel.transformModel,o=a.TRANSLATE_X,u=a.TRANSLATE_Y;this.translate(-o,-u)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(a,o){o===void 0&&(o=a),this.graphModel.fitView(a,o)}},{key:"openEdgeAnimation",value:function(a){this.graphModel.openEdgeAnimation(a)}},{key:"closeEdgeAnimation",value:function(a){this.graphModel.closeEdgeAnimation(a)}},{key:"on",value:function(a,o){this.graphModel.eventCenter.on(a,o)}},{key:"off",value:function(a,o){this.graphModel.eventCenter.off(a,o)}},{key:"once",value:function(a,o){this.graphModel.eventCenter.once(a,o)}},{key:"emit",value:function(a,o){this.graphModel.eventCenter.emit(a,o)}},{key:"installPlugins",value:function(){var a,o=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=(a=this.plugins)!==null&&a!==void 0?a:e.extensions;l.forEach(function(d){var O=d.pluginName||d.name;u.indexOf(O)===-1&&o.installPlugin(d)})}},{key:"installPlugin",value:function(a){if($l(a)==="object"){var o=a.install,u=a.render;return o&&o.call(a,this,e),u&&this.components.push(u.bind(a)),void(this.extension[a.pluginName]=a)}var l=a,d=new l({lf:this,LogicFlow:e});d.render&&this.components.push(d.render.bind(d)),this.extension[l.pluginName]=d}},{key:"updateAttributes",value:function(a,o){this.graphModel.updateAttributes(a,o)}},{key:"createFakerNode",value:function(a){var o=this.graphModel.modelMap.get(a.type);if(o){var u=new o(ef(ef({},a),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(u),u}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(a){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(a)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(a,o){this.viewMap.set(a,o)}},{key:"renderRawData",value:function(a){this.graphModel.graphDataToModel($t(a)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object($.j)(Object($.g)(Zm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(at.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(a=this.adapterIn(a)),this.renderRawData(a)}}],r=[{key:"use",value:function(a){var o=a.pluginName;o||(o=a.name);var u=this.extensions.get(o);u&&u.destroy&&u.destroy(),this.extensions.set(o,a)}}],n&&og(t.prototype,n),r&&og(t,r),e}();function Gn(e){return ze(e)}It(tf,"extensions",new Map),p.default=tf}])})})(af,af.exports);Je.exports=af.exports;var Ro=Je.exports;function A1(v,y){return y={exports:{}},v(y,y.exports),y.exports}var j1=A1(function(v){var y=v.exports=function(s,p){if(p||(p=16),s===void 0&&(s=128),s<=0)return"0";for(var i=Math.log(Math.pow(2,s))/Math.log(p),f=2;i===1/0;f*=2)i=Math.log(Math.pow(2,s/f))/Math.log(p)*f;for(var c=i-Math.floor(i),b="",f=0;f<Math.floor(i);f++){var m=Math.floor(Math.random()*p).toString(p);b=m+b}if(c){var w=Math.pow(p,c),m=Math.floor(Math.random()*w).toString(p);b=m+b}var _=parseInt(b,p);return _!==1/0&&_>=Math.pow(2,s)?y(s,p):b};y.rack=function(s,p,i){var f=function(b){var m=0;do{if(m++>10)if(i)s+=i;else throw new Error("too many ID collisions, use more bits");var w=y(s,p)}while(Object.hasOwnProperty.call(c,w));return c[w]=b,w},c=f.hats={};return f.get=function(b){return f.hats[b]},f.set=function(b,m){return f.hats[b]=m,f},f.bits=s||128,f.base=p||16,f}});function ir(v){if(!(this instanceof ir))return new ir(v);v=v||[128,36,1],this._seed=v.length?j1.rack(v[0],v[1],v[2]):v}ir.prototype.next=function(v){return this._seed(v||!0)};ir.prototype.nextPrefixed=function(v,y){var s;do s=v+this.next(!0);while(this.assigned(s));return this.claim(s,y),s};ir.prototype.claim=function(v,y){this._seed.set(v,y||!0)};ir.prototype.assigned=function(v){return this._seed.get(v)||!1};ir.prototype.unclaim=function(v){delete this._seed.hats[v]};ir.prototype.clear=function(){var v=this._seed.hats,y;for(y in v)this.unclaim(y)};var P1=new ir([32,32,1]);function Fo(){return P1.next()}var Lg=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),k1=function(v){Lg(y,v);function y(s,p){var i=this;return s.id||(s.id="Event_"+Fo()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),i=v.call(this,s,p)||this,i}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedTargetRules=function(){var s=v.prototype.getConnectedTargetRules.call(this),p={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return s.push(p),s},y.extendKey="StartEventModel",y}(Je.exports.CircleNodeModel),D1=function(v){Lg(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.extendKey="StartEventNode",y}(Je.exports.CircleNode),T1={type:"bpmn:startEvent",view:D1,model:k1},zg=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Eu=globalThis&&globalThis.__assign||function(){return Eu=Object.assign||function(v){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(v[i]=y[i])}return v},Eu.apply(this,arguments)},M1=function(v){zg(y,v);function y(s,p){var i=this;return s.id||(s.id="Event_"+Fo()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),i=v.call(this,s,p)||this,i}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedSourceRules=function(){var s=v.prototype.getConnectedSourceRules.call(this),p={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return s.push(p),s},y.extendKey="EndEventModel",y}(Je.exports.CircleNodeModel),N1=function(v){zg(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},y.prototype.getShape=function(){var s=this.props.model,p=s.getNodeStyle(),i=s.x,f=s.y,c=s.r,b=v.prototype.getShape.call(this);return Je.exports.h("g",{},b,Je.exports.h("circle",Eu(Eu({},p),{cx:i,cy:f,r:c-5})))},y.extendKey="EndEventView",y}(Je.exports.CircleNode),C1={type:"bpmn:endEvent",view:N1,model:M1},Fg=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),xi=globalThis&&globalThis.__assign||function(){return xi=Object.assign||function(v){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(v[i]=y[i])}return v},xi.apply(this,arguments)},I1=function(v){Fg(y,v);function y(s,p){var i=this;return s.id||(s.id="Gateway_"+Fo()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),i=v.call(this,s,p)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return y.extendKey="ExclusiveGatewayModel",y}(Je.exports.PolygonNodeModel),R1=function(v){Fg(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getShape=function(){var s=this.props.model,p=s.x,i=s.y,f=s.width,c=s.height,b=s.points,m=s.getNodeStyle();return Je.exports.h("g",{transform:"matrix(1 0 0 1 "+(p-f/2)+" "+(i-c/2)+")"},Je.exports.h("polygon",xi(xi({},m),{x:p,y:i,points:b})),Je.exports.h("path",xi({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},m)))},y.extendKey="ExclusiveGatewayNode",y}(Je.exports.PolygonNode),B1={type:"bpmn:exclusiveGateway",view:R1,model:I1},Ug=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Su=globalThis&&globalThis.__assign||function(){return Su=Object.assign||function(v){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(v[i]=y[i])}return v},Su.apply(this,arguments)},L1=function(v){Ug(y,v);function y(s,p){var i=this;return s.id||(s.id="Activity_"+Fo()),i=v.call(this,s,p)||this,i}return y.extendKey="UserTaskModel",y}(Je.exports.RectNodeModel),z1=function(v){Ug(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var s=this.props.model,p=s.x,i=s.y,f=s.width,c=s.height,b=s.getNodeStyle();return Je.exports.h("svg",{x:p-f/2+5,y:i-c/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Je.exports.h("path",{fill:b.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},y.prototype.getShape=function(){var s=this.props.model,p=s.x,i=s.y,f=s.width,c=s.height,b=s.radius,m=s.getNodeStyle();return Je.exports.h("g",{},[Je.exports.h("rect",Su(Su({},m),{x:p-f/2,y:i-c/2,rx:b,ry:b,width:f,height:c})),this.getLabelShape()])},y.extendKey="UserTaskNode",y}(Je.exports.RectNode),F1={type:"bpmn:userTask",view:z1,model:L1},Gg=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),uf=globalThis&&globalThis.__assign||function(){return uf=Object.assign||function(v){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(v[i]=y[i])}return v},uf.apply(this,arguments)},U1=function(v){Gg(y,v);function y(s,p){var i=this;return s.id||(s.id="Activity_"+Fo()),i=v.call(this,s,p)||this,i}return y.extendKey="ServiceTaskModel",y}(Je.exports.RectNodeModel),G1=function(v){Gg(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var s=this.props.model,p=s.x,i=s.y,f=s.width,c=s.height,b=s.getNodeStyle();return Je.exports.h("svg",{x:p-f/2+5,y:i-c/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Je.exports.h("path",{fill:b.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},y.prototype.getShape=function(){var s=this.props.model,p=s.x,i=s.y,f=s.width,c=s.height,b=s.radius,m=s.getNodeStyle();return Je.exports.h("g",{},[Je.exports.h("rect",uf({x:p-f/2,y:i-c/2,rx:b,ry:b,width:f,height:c},m)),this.getLabelShape()])},y.extendKey="ServiceTaskNode",y}(Je.exports.RectNode),H1={type:"bpmn:serviceTask",view:G1,model:U1},Hg=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Y1=function(v){Hg(y,v);function y(s,p){var i=this;return s.id||(s.id="Flow_"+Fo()),i=v.call(this,s,p)||this,i}return y.extendKey="SequenceFlowModel",y}(Je.exports.PolylineEdgeModel),X1=function(v){Hg(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.extendKey="SequenceFlowEdge",y}(Je.exports.PolylineEdge),Q1={type:"bpmn:sequenceFlow",view:X1,model:Y1},fg={width:40,height:40},pg={width:40,height:40},dg={width:40,height:40},hg={width:100,height:80},yg={width:100,height:80},V1={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},W1=function(){function v(y){var s=y.lf;s.setTheme(V1),s.register(T1),s.register(C1),s.register(B1),s.register(F1),s.register(H1),s.options.customBpmnEdge||(s.register(Q1),s.setDefaultEdgeType("bpmn:sequenceFlow"))}return v.pluginName="bpmnElement",v}(),J1=function(){function v(y){var s=this,p=y.lf;this.lf=p,this.customCssRules="",this.useGlobalRules=!0,p.getSnapshot=function(i,f){s.getSnapshot(i,f)},p.getSnapshotBlob=function(i){return s.getSnapshotBlob(i)},p.getSnapshotBase64=function(i){return s.getSnapshotBase64(i)}}return v.prototype.getSvgRootElement=function(y){var s=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,y.graphModel.nodes.forEach(function(i){var f=i.x,c=i.width,b=i.y,m=i.height,w=f-c/2,_=b-m/2;w<s.offsetX&&(s.offsetX=w-5),_<s.offsetY&&(s.offsetY=_-5)}),y.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(f){var c=f.x,b=f.y;c<s.offsetX&&(s.offsetX=c-5),b<s.offsetY&&(s.offsetY=b-5)})});var p=y.container.querySelector(".lf-canvas-overlay");return p},v.prototype.triggerDownload=function(y){var s=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),p=document.createElement("a");p.setAttribute("download",this.fileName),p.setAttribute("href",y),p.setAttribute("target","_blank"),p.dispatchEvent(s)},v.prototype.removeAnchor=function(y){for(var s=y.childNodes,p=y.childNodes&&y.childNodes.length,i=0;i<p;i++){var f=s[i],c=f.classList&&Array.from(f.classList)||[];c.indexOf("lf-anchor")>-1&&(y.removeChild(y.childNodes[i]),p--,i--)}},v.prototype.getSnapshot=function(y,s){var p=this;this.fileName=y||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,s).then(function(f){var c=f.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(c)})},v.prototype.getSnapshotBase64=function(y){var s=this,p=this.getSvgRootElement(this.lf);return new Promise(function(i){s.getCanvasData(p,y).then(function(f){var c=f.toDataURL("image/png");i({data:c,width:f.width,height:f.height})})})},v.prototype.getSnapshotBlob=function(y){var s=this,p=this.getSvgRootElement(this.lf);return new Promise(function(i){s.getCanvasData(p,y).then(function(f){f.toBlob(function(c){i({data:c,width:f.width,height:f.height})},"image/png")})})},v.prototype.getClassRules=function(){var y="";if(this.useGlobalRules)for(var s=document.styleSheets,p=0;p<s.length;p++)for(var i=s[p],f=0;f<i.cssRules.length;f++)y+=i.cssRules[f].cssText;return this.customCssRules&&(y+=this.customCssRules),y},v.prototype.getCanvasData=function(y,s){var p=this,i=y.cloneNode(!0),f=i.lastChild,c=f.childNodes&&f.childNodes.length;if(c)for(var b=0;b<c;b++){var m=f.childNodes[b],w=m.classList&&Array.from(m.classList);if(w&&w.indexOf("lf-base")<0)f.removeChild(f.childNodes[b]),c--,b--;else{var _=f.childNodes[b];_&&_.childNodes.forEach(function(M){var R=M;p.removeAnchor(R.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var A=window.devicePixelRatio||1,j=document.createElement("canvas"),P=document.getElementsByClassName("lf-base")[0],T=P.getBoundingClientRect(),N=this.lf.graphModel,L=N.transformModel,G=L.SCALE_X,B=L.SCALE_Y,V=Math.ceil(T.width/G),oe=Math.ceil(T.height/B);j.style.width=V+"px",j.style.height=oe+"px",j.width=V*A+80,j.height=oe*A+80;var J=j.getContext("2d");J.clearRect(0,0,j.width,j.height),J.scale(A,A),s?(J.fillStyle=s,J.fillRect(0,0,V*A+80,oe*A+80)):J.clearRect(0,0,V,oe);var Y=new Image,Z=document.createElement("style");Z.innerHTML=this.getClassRules();var U=document.createElement("foreignObject");return U.appendChild(Z),i.appendChild(U),new Promise(function(M){Y.onload=function(){J.drawImage(Y,0,0),M(j)};var R="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),I=R.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Y.src=I})},v.pluginName="snapshot",v}(),Z1=new ir([32,32,1]);function gg(){return Z1.next()}var yn=function(){};yn.ObjTree=function(){return this};yn.ObjTree.VERSION="0.23";yn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;yn.ObjTree.prototype.attr_prefix="-";yn.ObjTree.prototype.parseXML=function(v){var y;if(window.DOMParser){var s=new DOMParser,p=s.parseFromString(v,"application/xml");if(!p)return;y=p.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(v),y=s.documentElement);if(!!y)return this.parseDOM(y)};yn.ObjTree.prototype.parseHTTP=function(v,y,s){var p={};for(var i in y)p[i]=y[i];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),s){p.asynchronous=!0;var f=this,c=s,b=p.onComplete;p.onComplete=function(_){var A;_&&_.responseXML&&_.responseXML.documentElement&&(A=f.parseDOM(_.responseXML.documentElement)),c(A,_),b&&b(_)}}else p.asynchronous=!1;var m;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=v;var w=new HTTP.Request(p);w&&(m=w.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var w=new Ajax.Request(v,p);w&&(m=w.transport)}if(s)return m;if(m&&m.responseXML&&m.responseXML.documentElement)return this.parseDOM(m.responseXML.documentElement)};yn.ObjTree.prototype.parseDOM=function(v){if(!!v){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var s=this.parseElement(v);if(this.__force_array[v.nodeName]&&(s=[s]),v.nodeType!=11){var p={};p[v.nodeName]=s,s=p}return s}};yn.ObjTree.prototype.parseElement=function(v){if(v.nodeType!=7){if(v.nodeType==3||v.nodeType==4){var y=v.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:v.nodeValue}var s,p={};if(v.attributes&&v.attributes.length){s={};for(var i=0;i<v.attributes.length;i++){var f=v.attributes[i].nodeName;if(typeof f=="string"){var c=v.attributes[i].nodeValue;!c||(f=this.attr_prefix+f,typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(s,f,p[f],c))}}}if(v.childNodes&&v.childNodes.length){var b=!0;s&&(b=!1);for(var i=0;i<v.childNodes.length&&b;i++){var m=v.childNodes[i].nodeType;m==3||m==4||(b=!1)}if(b){s||(s="");for(var i=0;i<v.childNodes.length;i++)s+=v.childNodes[i].nodeValue}else{s||(s={});for(var i=0;i<v.childNodes.length;i++){var f=v.childNodes[i].nodeName;if(typeof f=="string"){var c=this.parseElement(v.childNodes[i]);!c||(typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(s,f,p[f],c))}}}}return s}};yn.ObjTree.prototype.addNode=function(v,y,s,p){this.__force_array[y]?(s==1&&(v[y]=[]),v[y][v[y].length]=p):s==1?v[y]=p:s==2?v[y]=[v[y],p]:v[y][v[y].length]=p};yn.ObjTree.prototype.writeXML=function(v){var y=this.hash_to_xml(null,v);return this.xmlDecl+y};yn.ObjTree.prototype.hash_to_xml=function(v,y){var s=[],p=[];for(var i in y)if(!!y.hasOwnProperty(i)){var f=y[i];i.charAt(0)!=this.attr_prefix?typeof f=="undefined"||f==null?s[s.length]="<"+i+" />":typeof f=="object"&&f.constructor==Array?s[s.length]=this.array_to_xml(i,f):typeof f=="object"?s[s.length]=this.hash_to_xml(i,f):s[s.length]=this.scalar_to_xml(i,f):p[p.length]=" "+i.substring(1)+'="'+this.xml_escape(f)+'"'}var c=p.join(""),b=s.join("");return typeof v=="undefined"||v==null||(s.length>0?b.match(/\n/)?b="<"+v+c+`>
`+b+"</"+v+`>
`:b="<"+v+c+">"+b+"</"+v+`>
`:b="<"+v+c+` />
`),b};yn.ObjTree.prototype.array_to_xml=function(v,y){for(var s=[],p=0;p<y.length;p++){var i=y[p];typeof i=="undefined"||i==null?s[s.length]="<"+v+" />":typeof i=="object"&&i.constructor==Array?s[s.length]=this.array_to_xml(v,i):typeof i=="object"?s[s.length]=this.hash_to_xml(v,i):s[s.length]=this.scalar_to_xml(v,i)}return s.join("")};yn.ObjTree.prototype.scalar_to_xml=function(v,y){return v=="#text"?this.xml_escape(y):"<"+v+">"+this.xml_escape(y)+"</"+v+`>
`};yn.ObjTree.prototype.xml_escape=function(v){return v.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Du=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var p=s.call(v),i,f=[],c;try{for(;(y===void 0||y-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(b){c={error:b}}finally{try{i&&!i.done&&(s=p.return)&&s.call(p)}finally{if(c)throw c.error}}return f},ar;(function(v){v.START="bpmn:startEvent",v.END="bpmn:endEvent",v.GATEWAY="bpmn:exclusiveGateway",v.USER="bpmn:userTask",v.SYSTEM="bpmn:serviceTask",v.FLOW="bpmn:sequenceFlow"})(ar||(ar={}));var Yg=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function sf(v){var y={};return Object.entries(v).forEach(function(s){var p=Du(s,2),i=p[0],f=p[1];typeof f!="object"?i.indexOf("-")===0?y[i]=f:y["-"+i]=f:y[i]=sf(f)}),y}function df(v){var y={};return Object.entries(v).forEach(function(s){var p=Du(s,2),i=p[0],f=p[1];typeof f=="string"?i.indexOf("-")===0?y[i.substr(1)]=f:y[i]=f:typeof f=="object"?y[i]=df(f):y[i]=f}),y}function K1(v,y){var s=new Map;y.nodes.forEach(function(i){var f,c={"-id":i.id};if(!((f=i.text)===null||f===void 0)&&f.value&&(c["-name"]=i.text.value),i.properties){var b=sf(i.properties);Object.assign(c,b)}s.set(i.id,c),v[i.type]?Array.isArray(v[i.type])?v[i.type].push(c):v[i.type]=[v[i.type],c]:v[i.type]=c});var p=y.edges.map(function(i){var f,c,b=s.get(i.targetNodeId);b["bpmn:incoming"]?Array.isArray(b["bpmn:incoming"])?b["bpmn:incoming"].push(i.id):b["bpmn:incoming"]=[b["bpmn:incoming"],i.id]:b["bpmn:incoming"]=i.id;var m=s.get(i.sourceNodeId);m["bpmn:outgoing"]?Array.isArray(m["bpmn:outgoing"])?m["bpmn:outgoing"].push(i.id):m["bpmn:outgoing"]=[m["bpmn:outgoing"],i.id]:m["bpmn:outgoing"]=i.id;var w={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((f=i.text)===null||f===void 0)&&f.value&&(w["-name"]=(c=i.text)===null||c===void 0?void 0:c.value),i.properties){var _=sf(i.properties);Object.assign(w,_)}return w});v[ar.FLOW]=p}function q1(v,y){v["bpmndi:BPMNEdge"]=y.edges.map(function(s){var p,i=s.id,f=s.pointsList.map(function(b){var m=b.x,w=b.y;return{"-x":m,"-y":w}}),c={"-id":i+"_di","-bpmnElement":i,"di:waypoint":f};return!((p=s.text)===null||p===void 0)&&p.value&&(c["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),c}),v["bpmndi:BPMNShape"]=y.nodes.map(function(s){var p,i=s.id,f=100,c=80,b=s.x,m=s.y,w=ro.shapeConfigMap.get(s.type);w&&(f=w.width,c=w.height),b-=f/2,m-=c/2;var _={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":b,"-y":m,"-width":f,"-height":c}};return!((p=s.text)===null||p===void 0)&&p.value&&(_["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),_})}function $1(v){var y=[],s=[],p=v["bpmn:definitions"];if(p){var i=p["bpmn:process"];Object.keys(i).forEach(function(f){if(f.indexOf("bpmn:")===0){var c=i[f];if(f===ar.FLOW){var b=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];s=t_(c,b)}else{var m=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];y=y.concat(e_(c,m,f))}}})}return{nodes:y,edges:s}}function e_(v,y,s){var p=[];if(Array.isArray(v))v.forEach(function(c){var b;Array.isArray(y)?b=y.find(function(w){return w["-bpmnElement"]===c["-id"]}):b=y;var m=vg(b,s,c);p.push(m)});else{var i=void 0;Array.isArray(y)?i=y.find(function(c){return c["-bpmnElement"]===v["-id"]}):i=y;var f=vg(i,s,v);p.push(f)}return p}function vg(v,y,s){var p=Number(v["dc:Bounds"]["-x"]),i=Number(v["dc:Bounds"]["-y"]),f=s["-name"],c=ro.shapeConfigMap.get(y);c&&(p+=c.width/2,i+=c.height/2);var b;Object.entries(s).forEach(function(A){var j=Du(A,2),P=j[0],T=j[1];Yg.indexOf(P)===-1&&(b||(b={}),b[P]=T)}),b&&(b=df(b));var m;if(f&&(m={x:p,y:i,value:f},v["bpmndi:BPMNLabel"]&&v["bpmndi:BPMNLabel"]["dc:Bounds"])){var w=v["bpmndi:BPMNLabel"]["dc:Bounds"];m.x=Number(w["-x"])+Number(w["-width"])/2,m.y=Number(w["-y"])+Number(w["-height"])/2}var _={id:v["-bpmnElement"],type:y,x:p,y:i,properties:b};return m&&(_.text=m),_}function t_(v,y){var s=[];if(Array.isArray(v))v.forEach(function(i){var f;Array.isArray(y)?f=y.find(function(c){return c["-bpmnElement"]===i["-id"]}):f=y,s.push(bg(f,i))});else{var p=void 0;Array.isArray(y)?p=y.find(function(i){return i["-bpmnElement"]===v["-id"]}):p=y,s.push(bg(p,v))}return s}function bg(v,y){var s,p=y["-name"];if(p){var i=v["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(m){f<m.length&&(f=m.length)}),s={value:p,x:Number(i["-x"])+f*10/2,y:Number(i["-y"])+7}}var c;Object.entries(y).forEach(function(m){var w=Du(m,2),_=w[0],A=w[1];Yg.indexOf(_)===-1&&(c||(c={}),c[_]=A)}),c&&(c=df(c));var b={id:y["-id"],type:ar.FLOW,pointsList:v["di:waypoint"].map(function(m){return{x:Number(m["-x"]),y:Number(m["-y"])}}),sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:c};return s&&(b.text=s),b}var ro={pluginName:"bpmn-adapter",install:function(v){v.adapterIn=this.adapterIn,v.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(v,y){this.shapeConfigMap.set(v,y)},adapterOut:function(v){var y={"-id":"Process_"+gg(),"-isExecutable":"false"};K1(y,v);var s={"-id":"BPMNPlane_1","-bpmnElement":y["-id"]};q1(s,v);var p={"bpmn:definitions":{"-id":"Definitions_"+gg(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":y,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":s}}};return p},adapterIn:function(v){if(v)return $1(v)}};ro.shapeConfigMap.set(ar.START,{width:fg.width,height:fg.height});ro.shapeConfigMap.set(ar.END,{width:pg.width,height:pg.height});ro.shapeConfigMap.set(ar.GATEWAY,{width:dg.width,height:dg.height});ro.shapeConfigMap.set(ar.SYSTEM,{width:hg.width,height:hg.height});ro.shapeConfigMap.set(ar.USER,{width:yg.width,height:yg.height});var mg=globalThis&&globalThis.__assign||function(){return mg=Object.assign||function(v){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(v[i]=y[i])}return v},mg.apply(this,arguments)};globalThis&&globalThis.__read;var Og;(function(v){v.HORIZONTAL="horizontal",v.VERTICAL="vertical"})(Og||(Og={}));var n_=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var p=s.call(v),i,f=[],c;try{for(;(y===void 0||y-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(b){c={error:b}}finally{try{i&&!i.done&&(s=p.return)&&s.call(p)}finally{if(c)throw c.error}}return f};globalThis&&globalThis.__spread;var r_=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var p=s.call(v),i,f=[],c;try{for(;(y===void 0||y-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(b){c={error:b}}finally{try{i&&!i.done&&(s=p.return)&&s.call(p)}finally{if(c)throw c.error}}return f};globalThis&&globalThis.__spread;var o_=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var p=s.call(v),i,f=[],c;try{for(;(y===void 0||y-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(b){c={error:b}}finally{try{i&&!i.done&&(s=p.return)&&s.call(p)}finally{if(c)throw c.error}}return f},i_=globalThis&&globalThis.__spread||function(){for(var v=[],y=0;y<arguments.length;y++)v=v.concat(o_(arguments[y]));return v},bi="lf:defaultNodeMenu",mi="lf:defaultEdgeMenu",Oi="lf:defaultGraphMenu",wg="lf:defaultSelectionMenu",a_=function(){function v(y){var s=this,p=y.lf;this.__menuDOM=document.createElement("ul"),this.lf=p,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){s.setMenuConfig(i)},this.lf.addMenuConfig=function(i){s.addMenuConfig(i)},this.lf.setMenuByType=function(i){s.setMenuByType(i)}}return v.prototype.init=function(){var y=this,s=[{text:"\u5220\u9664",callback:function(f){y.lf.deleteNode(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){y.lf.graphModel.editText(f.id)}},{text:"\u590D\u5236",callback:function(f){y.lf.cloneNode(f.id)}}];this.menuTypeMap.set(bi,s);var p=[{text:"\u5220\u9664",callback:function(f){y.lf.deleteEdge(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){y.lf.graphModel.editText(f.id)}}];this.menuTypeMap.set(mi,p),this.menuTypeMap.set(Oi,[]);var i=[{text:"\u5220\u9664",callback:function(f){y.lf.clearSelectElements(),f.edges.forEach(function(c){return y.lf.deleteEdge(c.id)}),f.nodes.forEach(function(c){return y.lf.deleteNode(c.id)})}}];this.menuTypeMap.set(wg,i)},v.prototype.render=function(y,s){var p=this;this.__container=s,this.__currentData=null,this.__menuDOM.className="lf-menu",s.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var f=i.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var f=i.data,c=i.position,b=c.domOverlayPosition,m=b.x,w=b.y,_=f.id,A=p.lf.graphModel.getNodeModelById(_),j=[],P=p.menuTypeMap.get(A.type);A&&A.menu&&Array.isArray(A.menu)?j=A.menu:P?j=P:j=p.menuTypeMap.get(bi),p.__currentData=f,p.showMenu(m,w,j)}),this.lf.on("edge:contextmenu",function(i){var f=i.data,c=i.position,b=c.domOverlayPosition,m=b.x,w=b.y,_=f.id,A=p.lf.graphModel.getEdgeModelById(_),j=[],P=p.menuTypeMap.get(A.type);A&&A.menu&&Array.isArray(A.menu)?j=A.menu:P?j=P:j=p.menuTypeMap.get(mi),p.__currentData=f,p.showMenu(m,w,j)}),this.lf.on("blank:contextmenu",function(i){var f=i.position,c=p.menuTypeMap.get(Oi),b=f.domOverlayPosition,m=b.x,w=b.y;p.showMenu(m,w,c)}),this.lf.on("selection:contextmenu",function(i){var f=i.data,c=i.position,b=p.menuTypeMap.get(wg),m=c.domOverlayPosition,w=m.x,_=m.y;p.__currentData=f,p.showMenu(w,_,b)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"})},v.prototype.destroy=function(){var y;(y=this===null||this===void 0?void 0:this.__container)===null||y===void 0||y.removeChild(this.__menuDOM),this.__menuDOM=null},v.prototype.showMenu=function(y,s,p){if(!(!p||!p.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,i_(this.__getMenuDom(p))),i.children.length&&(i.style.display="block",i.style.top=s+"px",i.style.left=y+"px")}},v.prototype.setMenuByType=function(y){!y.type||!y.menu||this.menuTypeMap.set(y.type,y.menu)},v.prototype.__getMenuDom=function(y){var s=[];return y&&y.length>0&&y.forEach(function(p){var i=document.createElement("li");if(p.className?i.className="lf-menu-item "+p.className:i.className="lf-menu-item",p.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",i.appendChild(f)}var c=document.createElement("span");c.className="lf-menu-item-text",p.text&&(c.innerText=p.text),i.appendChild(c),i.onclickCallback=p.callback,s.push(i)}),s},v.prototype.setMenuConfig=function(y){!y||(y.nodeMenu!==void 0&&this.menuTypeMap.set(bi,y.nodeMenu?y.nodeMenu:[]),y.edgeMenu!==void 0&&this.menuTypeMap.set(mi,y.edgeMenu?y.edgeMenu:[]),y.graphMenu!==void 0&&this.menuTypeMap.set(Oi,y.graphMenu?y.graphMenu:[]))},v.prototype.addMenuConfig=function(y){if(!!y){if(Array.isArray(y.nodeMenu)){var s=this.menuTypeMap.get(bi);this.menuTypeMap.set(bi,s.concat(y.nodeMenu))}if(Array.isArray(y.edgeMenu)){var s=this.menuTypeMap.get(mi);this.menuTypeMap.set(mi,s.concat(y.edgeMenu))}if(Array.isArray(y.graphMenu)){var s=this.menuTypeMap.get(Oi);this.menuTypeMap.set(Oi,s.concat(y.graphMenu))}}},v.prototype.changeMenuItem=function(y,s){if(y==="add")this.addMenuConfig(s);else if(y==="reset")this.setMenuConfig(s);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},v.pluginName="menu",v}();globalThis&&globalThis.__read;var u_=function(){function v(y){var s=this,p=y.lf;this.lf=p,this.lf.setPatternItems=function(i){s.setPatternItems(i)}}return v.prototype.render=function(y,s){var p=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=s;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){p.panelEl.appendChild(p.createDndItem(i))}),s.appendChild(this.panelEl),this.domContainer=s},v.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},v.prototype.setPatternItems=function(y){this.shapeList=y,this.domContainer&&this.render(this.lf,this.domContainer)},v.prototype.createDndItem=function(y){var s=this,p=document.createElement("div");p.className=y.className?"lf-dnd-item "+y.className:"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",y.icon&&(i.style.backgroundImage="url("+y.icon+")"),p.appendChild(i),y.label){var f=document.createElement("div");f.innerText=y.label,f.className="lf-dnd-text",p.appendChild(f)}return p.onmousedown=function(){y.type&&s.lf.dnd.startDrag({type:y.type,properties:y.properties,text:y.text}),y.callback&&y.callback(s.lf,s.domContainer)},p},v.pluginName="dndPanel",v}(),s_=function(){function v(y){var s=this,p=y.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(f){var c=s.lf.getPointByClient(f.clientX,f.clientY).domOverlayPosition,b=c.x,m=c.y;s.endPoint={x:b,y:m};var w=s.startPoint,_=w.x,A=w.y,j=s.wrapper.style,P=_,T=A,N=b-_,L=m-A;b<_&&(P=b,N=_-b),m<A&&(T=m,L=A-m),j.left=P+"px",j.top=T+"px",j.width=N+"px",j.height=L+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",s.__draw),document.removeEventListener("mouseup",s.__drawOff),s.__domContainer.removeChild(s.wrapper);var f=s.startPoint,c=f.x,b=f.y,m=s.endPoint,w=m.x,_=m.y;if(!(Math.abs(w-c)<10&&Math.abs(_-b)<10)){var A=[Math.min(c,w),Math.min(b,_)],j=[Math.max(c,w),Math.max(b,_)],P=s.lf.getAreaElement(A,j,s.isWholeEdge,s.isWholeNode);P.forEach(function(T){s.lf.selectElementById(T.id,!0)}),s.lf.emit("selection:selected",P)}},this.lf=p;var i=p.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=i,p.openSelectionSelect=function(){s.openSelectionSelect()},p.closeSelectionSelect=function(){s.closeSelectionSelect()}}return v.prototype.render=function(y,s){var p=this;this.__domContainer=s,y.on("blank:mousedown",function(i){var f=i.e,c=y.getEditConfig();if(!(!c.stopMoveGraph||p.__disabled)){var b=y.getPointByClient(f.clientX,f.clientY).domOverlayPosition,m=b.x,w=b.y;p.startPoint={x:m,y:w},p.endPoint={x:m,y:w};var _=document.createElement("div");_.className="lf-selection-select",_.style.top=p.startPoint.y+"px",_.style.left=p.startPoint.x+"px",s.appendChild(_),p.wrapper=_,document.addEventListener("mousemove",p.__draw),document.addEventListener("mouseup",p.__drawOff)}})},v.prototype.setSelectionSense=function(y,s){y===void 0&&(y=!0),s===void 0&&(s=!0),this.isWholeEdge=y,this.isWholeNode=s},v.prototype.openSelectionSelect=function(){var y=this.lf.getEditConfig().stopMoveGraph;y||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},v.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},v.prototype.open=function(){this.__disabled=!1},v.prototype.close=function(){this.__disabled=!0},v.pluginName="selectionSelect",v}();globalThis&&globalThis.__values;var Xg=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),wi=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var p=s.call(v),i,f=[],c;try{for(;(y===void 0||y-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(b){c={error:b}}finally{try{i&&!i.done&&(s=p.return)&&s.call(p)}finally{if(c)throw c.error}}return f};(function(v){Xg(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getEdge=function(){for(var s=this.props.model.getEdgeStyle(),p=s.strokeWidth,i=s.stroke,f=s.strokeDashArray,c=this.props.model.points,b=c.split(" ").map(function(z){return z.split(",").map(function(K){return Number(K)})}),m=wi(b[0],2),w=m[0],_=m[1],A="M"+w+" "+_,j=5,P=1;P<b.length-1;P++){var T=wi(b[P-1],2),N=T[0],L=T[1],G=wi(b[P],2),B=G[0],V=G[1],oe=wi(b[P+1],2),J=oe[0],Y=oe[1];if(B===N&&V!==L){var Z=V>L?V-j:V+j;A=A+" L "+B+" "+Z}if(V===L&&B!==N){var U=B>N?B-j:B+j;A=A+" L "+U+" "+V}if(A=A+" Q "+B+" "+V,B===J&&V!==Y){var Z=V>Y?V-j:V+j;A=A+" "+B+" "+Z}if(V===Y&&B!==J){var U=B>J?B-j:B+j;A=A+" "+U+" "+V}}var M=wi(b[b.length-1],2),R=M[0],I=M[1];return A=A+" L "+R+" "+I,Je.exports.h("path",{d:A,strokeWidth:p,stroke:i,fill:"none",strokeDashArray:f})},y.extendKey="curvedEdge",y})(Je.exports.PolylineEdge);(function(v){Xg(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y})(Je.exports.PolylineEdgeModel);var hf,Ft,Qg,Ei,Vg,_g,Wg={},Jg=[],c_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Lr(v,y){for(var s in y)v[s]=y[s];return v}function Zg(v){var y=v.parentNode;y&&y.removeChild(v)}function Si(v,y,s){var p,i,f,c={};for(f in y)f=="key"?p=y[f]:f=="ref"?i=y[f]:c[f]=y[f];if(arguments.length>2&&(c.children=arguments.length>3?hf.call(arguments,2):s),typeof v=="function"&&v.defaultProps!=null)for(f in v.defaultProps)c[f]===void 0&&(c[f]=v.defaultProps[f]);return wu(v,c,p,i,null)}function wu(v,y,s,p,i){var f={type:v,props:y,key:s,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Qg:i};return i==null&&Ft.vnode!=null&&Ft.vnode(f),f}function yf(v){return v.children}function Lo(v,y){this.props=v,this.context=y}function zo(v,y){if(y==null)return v.__?zo(v.__,v.__.__k.indexOf(v)+1):null;for(var s;y<v.__k.length;y++)if((s=v.__k[y])!=null&&s.__e!=null)return s.__e;return typeof v.type=="function"?zo(v):null}function Kg(v){var y,s;if((v=v.__)!=null&&v.__c!=null){for(v.__e=v.__c.base=null,y=0;y<v.__k.length;y++)if((s=v.__k[y])!=null&&s.__e!=null){v.__e=v.__c.base=s.__e;break}return Kg(v)}}function xg(v){(!v.__d&&(v.__d=!0)&&Ei.push(v)&&!Au.__r++||_g!==Ft.debounceRendering)&&((_g=Ft.debounceRendering)||Vg)(Au)}function Au(){for(var v;Au.__r=Ei.length;)v=Ei.sort(function(y,s){return y.__v.__b-s.__v.__b}),Ei=[],v.some(function(y){var s,p,i,f,c,b;y.__d&&(c=(f=(s=y).__v).__e,(b=s.__P)&&(p=[],(i=Lr({},f)).__v=f.__v+1,tv(b,f,i,s.__n,b.ownerSVGElement!==void 0,f.__h!=null?[c]:null,p,c==null?zo(f):c,f.__h),f_(p,f),f.__e!=c&&Kg(f)))})}function qg(v,y,s,p,i,f,c,b,m,w){var _,A,j,P,T,N,L,G=p&&p.__k||Jg,B=G.length;for(s.__k=[],_=0;_<y.length;_++)if((P=s.__k[_]=(P=y[_])==null||typeof P=="boolean"?null:typeof P=="string"||typeof P=="number"||typeof P=="bigint"?wu(null,P,null,null,P):Array.isArray(P)?wu(yf,{children:P},null,null,null):P.__b>0?wu(P.type,P.props,P.key,null,P.__v):P)!=null){if(P.__=s,P.__b=s.__b+1,(j=G[_])===null||j&&P.key==j.key&&P.type===j.type)G[_]=void 0;else for(A=0;A<B;A++){if((j=G[A])&&P.key==j.key&&P.type===j.type){G[A]=void 0;break}j=null}tv(v,P,j=j||Wg,i,f,c,b,m,w),T=P.__e,(A=P.ref)&&j.ref!=A&&(L||(L=[]),j.ref&&L.push(j.ref,null,P),L.push(A,P.__c||T,P)),T!=null?(N==null&&(N=T),typeof P.type=="function"&&P.__k===j.__k?P.__d=m=$g(P,m,v):m=ev(v,P,j,G,T,m),typeof s.type=="function"&&(s.__d=m)):m&&j.__e==m&&m.parentNode!=v&&(m=zo(j))}for(s.__e=N,_=B;_--;)G[_]!=null&&(typeof s.type=="function"&&G[_].__e!=null&&G[_].__e==s.__d&&(s.__d=zo(p,_+1)),rv(G[_],G[_]));if(L)for(_=0;_<L.length;_++)nv(L[_],L[++_],L[++_])}function $g(v,y,s){for(var p,i=v.__k,f=0;i&&f<i.length;f++)(p=i[f])&&(p.__=v,y=typeof p.type=="function"?$g(p,y,s):ev(s,p,p,i,p.__e,y));return y}function ev(v,y,s,p,i,f){var c,b,m;if(y.__d!==void 0)c=y.__d,y.__d=void 0;else if(s==null||i!=f||i.parentNode==null)e:if(f==null||f.parentNode!==v)v.appendChild(i),c=null;else{for(b=f,m=0;(b=b.nextSibling)&&m<p.length;m+=2)if(b==i)break e;v.insertBefore(i,f),c=f}return c!==void 0?c:i.nextSibling}function l_(v,y,s,p,i){var f;for(f in s)f==="children"||f==="key"||f in y||ju(v,f,null,s[f],p);for(f in y)i&&typeof y[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||s[f]===y[f]||ju(v,f,y[f],s[f],p)}function Eg(v,y,s){y[0]==="-"?v.setProperty(y,s):v[y]=s==null?"":typeof s!="number"||c_.test(y)?s:s+"px"}function ju(v,y,s,p,i){var f;e:if(y==="style")if(typeof s=="string")v.style.cssText=s;else{if(typeof p=="string"&&(v.style.cssText=p=""),p)for(y in p)s&&y in s||Eg(v.style,y,"");if(s)for(y in s)p&&s[y]===p[y]||Eg(v.style,y,s[y])}else if(y[0]==="o"&&y[1]==="n")f=y!==(y=y.replace(/Capture$/,"")),y=y.toLowerCase()in v?y.toLowerCase().slice(2):y.slice(2),v.l||(v.l={}),v.l[y+f]=s,s?p||v.addEventListener(y,f?Ag:Sg,f):v.removeEventListener(y,f?Ag:Sg,f);else if(y!=="dangerouslySetInnerHTML"){if(i)y=y.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(y!=="href"&&y!=="list"&&y!=="form"&&y!=="tabIndex"&&y!=="download"&&y in v)try{v[y]=s==null?"":s;break e}catch(c){}typeof s=="function"||(s!=null&&(s!==!1||y[0]==="a"&&y[1]==="r")?v.setAttribute(y,s):v.removeAttribute(y))}}function Sg(v){this.l[v.type+!1](Ft.event?Ft.event(v):v)}function Ag(v){this.l[v.type+!0](Ft.event?Ft.event(v):v)}function tv(v,y,s,p,i,f,c,b,m){var w,_,A,j,P,T,N,L,G,B,V,oe,J,Y=y.type;if(y.constructor!==void 0)return null;s.__h!=null&&(m=s.__h,b=y.__e=s.__e,y.__h=null,f=[b]),(w=Ft.__b)&&w(y);try{e:if(typeof Y=="function"){if(L=y.props,G=(w=Y.contextType)&&p[w.__c],B=w?G?G.props.value:w.__:p,s.__c?N=(_=y.__c=s.__c).__=_.__E:("prototype"in Y&&Y.prototype.render?y.__c=_=new Y(L,B):(y.__c=_=new Lo(L,B),_.constructor=Y,_.render=d_),G&&G.sub(_),_.props=L,_.state||(_.state={}),_.context=B,_.__n=p,A=_.__d=!0,_.__h=[]),_.__s==null&&(_.__s=_.state),Y.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=Lr({},_.__s)),Lr(_.__s,Y.getDerivedStateFromProps(L,_.__s))),j=_.props,P=_.state,A)Y.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(Y.getDerivedStateFromProps==null&&L!==j&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(L,B),!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(L,_.__s,B)===!1||y.__v===s.__v){_.props=L,_.state=_.__s,y.__v!==s.__v&&(_.__d=!1),_.__v=y,y.__e=s.__e,y.__k=s.__k,y.__k.forEach(function(Z){Z&&(Z.__=y)}),_.__h.length&&c.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(L,_.__s,B),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(j,P,T)})}if(_.context=B,_.props=L,_.__v=y,_.__P=v,V=Ft.__r,oe=0,"prototype"in Y&&Y.prototype.render)_.state=_.__s,_.__d=!1,V&&V(y),w=_.render(_.props,_.state,_.context);else do _.__d=!1,V&&V(y),w=_.render(_.props,_.state,_.context),_.state=_.__s;while(_.__d&&++oe<25);_.state=_.__s,_.getChildContext!=null&&(p=Lr(Lr({},p),_.getChildContext())),A||_.getSnapshotBeforeUpdate==null||(T=_.getSnapshotBeforeUpdate(j,P)),J=w!=null&&w.type===yf&&w.key==null?w.props.children:w,qg(v,Array.isArray(J)?J:[J],y,s,p,i,f,c,b,m),_.base=y.__e,y.__h=null,_.__h.length&&c.push(_),N&&(_.__E=_.__=null),_.__e=!1}else f==null&&y.__v===s.__v?(y.__k=s.__k,y.__e=s.__e):y.__e=p_(s.__e,y,s,p,i,f,c,m);(w=Ft.diffed)&&w(y)}catch(Z){y.__v=null,(m||f!=null)&&(y.__e=b,y.__h=!!m,f[f.indexOf(b)]=null),Ft.__e(Z,y,s)}}function f_(v,y){Ft.__c&&Ft.__c(y,v),v.some(function(s){try{v=s.__h,s.__h=[],v.some(function(p){p.call(s)})}catch(p){Ft.__e(p,s.__v)}})}function p_(v,y,s,p,i,f,c,b){var m,w,_,A=s.props,j=y.props,P=y.type,T=0;if(P==="svg"&&(i=!0),f!=null){for(;T<f.length;T++)if((m=f[T])&&"setAttribute"in m==!!P&&(P?m.localName===P:m.nodeType===3)){v=m,f[T]=null;break}}if(v==null){if(P===null)return document.createTextNode(j);v=i?document.createElementNS("http://www.w3.org/2000/svg",P):document.createElement(P,j.is&&j),f=null,b=!1}if(P===null)A===j||b&&v.data===j||(v.data=j);else{if(f=f&&hf.call(v.childNodes),w=(A=s.props||Wg).dangerouslySetInnerHTML,_=j.dangerouslySetInnerHTML,!b){if(f!=null)for(A={},T=0;T<v.attributes.length;T++)A[v.attributes[T].name]=v.attributes[T].value;(_||w)&&(_&&(w&&_.__html==w.__html||_.__html===v.innerHTML)||(v.innerHTML=_&&_.__html||""))}if(l_(v,j,A,i,b),_)y.__k=[];else if(T=y.props.children,qg(v,Array.isArray(T)?T:[T],y,s,p,i&&P!=="foreignObject",f,c,f?f[0]:s.__k&&zo(s,0),b),f!=null)for(T=f.length;T--;)f[T]!=null&&Zg(f[T]);b||("value"in j&&(T=j.value)!==void 0&&(T!==v.value||P==="progress"&&!T||P==="option"&&T!==A.value)&&ju(v,"value",T,A.value,!1),"checked"in j&&(T=j.checked)!==void 0&&T!==v.checked&&ju(v,"checked",T,A.checked,!1))}return v}function nv(v,y,s){try{typeof v=="function"?v(y):v.current=y}catch(p){Ft.__e(p,s)}}function rv(v,y,s){var p,i;if(Ft.unmount&&Ft.unmount(v),(p=v.ref)&&(p.current&&p.current!==v.__e||nv(p,null,y)),(p=v.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){Ft.__e(f,y)}p.base=p.__P=null}if(p=v.__k)for(i=0;i<p.length;i++)p[i]&&rv(p[i],y,typeof v.type!="function");s||v.__e==null||Zg(v.__e),v.__e=v.__d=void 0}function d_(v,y,s){return this.constructor(v,s)}hf=Jg.slice,Ft={__e:function(v,y,s,p){for(var i,f,c;y=y.__;)if((i=y.__c)&&!i.__)try{if((f=i.constructor)&&f.getDerivedStateFromError!=null&&(i.setState(f.getDerivedStateFromError(v)),c=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(v,p||{}),c=i.__d),c)return i.__E=i}catch(b){v=b}throw v}},Qg=0,Lo.prototype.setState=function(v,y){var s;s=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Lr({},this.state),typeof v=="function"&&(v=v(Lr({},s),this.props)),v&&Lr(s,v),v!=null&&this.__v&&(y&&this.__h.push(y),xg(this))},Lo.prototype.forceUpdate=function(v){this.__v&&(this.__e=!0,v&&this.__h.push(v),xg(this))},Lo.prototype.render=yf,Ei=[],Vg=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Au.__r=0;var Ai=globalThis&&globalThis.__assign||function(){return Ai=Object.assign||function(v){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(v[i]=y[i])}return v},Ai.apply(this,arguments)};function gf(v){var y=v.x,s=v.y,p=v.width,i=v.height,f=v.radius,c=v.className,b=y-p/2,m=s-i/2,w=Ai(Ai({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+c},v),{x:b,y:m});return Je.exports.h("rect",Ai({},w))}gf.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Bo;(function(v){v.NODE="node",v.CIRCLE_NODE="circle-node",v.POLYGON_NODE="polygon-node",v.RECT_NODE="rect-node",v.HTML_NODE="html-node",v.TEXT_NODE="text-node",v.ELLIPSE_NODE="ellipse-node",v.DIAMOND_NODE="diamond-node",v.EDGE="edge",v.LINE_EDGE="line-edge",v.POLYLINE_EDGE="polyline-edge",v.BEZIER_EDGE="bezier-edge",v.GRAPH="graph"})(Bo||(Bo={}));function _u(v){var y=v.x,s=v.y,p=v.width,i=v.height;return{minX:y-p/2,minY:s-i/2,maxX:y+p/2,maxY:s+i/2}}function jg(v){var y=_u(v),s=v.radius,p=y.minX,i=y.minY,f=y.maxX,c=y.maxY;return[{x:p+s,y:i+s},{x:f-s,y:i+s},{x:f-s,y:c-s},{x:p+s,y:c-s}]}function Pg(v){var y=v.point,s=v.beforeNode,p=v.afterNode,i=y.x,f=y.y,c={x:i,y:f},b=s.radius,m=_u(s),w=_u(p);if(i===m.minX){c.x=w.minX;var _=(f-s.y)/(s.height/2-b);_?c.y=p.y+(p.height/2-b)*_:c.y=p.y}else if(i===m.maxX){c.x=w.maxX;var _=(f-s.y)/(s.height/2-b);_?c.y=p.y+(p.height/2-b)*_:c.y=p.y}else if(f===m.minY){c.y=w.minY;var _=(i-s.x)/(s.width/2-b);_?c.x=p.x+(p.width/2-b)*_:c.x=p.x}else if(f===m.maxY){c.y=w.maxY;var _=(i-s.x)/(s.width/2-b);_?c.x=p.x+(p.width/2-b)*_:c.x=p.x}else{var A=jg(s),j=jg(p),P=_u(s),T=P.minX,N=P.minY,L=P.maxX,G=P.maxY,B=-1;if(i-T<b&&f-N<b?B=0:L-i<b&&f-N<b?B=1:L-i<b&&G-f<b?B=2:i-T<b&&N-f<b&&(B=3),B>-1){var V=Math.atan2(f-A[B].y,i-A[B].x);c.x=j[B].x+b*Math.cos(V),c.y=j[B].y+b*Math.sin(V)}}return c}function kg(v){var y=v.point,s=v.beforeNode,p=v.afterNode,i=p.rx,f=p.ry,c=y,b=(y.y-s.y)/(y.x-s.x),m=i,w=f,_,A;return b>=1/0?(_=0,A=w):b<=-1/0?(_=0,A=-w):y.x-s.x>0?(_=m*w/Math.sqrt(w*w+m*m*b*b),A=m*w*b/Math.sqrt(w*w+m*m*b*b)):(_=-(m*w)/Math.sqrt(w*w+m*m*b*b),A=-(m*w*b)/Math.sqrt(w*w+m*m*b*b)),c={x:_+p.x,y:A+p.y},c}function Dg(v){var y=v.point,s=v.beforeNode,p=v.afterNode,i=y,f,c,b=y.x-s.x,m=y.y-s.y,w=s.rx,_=s.ry,A=Math.sqrt((w-Math.abs(b))*(w-Math.abs(b))+m*m)/Math.sqrt(w*w+_*_),j=p.rx,P=p.ry,T=Math.sqrt((j*j+P*P)*A*A*(j*j/(j*j+P*P))),N=T*(P/j);return b>=0?f=j-T:f=T-j,m>0?c=N:c=-N,i={x:f+p.x,y:c+p.y},i}var h_=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),no=globalThis&&globalThis.__assign||function(){return no=Object.assign||function(v){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(v[i]=y[i])}return v},no.apply(this,arguments)},y_=Je.exports.LogicFlowUtil.StepDrag,g_=function(v){h_(y,v);function y(s){var p=v.call(this)||this;p.updatePosition=function(c){var b=c.deltaX,m=c.deltaY,w=p.nodeModel,_=w.x,A=w.y;p.nodeModel.x=_+b/2,p.nodeModel.y=A+m/2,p.nodeModel.moveText(b/2,m/2)},p.getResize=function(c){var b=c.index,m=c.deltaX,w=c.deltaY,_=c.width,A=c.height,j=c.pct,P=j===void 0?1:j,T={width:_,height:A};switch(b){case 0:T.width=_-m*P,T.height=A-w*P;break;case 1:T.width=_+m*P,T.height=A-w*P;break;case 2:T.width=_+m,T.height=A+w*P;break;case 3:T.width=_-m*P,T.height=A+w*P;break}return T},p.updateRect=function(c){var b=c.deltaX,m=c.deltaY,w=p.nodeModel,_=w.id,A=w.x,j=w.y,P=w.width,T=w.height,N=w.radius,L=p.index,G=p.getResize({index:L,deltaX:b,deltaY:m,width:P,height:T,pct:1}),B=p.nodeModel,V=B.minWidth,oe=B.minHeight,J=B.maxWidth,Y=B.maxHeight;if(G.width<V||G.width>J||G.height<oe||G.height>Y){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:b,deltaY:m}),p.nodeModel.width=G.width,p.nodeModel.height=G.height,p.nodeModel.setProperties({nodeSize:{width:G.width,height:G.height}});var Z=p.getNodeEdges(_),U={x:A,y:j,width:P,height:T,radius:N},M={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:N},R={point:"",beforeNode:U,afterNode:M},I;Z.sourceEdges.forEach(function(z){R.point=z.startPoint,I=Pg(R),z.updateStartPoint(I)}),Z.targetEdges.forEach(function(z){R.point=z.endPoint,I=Pg(R),z.updateEndPoint(I)}),p.eventEmit({beforeNode:U,afterNode:M})},p.updateEllipse=function(c){var b=c.deltaX,m=c.deltaY,w=p.nodeModel,_=w.id,A=w.rx,j=w.ry,P=w.x,T=w.y,N=p.index,L=A,G=j,B=p.getResize({index:N,deltaX:b,deltaY:m,width:L,height:G,pct:1/2}),V=p.nodeModel,oe=V.minWidth,J=V.minHeight,Y=V.maxWidth,Z=V.maxHeight;if(B.width<oe/2||B.width>Y/2||B.height<J/2||B.height>Z/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:b,deltaY:m}),p.nodeModel.rx=p.nodeModel.rx+b/2,p.nodeModel.ry=p.nodeModel.ry+m/2,p.nodeModel.setProperties({nodeSize:{rx:B.width,ry:B.height}});var U=p.getNodeEdges(_),M={x:P,y:T},R={rx:B.width,ry:B.height,x:p.nodeModel.x,y:p.nodeModel.y},I={point:{},beforeNode:M,afterNode:R},z;U.sourceEdges.forEach(function(K){I.point=K.startPoint,z=kg(I),K.updateStartPoint(z)}),U.targetEdges.forEach(function(K){I.point=K.endPoint,z=kg(I),K.updateEndPoint(z)}),p.eventEmit({beforeNode:no(no({},M),{rx:A,ry:j}),afterNode:R})},p.updateDiamond=function(c){var b=c.deltaX,m=c.deltaY,w=p.nodeModel,_=w.id,A=w.rx,j=w.ry,P=w.x,T=w.y,N=p.index,L=A,G=j,B=p.getResize({index:N,deltaX:b,deltaY:m,width:L,height:G,pct:1/2}),V=p.nodeModel,oe=V.minWidth,J=V.minHeight,Y=V.maxWidth,Z=V.maxHeight;if(B.width<oe/2||B.width>Y/2||B.height<J/2||B.height>Z/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:b,deltaY:m}),p.nodeModel.rx=p.nodeModel.rx+b/2,p.nodeModel.ry=p.nodeModel.ry+m/2,p.nodeModel.setProperties({nodeSize:{rx:B.width,ry:B.height}});var U={x:P,y:T,rx:A,ry:j},M={rx:B.width,ry:B.height,x:p.nodeModel.x,y:p.nodeModel.y},R={point:{},beforeNode:U,afterNode:M},I,z=p.getNodeEdges(_);z.sourceEdges.forEach(function(K){R.point=K.startPoint,I=Dg(R),K.updateStartPoint(I)}),z.targetEdges.forEach(function(K){R.point=K.endPoint,I=Dg(R),K.updateEndPoint(I)}),p.eventEmit({beforeNode:U,afterNode:M})},p.eventEmit=function(c){var b=c.beforeNode,m=c.afterNode,w=p.nodeModel,_=w.id,A=w.modelType,j=w.type,P=no({id:_,modelType:A,type:j},b),T=no({id:_,modelType:A,type:j},m);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:T})},p.onDraging=function(c){var b=c.deltaX,m=c.deltaY,w=p.nodeModel.modelType;w===Bo.RECT_NODE||w===Bo.HTML_NODE?p.updateRect({deltaX:b,deltaY:m}):w===Bo.ELLIPSE_NODE?p.updateEllipse({deltaX:b,deltaY:m}):w===Bo.DIAMOND_NODE&&p.updateDiamond({deltaX:b,deltaY:m})},p.index=s.index,p.nodeModel=s.model,p.graphModel=s.graphModel;var i=p.graphModel.gridSize,f=2;return i>1&&(f=2*i),p.nodeModel.gridSize&&(f=2*p.nodeModel.gridSize),p.state={},p.dragHandler=new y_({onDraging:p.onDraging,step:f}),p}return y.prototype.getNodeEdges=function(s){for(var p=this.graphModel,i=p.edges,f=[],c=[],b=0;b<i.length;b++){var m=i[b];m.sourceNodeId===s?f.push(m):i[b].targetNodeId===s&&c.push(m)}return{sourceEdges:f,targetEdges:c}},y.prototype.render=function(){var s=this.props,p=s.x,i=s.y,f=s.index,c=s.model,b=c.getControlPointStyle();return Si("g",{className:"lf-resize-control-"+f},Si(gf,no({className:"lf-node-control"},{x:p,y:i},b,{onMouseDown:this.dragHandler.handleMouseDown})))},y}(Lo),v_=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Pu=globalThis&&globalThis.__assign||function(){return Pu=Object.assign||function(v){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(v[i]=y[i])}return v},Pu.apply(this,arguments)},Tu=function(v){v_(y,v);function y(){var s=v.call(this)||this;return s.state={},s}return y.prototype.getResizeControl=function(){var s=this.props,p=s.model,i=s.graphModel,f=p.x,c=p.y,b=p.width,m=p.height,w={minX:f-b/2,minY:c-m/2,maxX:f+b/2,maxY:c+m/2},_=w.minX,A=w.minY,j=w.maxX,P=w.maxY,T=[{x:_,y:A},{x:j,y:A},{x:j,y:P},{x:_,y:P}];return T.map(function(N,L){return Si(g_,Pu({index:L},N,{model:p,graphModel:i}))})},y.prototype.getGroupSolid=function(){var s=this.props.model,p=s.x,i=s.y,f=s.width,c=s.height,b=s.getResizeOutlineStyle();return Si(gf,Pu({fill:"none"},b,{x:p,y:i,width:f,height:c}))},y.prototype.render=function(){return Si("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},y}(Lo),ov=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),b_=function(v){ov(y,v);function y(s,p){var i=v.call(this,s,p)||this,f=i.properties.nodeSize;return f&&(i.width=f.width,i.height=f.height),i}return y.prototype.initNodeData=function(s){v.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=v.prototype.getOutlineStyle.call(this);return s.stroke="none",s.hover&&(s.hover.stroke="none"),s},y.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.resize=function(s,p){},y}(Je.exports.RectNodeModel),m_=function(v){ov(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,p=s.model,i=s.graphModel;return Je.exports.h(Tu,{model:p,graphModel:i})},y.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props.model.isSelected;return Je.exports.h("g",null,this.getResizeShape(),s?this.getControlGroup():"")},y}(Je.exports.RectNode),iv={type:"rect",view:m_,model:b_},av=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}();(function(v){av(y,v);function y(s,p){var i=v.call(this,s,p)||this,f=i.properties.nodeSize;return f&&(i.rx=f.rx,i.ry=f.ry),i}return y.prototype.initNodeData=function(s){v.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=v.prototype.getOutlineStyle.call(this);return s.stroke="none",s.hover&&(s.hover.stroke="none"),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y})(Je.exports.EllipseNodeModel);(function(v){av(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,p=s.model,i=s.graphModel;return Je.exports.h(Tu,{model:p,graphModel:i})},y.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props.model;return Je.exports.h("g",null,this.getResizeShape(),s.isSelected?this.getControlGroup():"")},y})(Je.exports.EllipseNode);var cf=globalThis&&globalThis.__assign||function(){return cf=Object.assign||function(v){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(v[i]=y[i])}return v},cf.apply(this,arguments)};function O_(v){var y=v.fillOpacity,s=y===void 0?1:y,p=v.strokeWidth,i=p===void 0?1:p,f=v.strokeOpacity,c=f===void 0?1:f,b=v.fill,m=b===void 0?"transparent":b,w=v.stroke,_=w===void 0?"#000":w,A=v.points,j=v.className,P=j===void 0?"lf-basic-shape":j,T={fill:m,fillOpacity:s,strokeWidth:i,stroke:_,strokeOpacity:c,points:"",className:P};return T.points=A.map(function(N){return N.join(",")}).join(" "),Je.exports.h("polygon",cf({},T))}var uv=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),lf=globalThis&&globalThis.__assign||function(){return lf=Object.assign||function(v){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(v[i]=y[i])}return v},lf.apply(this,arguments)};(function(v){uv(y,v);function y(s,p){var i=v.call(this,s,p)||this,f=i.properties.nodeSize;return f&&(i.rx=f.rx,i.ry=f.ry),i}return y.prototype.initNodeData=function(s){v.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},y.prototype.getOutlineStyle=function(){var s=v.prototype.getOutlineStyle.call(this);return s.stroke="none",s.hover&&(s.hover.stroke="none"),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y})(Je.exports.DiamondNodeModel);(function(v){uv(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,p=s.model,i=s.graphModel;return Je.exports.h(Tu,{model:p,graphModel:i})},y.prototype.getResizeShape=function(){var s=this.props.model,p=s.points,i=s.getNodeStyle();return Je.exports.h("g",null,Je.exports.h(O_,lf({},i,{points:p})))},y.prototype.getShape=function(){var s=this.props.model.isSelected;return Je.exports.h("g",null,this.getResizeShape(),s?this.getControlGroup():"")},y})(Je.exports.DiamondNode);var sv=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}();(function(v){sv(y,v);function y(s,p){var i=v.call(this,s,p)||this,f=i.properties.nodeSize;return f&&(i.width=f.width,i.height=f.height),i}return y.prototype.initNodeData=function(s){v.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var s=v.prototype.getOutlineStyle.call(this);return s.stroke="none",s.hover&&(s.hover.stroke="none"),s},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y})(Je.exports.HtmlNodeModel);(function(v){sv(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props,p=s.model,i=s.graphModel;return Je.exports.h(Tu,{model:p,graphModel:i})},y.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},y.prototype.getShape=function(){var s=this.props.model.isSelected;return Je.exports.h("g",null,this.getResizeShape(),s?this.getControlGroup():"")},y})(Je.exports.HtmlNode);var cv=globalThis&&globalThis.__extends||function(){var v=function(y,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(y,s)};return function(y,s){v(y,s);function p(){this.constructor=y}y.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),ku=globalThis&&globalThis.__assign||function(){return ku=Object.assign||function(v){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(v[i]=y[i])}return v},ku.apply(this,arguments)},w_=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var p=s.call(v),i,f=[],c;try{for(;(y===void 0||y-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(b){c={error:b}}finally{try{i&&!i.done&&(s=p.return)&&s.call(p)}finally{if(c)throw c.error}}return f},Tg=globalThis&&globalThis.__spread||function(){for(var v=[],y=0;y<arguments.length;y++)v=v.concat(w_(arguments[y]));return v},Mg=500,Ng=300;(function(v){cv(y,v);function y(){var s=v!==null&&v.apply(this,arguments)||this;return s.isGroup=!0,s.unfoldedWidth=Mg,s.unfoldedHight=Ng,s}return y.prototype.initNodeData=function(s){var p=this;v.prototype.initNodeData.call(this,s);var i=[];Array.isArray(s.children)&&(i=s.children),this.children=new Set(i),this.width=Mg,this.height=Ng,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){p.isFolded&&p.foldGroup(p.isFolded)})},y.prototype.getResizeOutlineStyle=function(){var s=v.prototype.getResizeOutlineStyle.call(this);return s.stroke="none",s},y.prototype.foldGroup=function(s){var p=this;this.setProperty("isFolded",s),this.isFolded=s,s?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(f){var c=p.graphModel.getElement(f);c.visible=!s,i=i.concat(c.incoming.edges.concat(c.outgoing.edges))}),this.foldEdge(s,i)},y.prototype.getAnchorStyle=function(s){var p=v.prototype.getAnchorStyle.call(this,s);return p.stroke="transparent",p.fill="transparent",p.hover.fill="transparent",p.hover.stroke="transparent",p},y.prototype.foldEdge=function(s,p){var i=this;p.forEach(function(f,c){var b=f.id,m=f.sourceNodeId,w=f.targetNodeId,_=f.startPoint,A=f.endPoint,j=f.type,P=f.properties,T=f.text,N={id:b+"__"+c,sourceNodeId:m,targetNodeId:w,startPoint:_,endPoint:A,type:j,properties:P,text:T==null?void 0:T.value};f.virtual&&i.graphModel.deleteEdgeById(f.id);var L=i.graphModel.group.getNodeGroup(w);L||(L=i.graphModel.getNodeModelById(w));var G=i.graphModel.group.getNodeGroup(m);G||(G=i.graphModel.getNodeModelById(m)),s&&f.visible!==!1&&(i.children.has(m)||i.id===m?(N.startPoint=void 0,N.sourceNodeId=i.id):(N.endPoint=void 0,N.targetNodeId=i.id),(L.id!==i.id||G.id!==i.id)&&i.createVirtualEdge(N),f.visible=!1),!s&&f.visible===!1&&(L&&L.isGroup&&L.isFolded?(N.targetNodeId=L.id,N.endPoint=void 0,i.createVirtualEdge(N)):G&&G.isGroup&&G.isFolded?(N.sourceNodeId=G.id,N.startPoint=void 0,i.createVirtualEdge(N)):f.visible=!0)})},y.prototype.createVirtualEdge=function(s){s.pointsList=void 0;var p=this.graphModel.addEdge(s);p.virtual=!0,p.getData=function(){return null},p.text.editable=!1,p.isFoldedEdge=!0},y.prototype.isInRange=function(s){var p=s.x1,i=s.y1,f=s.x2,c=s.y2;return p>=this.x-this.width/2&&f<=this.x+this.width/2&&i>=this.y-this.height/2&&c<=this.y+this.height/2},y.prototype.isAllowMoveTo=function(s){var p=s.x1,i=s.y1,f=s.x2,c=s.y2;return{x:p>=this.x-this.width/2&&f<=this.x+this.width/2,y:i>=this.y-this.height/2&&c<=this.y+this.height/2}},y.prototype.setAllowAppendChild=function(s){this.setProperty("groupAddable",s)},y.prototype.addChild=function(s){this.children.add(s)},y.prototype.removeChild=function(s){this.children.delete(s)},y.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},y.prototype.getData=function(){var s=v.prototype.getData.call(this);s.children=Tg(this.children);var p=s.properties;return delete p.groupAddable,delete p.isFolded,s},y.prototype.getHistoryData=function(){var s=v.prototype.getData.call(this);s.children=Tg(this.children);var p=s.properties;return delete p.groupAddable,p.isFolded&&(s.x=s.x+this.unfoldedWidth/2-this.foldedWidth/2,s.y=s.y+this.unfoldedHight/2-this.foldedHeight/2),s},y})(iv.model);(function(v){cv(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var s=this.props.model,p=s.resizable,i=s.properties;return p&&!i.isFolded?v.prototype.getControlGroup.call(this):null},y.prototype.getAddedableShape=function(){var s=this.props.model,p=s.width,i=s.height,f=s.x,c=s.y,b=s.radius,m=s.properties;if(!m.groupAddable)return null;var w=this.props.model.getNodeStyle().strokeWidth,_=this.props.model.getAddableOutlineStyle(),A=p+w+8,j=i+w+8;return Je.exports.h("rect",ku(ku({},_),{width:A,height:j,x:f-A/2,y:c-j/2,rx:b,ry:b}))},y.prototype.getFoldIcon=function(){var s=this.props.model,p=s.x-s.width/2+5,i=s.y-s.height/2+5;if(!s.foldable)return null;var f=Je.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:s.properties.isFolded?"M "+(p+3)+","+(i+6)+" "+(p+11)+","+(i+6)+" M"+(p+7)+","+(i+2)+" "+(p+7)+","+(i+10):"M "+(p+3)+","+(i+6)+" "+(p+11)+","+(i+6)+" "});return Je.exports.h("g",{},[Je.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:s.x-s.width/2+5,y:s.y-s.height/2+5,onClick:function(){s.foldGroup(!s.properties.isFolded)}}),f])},y.prototype.getResizeShape=function(){return Je.exports.h("g",{},[this.getAddedableShape(),v.prototype.getResizeShape.call(this),this.getFoldIcon()])},y})(iv.view);var __=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var p=s.call(v),i,f=[],c;try{for(;(y===void 0||y-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(b){c={error:b}}finally{try{i&&!i.done&&(s=p.return)&&s.call(p)}finally{if(c)throw c.error}}return f};globalThis&&globalThis.__spread;var x_=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var p=s.call(v),i,f=[],c;try{for(;(y===void 0||y-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(b){c={error:b}}finally{try{i&&!i.done&&(s=p.return)&&s.call(p)}finally{if(c)throw c.error}}return f};globalThis&&globalThis.__spread;var Cg=globalThis&&globalThis.__assign||function(){return Cg=Object.assign||function(v){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(v[i]=y[i])}return v},Cg.apply(this,arguments)},Ig=globalThis&&globalThis.__assign||function(){return Ig=Object.assign||function(v){for(var y,s=1,p=arguments.length;s<p;s++){y=arguments[s];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(v[i]=y[i])}return v},Ig.apply(this,arguments)},E_=globalThis&&globalThis.__read||function(v,y){var s=typeof Symbol=="function"&&v[Symbol.iterator];if(!s)return v;var p=s.call(v),i,f=[],c;try{for(;(y===void 0||y-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(b){c={error:b}}finally{try{i&&!i.done&&(s=p.return)&&s.call(p)}finally{if(c)throw c.error}}return f};globalThis&&globalThis.__spread;const S_={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function A_(v){const{incoming:y,outgoing:s,properties:p,key:i}=v,{text:f,startPoint:c,endPoint:b,pointsList:m,logicFlowType:w}=p,_={id:i,type:w,sourceNodeId:y[0],targetNodeId:s[0],text:f,startPoint:c,endPoint:b,pointsList:m,properties:{}},A=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(v.properties).forEach(j=>{A.indexOf(j)===-1&&(_.properties[j]=v.properties[j])}),_}function j_(v){const{properties:y,key:s}=v,{x:p,y:i,text:f,logicFlowType:c}=y,b={id:s,type:c,x:p,y:i,text:f,properties:{}},m=["x","y","text","logicFlowType"];return Object.keys(v.properties).forEach(w=>{m.indexOf(w)===-1&&(b.properties[w]=v.properties[w])}),b}function P_(v){const y={nodes:[],edges:[]},s=v.flowElementList;return s&&s.length>0&&s.forEach(p=>{if(p.type===S_.SEQUENCE_FLOW){const i=A_(p);y.edges.push(i)}else{const i=j_(p);y.nodes.push(i)}}),y}function k_(v){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{v.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const D_=Rg({name:"FlowChart",components:{BasicModal:g1,FlowChartToolbar:S1,JsonPreview:b1},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(v){const y=mu(null),s=mu({}),p=mu(null),{prefixCls:i}=c1("flow-chart"),f=l1(),[c,{openModal:b}]=v1();O1({logicFlow:p});const m=f1(()=>{const{flowOptions:j}=v;return nf({grid:!0,background:{color:f.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},j)});lg(()=>v.data,()=>{_()}),lg(()=>pn(m),j=>{var P;(P=pn(p))==null||P.updateEditConfig(j)});function w(){return bu(this,null,function*(){yield rf();const j=pn(y);if(!j)return;Ro.use(u_),Ro.use(J1),Ro.use(W1),Ro.use(a_),Ro.use(s_),p.value=new Ro(sg(nf({},pn(m)),{container:j}));const P=pn(p);P==null||P.setDefaultEdgeType("line"),_(),P==null||P.setPatternItems(v.patternItems||k_(P))})}function _(){return bu(this,null,function*(){yield rf();const j=pn(p);if(!j)return;const P=P_(v.data);j.render(P)})}function A(){const j=pn(p);!j||(s.value=pn(j).getGraphData(),b())}return p1(w),{register:c,prefixCls:i,lfElRef:y,handlePreview:A,graphData:s}}}),T_={ref:"lfElRef",class:"h-full"};function M_(v,y,s,p,i,f){const c=zr("FlowChartToolbar"),b=zr("JsonPreview"),m=zr("BasicModal");return Br(),_i("div",{class:Ou(["h-full",v.prefixCls])},[v.toolbar?(Br(),pf(c,{key:0,prefixCls:v.prefixCls,onViewData:v.handlePreview},null,8,["prefixCls","onViewData"])):of("",!0),d1("div",T_,null,512),ji(m,{onRegister:v.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:xu(()=>[ji(b,{data:v.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var N_=ff(D_,[["render",M_]]);const C_=h1(N_),I_=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var R_={flowElementList:I_};const B_={components:{FlowChart:C_,PageWrapper:m1},setup(){return{demoData:R_}}};function L_(v,y,s,p,i,f){const c=zr("FlowChart"),b=zr("PageWrapper");return Br(),pf(b,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:xu(()=>[ji(c,{data:p.demoData},null,8,["data"])]),_:1})}var tx=ff(B_,[["render",L_]]);export{tx as default};
