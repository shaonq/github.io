import{s as e}from"../shaonq/shaonq.754e411d.js";import{f as t,r as s,q as o,v as i,G as n,Q as a,F as l,y as r,B as d,H as u,l as p}from"../@vue/@vue.89516255.js";import{_ as c}from"../index.0d02bb1f.js";import"../vue-router/vue-router.c621da18.js";import"../pinia/pinia.5150f487.js";import"../vue-demi/vue-demi.784001c0.js";import"../quill/quill.3362dfa5.js";import"../nprogress/nprogress.18cafdd9.js";import"../echarts/echarts.22f0db08.js";import"../tslib/tslib.b9ce9c9f.js";import"../zrender/zrender.31b37330.js";import"../vite-plugin-mock/vite-plugin-mock.b4540423.js";import"../mockjs/mockjs.56624cf4.js";import"../path-to-regexp/path-to-regexp.dea237f3.js";const m=t({setup(){const t=s("https://shaonq.github.io/md/file/如何快速实现网页预览PDF文件.pdf"),o=s(null);async function i(t,s){return window.pdfjsLib||(await e.loadJs("https://unpkg.com/pdfjs-dist@2.5.207/build/pdf.js"),pdfjsLib.GlobalWorkerOptions.workerSrc="https://unpkg.com/pdfjs-dist@2.5.207/build/pdf.worker.js"),new Promise((function(e,o){pdfjsLib.getDocument(s).promise.then((s=>{const o=s.numPages,i=e=>{var n;(n=e,s.getPage(n).then((function(e){const s=e.getViewport({scale:2});let o=document.createElement("canvas");o.width=s.width||794,o.height=s.height||1123,o.style.width="100%",o.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.16)",o.style.marginBottom="5px",o.style.borderRadius="2px",o.style.display="block";const i=o.getContext("2d"),n=e.render({canvasContext:i,viewport:s});return t.appendChild(o),o=null,n.promise}))).then((()=>{e++,o>=e&&i(e)}))};i(1),e(o)})).catch(o)}))}return{value:t,loading:o,loadDemo:async function(){o.value=!0;try{const s=document.getElementById("view"),n=await i(s,t.value);e.showNearby({content:`加载了一个 ${n} 页的pdf文件`,offset:["100px","auto"]}),o.value=!1}catch(s){}}}}}),f={class:"u-quill-body"},h=i("h1",null,"在线阅读pdf",-1),v={class:"u-flex"},g={class:"u-flex__item"},b={style:{"min-height":"600px"}},j={key:0,class:"u-skeleton is-loading"},w={id:"view"};var y=c(m,[["render",function(e,t,s,c,m,y){return p(),o("div",null,[i("div",f,[h,i("div",v,[i("div",g,[n(i("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),class:"u-input",placeholder:"请输入一个在线地址"},null,512),[[a,e.value]])]),i("div",null,[i("button",{class:"u-btn u-ml",onClick:t[1]||(t[1]=t=>e.loadDemo())},"在线查看")])]),i("div",b,[!0===e.loading?(p(),o("div",j,[(p(),o(l,null,r(10,(e=>i("p",{key:e,class:"u-skeleton__item"}))),64))])):d("",!0),n(i("div",w,null,512),[[u,!e.loading]])])])])}]]);export{y as default};
