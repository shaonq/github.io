import{a as e}from"../axios/axios.e13dbd1c.js";const t=0,r=e.create({baseURL:"/",timeout:1e3,withCredentials:!0});r.interceptors.request.use((e=>e)),r.defaults.timeout=1e4,r.interceptors.response.use((e=>{if(200===e.status){const{data:r}=e;if(r.code===t)return r}return e}),(async e=>{const{config:t}=e;if(!t||!t.retry)return Promise.reject(e);if(t.retryCount=t.retryCount||0,t.retryCount>=t.retry)return Promise.reject(e);t.retryCount+=1;const s=new Promise((e=>{setTimeout((()=>{e(null)}),t.retryDelay||1)}));return await s,await r(t)}));export{r as i};
