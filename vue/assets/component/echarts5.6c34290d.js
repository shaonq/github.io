import{r as e,i as t}from"../echarts/echarts.22f0db08.js";import{_ as o}from"../index.56e2a9af.js";import{k as r,v as i,f as a,x as s,y as l,a as n,r as c,z as h,A as d}from"../@vue/@vue.a9907412.js";import"../shaonq/shaonq.e47bfeb9.js";import{X as u}from"../zrender/zrender.31b37330.js";import"../tslib/tslib.b9ce9c9f.js";import"../vue-router/vue-router.30f59dce.js";import"../pinia/pinia.2d6c69fe.js";import"../vue-demi/vue-demi.784001c0.js";import"../vite-plugin-mock/vite-plugin-mock.5f58db78.js";import"../mockjs/mockjs.69e5819b.js";import"../path-to-regexp/path-to-regexp.dea237f3.js";const f={color:["#1890FF","#36CBCB","#4ECB73","#FBD437","#F2637B","#975FE5"],backgroundColor:"rgba(252,252,252,0)",textStyle:{},grid:{top:"4%",left:"2%",right:"2%",bottom:"2%",containLabel:!0},title:{textStyle:{color:"#666666"},subtextStyle:{color:"#999999"}},line:{itemStyle:{borderWidth:"2"},lineStyle:{normal:{width:"3"}},symbolSize:"8",symbol:"emptyCircle",smooth:!0},radar:{itemStyle:{borderWidth:"2"},lineStyle:{normal:{width:"3"}},symbolSize:"8",symbol:"emptyCircle",smooth:!1},bar:{itemStyle:{barBorderWidth:0,barBorderColor:"#ccc"},barMaxWidth:"50%"},pie:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},scatter:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},boxplot:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},parallel:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},sankey:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},funnel:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},gauge:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},candlestick:{itemStyle:{color:"#e6a0d2",color0:"transparent",borderColor:"#e6a0d2",borderColor0:"#1890FF",borderWidth:"2"}},graph:{itemStyle:{borderWidth:0,borderColor:"#ccc"},lineStyle:{normal:{width:"1",color:"#cccccc"}},symbolSize:"8",symbol:"emptyCircle",smooth:!1,color:["#1890FF","#36CBCB","#4ECB73","#FBD437","#F2637B","#975FE5"],label:{color:"#ffffff"}},map:{itemStyle:{areaColor:"#eeeeee",borderColor:"#aaaaaa",borderWidth:.5},label:{color:"#ffffff"}},geo:{itemStyle:{areaColor:"#eeeeee",borderColor:"#aaaaaa",borderWidth:.5},label:{color:"#ffffff"}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!0,lineStyle:{color:"#cccccc"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},toolbox:{iconStyle:{borderColor:"#999999"}},legend:{textStyle:{color:"#999999"}},tooltip:{axisPointer:{lineStyle:{color:"#ffffff",width:1},crossStyle:{color:"#ffffff",width:1}}},timeline:{lineStyle:{color:"#4ECB73",width:1},itemStyle:{color:"#4ECB73",borderWidth:1},controlStyle:{color:"#4ECB73",borderColor:"#4ECB73",borderWidth:.5},checkpointStyle:{color:"#1890FF",borderColor:"rgba(63,177,227,0.15)"},label:{color:"#4ECB73"}},visualMap:{color:["#1890FF","#afe8ff"]},dataZoom:{backgroundColor:"rgba(255,255,255,0)",dataBackgroundColor:"rgba(222,222,222,1)",fillerColor:"rgba(114,230,212,0.25)",handleColor:"#cccccc",handleSize:"100%",textStyle:{color:"#999999"}},markPoint:{label:{color:"#ffffff"}}};e("u-theme",f);const m={ref:"dom",style:{height:"100%"}};var p=o({name:"UChart",props:{options:{type:Object,default:()=>({})},renderer:{type:String,default:"canvas"},theme:{type:[String,Object],default:""}},data:()=>({chart:null,timer:!1}),watch:{options:{deep:!0,handler(){this.updateOptions()}}},mounted(){this.chart=t(this.$refs.dom,this.theme||f,{renderer:this.renderer}),this.updateOptions()},methods:{updateOptions(){if(this.timer&&clearTimeout(this.timer),this.chart)if(Array.isArray(this.options)){let e=0;const t=this.options.length,o=()=>{var r,i;if(this.chart.setOption(this.options[e]),e++,e>=t)return;const a=(null==(i=null==(r=this.options[e-1])?void 0:r.series)?void 0:i.animationDurationUpdate)||500;this.timer=setTimeout(o,a)};o()}else this.chart.setOption(this.options)}}},[["render",function(e,t,o,a,s,l){return r(),i("div",m,null,512)}]]);class b{constructor(e,t={}){if(t=Object.assign({antialias:!1,depthTest:!1,mousemove:!1,autosize:!0,side:"front",vertex:"\n          #define M_PI 3.14159\n          precision highp float;\n          attribute vec4 a_position;\n          attribute vec4 a_color;\n          uniform vec2 u_resolution;\n          uniform vec2 u_mousemove;\n          precision highp float;\n          uniform float u_time;\n          uniform float u_size;\n          uniform float u_speed;\n          uniform vec3 u_field;\n          uniform mat4 u_projection;\n          varying vec4 v_color;\n          void main() {\n            vec3 pos = a_position.xyz;\n            pos.y += (\n              cos(pos.x / u_field.x * M_PI * 8.0 + u_time * u_speed) +\n              sin(pos.z / u_field.z * M_PI * 8.0 + u_time * u_speed)\n          ) * u_field.y;\n            gl_Position = u_projection * vec4(pos.xyz, a_position.w);\n            gl_PointSize = (u_size / gl_Position.w) * 100.0;\n            v_color = a_color;\n          }",fragment:"\n          precision highp float;\n          uniform sampler2D u_texture;\n          uniform int u_hasTexture;\n          varying vec4 v_color;\n          void main() {\n            gl_FragColor = v_color * texture2D(u_texture, gl_PointCoord);\n          }",uniforms:{},buffers:{},camera:{},texture:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAb1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8v0wLRAAAAJHRSTlMAC/goGvDhmwcExrVjWzrm29TRqqSKenRXVklANSIUE8mRkGpv+HOfAAABCElEQVQ4y4VT13LDMAwLrUHteO+R9f/fWMfO6dLaPeKVEECRxOULWsEGpS9nULDwia2Y+ALqUNbAWeg775zv+sA4/FFRMxt8U2FZFCVWjR/YrH4/H9sarclSKdPMWKzb8VsEeHB3m0shkhVCyNzeXeAQ9Xl4opEieX2QCGnwGbj6GMyjw9t1K0fK9YZunPXeAGsfJtYjwzxaBnozGGorYz0ypK2HzQSYx1y8DgSRo2ewOiyh2QWOEk1Y9OrQV0a8TiBM1a8eMHWYnRMy7CZ4t1CmyRkhSUvP3gRXyHOCLBxNoC3IJv//ZrJ/kxxUHPUB+6jJZZHrpg6GOjnqaOmzp4NDR48OLxn/H27SRQ08S0ZJAAAAAElFTkSuQmCC",onUpdate:()=>{},onResize:()=>{}},t),!e)return!1;const o=Object.assign({time:{type:"float",value:0},hasTexture:{type:"int",value:0},resolution:{type:"vec2",value:[0,0]},mousemove:{type:"vec2",value:[0,0]},projection:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},t.uniforms),r=Object.assign({position:{size:3,data:[]},color:{size:4,data:[]}},t.buffers),i=Object.assign({fov:60,near:1,far:1e3,aspect:1,z:110,perspective:!0},t.camera),a=document.createElement("canvas"),s=a.getContext("webgl",{antialias:t.antialias});if(!s)return!1;this.count=0,this.gl=s,this.canvas=a,this.camera=i,this.holder=e,this.onUpdate=t.onUpdate,this.onResize=t.onResize,this.data={},e.appendChild(a),this.createProgram(t.vertex,t.fragment),this.createBuffers(r),this.createUniforms(o),this.updateBuffers(),this.updateUniforms(),this.createTexture(t.texture),s.enable(s.BLEND),s.enable(s.CULL_FACE),s.blendFunc(s.SRC_ALPHA,s.ONE),s[t.depthTest?"enable":"disable"](s.DEPTH_TEST),t.autosize&&window.addEventListener("resize",(e=>this.resize(e)),!1),t.mousemove&&window.addEventListener("mousemove",(e=>this.mousemove(e)),!1),this.resize(),this.update=this.update.bind(this),this.time={start:performance.now(),old:performance.now()},this.update()}mousemove(e){const t=e.pageX/this.width*2-1,o=e.pageY/this.height*2-1;this.uniforms.mousemove=[t,o]}resize(e){const t=this.holder,o=this.canvas,r=this.gl;if(!r||!o||!t)return;const i=this.width=t.offsetWidth,a=this.height=t.offsetHeight,s=this.aspect=i/a,l=this.dpi=devicePixelRatio;o.width=i*l,o.height=a*l,o.style.width=i+"px",o.style.height=a+"px",r.viewport(0,0,i*l,a*l),r.clearColor(0,0,0,0),this.uniforms.resolution=[i,a],this.uniforms.projection=this.setProjection(s),this.onResize(i,a,l)}setProjection(e){const t=this.camera;if(t.perspective){t.aspect=e;const o=t.fov*(Math.PI/180),r=Math.tan(.5*Math.PI-.5*o),i=1/(t.near-t.far),a=[r/t.aspect,0,0,0,0,r,0,0,0,0,(t.near+t.far)*i,-1,0,0,t.near*t.far*i*2,0];return a[14]+=t.z,a[15]+=t.z,a}return[2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,0,-1,1,0,1]}createShader(e,t){const o=this.gl,r=o.createShader(e);if(o.shaderSource(r,t),o.compileShader(r),o.getShaderParameter(r,o.COMPILE_STATUS))return r;o.deleteShader(r)}createProgram(e,t){const o=this.gl,r=this.createShader(o.VERTEX_SHADER,e),i=this.createShader(o.FRAGMENT_SHADER,t),a=o.createProgram();o.attachShader(a,r),o.attachShader(a,i),o.linkProgram(a),o.getProgramParameter(a,o.LINK_STATUS)?(o.useProgram(a),this.program=a):o.deleteProgram(a)}createUniforms(e){const t=this.gl,o=this.data.uniforms=e,r=this.uniforms={};Object.keys(o).forEach((e=>{o[e].location=t.getUniformLocation(this.program,"u_"+e),Object.defineProperty(r,e,{set:t=>{o[e].value=t,this.setUniform(e,t)},get:()=>o[e].value})}))}setUniform(e,t){const o=this.gl,r=this.data.uniforms[e];switch(r.value=t,r.type){case"int":o.uniform1i(r.location,t);break;case"float":o.uniform1f(r.location,t);break;case"vec2":o.uniform2f(r.location,...t);break;case"vec3":o.uniform3f(r.location,...t);break;case"vec4":o.uniform4f(r.location,...t);break;case"mat2":o.uniformMatrix2fv(r.location,!1,t);break;case"mat3":o.uniformMatrix3fv(r.location,!1,t);break;case"mat4":o.uniformMatrix4fv(r.location,!1,t)}}updateUniforms(){const e=this.data.uniforms;Object.keys(e).forEach((t=>{const o=e[t];this.uniforms[t]=o.value}))}createBuffers(e){const t=this.data.buffers=e,o=this.buffers={};Object.keys(t).forEach((e=>{const r=t[e];r.buffer=this.createBuffer("a_"+e,r.size),Object.defineProperty(o,e,{set:o=>{t[e].data=o,this.setBuffer(e,o),"position"===e&&(this.count=t.position.data.length/3)},get:()=>t[e].data})}))}createBuffer(e,t){const o=this.gl,r=this.program,i=o.getAttribLocation(r,e),a=o.createBuffer();return o.bindBuffer(o.ARRAY_BUFFER,a),o.enableVertexAttribArray(i),o.vertexAttribPointer(i,t,o.FLOAT,!1,0,0),a}setBuffer(e,t){const o=this.gl,r=this.data.buffers;(null!=e||o.bindBuffer(o.ARRAY_BUFFER,null))&&(o.bindBuffer(o.ARRAY_BUFFER,r[e].buffer),o.bufferData(o.ARRAY_BUFFER,new Float32Array(t),o.STATIC_DRAW))}updateBuffers(){const e=this.buffers;Object.keys(e).forEach((t=>{e[t]=t.data})),this.setBuffer(null)}createTexture(e){const t=this.gl,o=t.createTexture();t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,0,0])),this.texture=o,e&&(this.uniforms.hasTexture=1,this.loadTexture(e))}loadTexture(e){const t=this.gl,o=this.texture,r=new Image;r.onload=()=>{t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},r.src=e}update(){const e=this.gl;if(!e)return;const t=performance.now(),o=(t-this.time.start)/5e3,r=t-this.time.old;this.time.old=t,this.uniforms.time=o,this.count>0&&(e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.POINTS,0,this.count)),this.onUpdate(r),requestAnimationFrame(this.update)}clear(){const e=this.gl,t=this.holder;e&&t&&(e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT),e.getAttachedShaders(this.program).forEach((t=>{e.deleteShader(t)})),e.deleteProgram(this.program),Object.values(this.data.buffers).forEach((({buffer:t})=>{e.deleteBuffer(t)})),e.deleteTexture(this.texture),this.program=null,this.data=null,this.buffers=null,this.texture=null,this.camera=null,this.holder=null,this.canvas=null,this.gl=null)}}const y=a({setup(){let e;const t=n({tooltip:{show:!0},xAxis:[{type:"category",boundaryGap:!1,data:[],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"条形图1",type:"line",data:[],areaStyle:{show:!0},itemStyle:{borderRadius:[0,5,5,0],color:new u(0,0,1,0,["#feac5e"," #c779d0"].map(((e,t)=>({color:e,offset:t}))))}}]}),o=n({tooltip:{show:!0},xAxis:[{type:"category",boundaryGap:!0,data:[],splitLine:{show:!1},axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",splitLine:{lineStyle:{color:"rgba(250,250,250,0.08)"}}}],series:[{name:"折线图2",type:"line",data:[],itemStyle:{color:"#feac5e"}},{name:"柱状图2",type:"bar",data:[],itemStyle:{borderRadius:[4,4,0,0],color:"#c779d0"}}]});function r(e=1,t=1e4,o=0){return Array(e).toString().split(",").map((()=>Math.random()*(t-o)|0))}const i=c([]);function a(){i.value.length||(i.value=r(20,2e4,1e4)),i.value=i.value.slice(1).concat(r(1,2e4,1e4)),t.xAxis[0].data=i,t.series[0].data=i;const s=i.value.slice(0,10);o.xAxis[0].data=s,o.series[0].data=s,o.series[1].data=i.value.slice(10),e=setTimeout(a,5e3)}return h((()=>{a();new b(document.getElementById("Qvq"),{uniforms:{size:{type:"float",value:8},field:{type:"vec3",value:[0,0,0]},speed:{type:"float",value:7}},onResize(e,t,o){const r=[],i=[],a=e/t*400;for(let s=0;s<a;s+=9)for(let e=0;e<500;e+=9)r.push(-a/2+s,-30,-250+e),i.push(0,0,0,1);this.uniforms&&(this.uniforms.field=[a,7,500],this.uniforms.size=t/400*8*o),this.buffers&&(this.buffers.position=r,this.buffers.color=i)}})})),d((()=>{e&&clearTimeout(e)})),{len20list:[],line1:t,line2:o}}}),g={class:"u-card"},v=s("div",{class:"u-card__hd"},[s("cite",{class:"u-card__title"},"折线图1")],-1),A={class:"u-card__bd"},x=s("div",{class:"u-card__hd"},[s("cite",{class:"u-card__title"},"折线图2")],-1),S={class:"u-card__bd",style:{background:"#21285f"}},_=s("div",{class:"u-card__bd",style:{background:"#21285f"}},[s("div",{id:"Qvq",style:{height:"500px",position:"fixed",bottom:"0",right:"0",left:"0","pointer-events":"none",opacity:"0.2"}})],-1);var E=o(y,[["render",function(e,t,o,a,n,c){const h=p;return r(),i("div",null,[s("div",g,[v,s("div",A,[l(h,{style:{height:"200px"},options:e.line1},null,8,["options"])]),x,s("div",S,[l(h,{style:{height:"200px"},options:e.line2},null,8,["options"])]),_])])}]]);export{E as default};
