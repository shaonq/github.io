import{s as e}from"../shaonq/shaonq.e47bfeb9.js";import{f as t,r as s,k as i,v as o,x as a,I as n,Q as l,F as d,B as u,K as p,J as r}from"../@vue/@vue.a9907412.js";import{_ as c}from"../index.56e2a9af.js";import"../vue-router/vue-router.30f59dce.js";import"../pinia/pinia.2d6c69fe.js";import"../vue-demi/vue-demi.784001c0.js";import"../vite-plugin-mock/vite-plugin-mock.5f58db78.js";import"../mockjs/mockjs.69e5819b.js";import"../path-to-regexp/path-to-regexp.dea237f3.js";const m=t({setup(){const t=s("https://shaonq.github.io/md/file/如何快速实现网页预览PDF文件.pdf"),i=s(void 0);async function o(t,s){return window.pdfjsLib||(await e.loadJs("https://unpkg.com/pdfjs-dist@2.5.207/build/pdf.js"),window.pdfjsLib.GlobalWorkerOptions.workerSrc="https://unpkg.com/pdfjs-dist@2.5.207/build/pdf.worker.js"),new Promise((function(e,i){window.pdfjsLib.getDocument(s).promise.then((s=>{const i=s.numPages,o=e=>{var a;(a=e,s.getPage(a).then((function(e){const s=e.getViewport({scale:2});let i=document.createElement("canvas");i.width=s.width||794,i.height=s.height||1123,i.style.width="100%",i.style.display="block",i.style.borderRadius="4px";const o=i.getContext("2d"),a=e.render({canvasContext:o,viewport:s});let n=document.createElement("div");return n.className="pdfSection",n.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.16)",n.style.margin="12px",n.style.borderRadius="4px",n.appendChild(i),t.appendChild(n),n=i=null,a.promise}))).then((()=>{e++,i>=e&&o(e)}))};o(1),e(i)})).catch(i)}))}return{value:t,loading:i,loadDemo:async function(){i.value=!0;try{const s=document.getElementById("view"),a=await o(s,t.value);e.showNearby({content:`加载了一个 ${a} 页的pdf文件`,offset:["100px","auto"]}),i.value=!1}catch(s){}}}}}),f={class:"u-quill-body"},v=a("h1",null,"在线阅读pdf",-1),h={class:"u-flex"},g={class:"u-flex__item"},w={style:{"min-height":"600px"}},b={key:0,class:"u-skeleton is-loading"},j={id:"view",class:"pdfViewer"};var x=c(m,[["render",function(e,t,s,c,m,x){return i(),o("div",null,[a("div",f,[v,a("div",h,[a("div",g,[n(a("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),class:"u-input",placeholder:"请输入一个在线地址"},null,512),[[l,e.value]])]),a("div",null,[a("button",{class:"u-btn u-ml",onClick:t[1]||(t[1]=t=>e.loadDemo())},"在线查看")])]),a("div",w,[!0===e.loading?(i(),o("div",b,[(i(),o(d,null,u(10,(e=>a("p",{key:e,class:"u-skeleton__item"}))),64))])):p("",!0),n(a("div",j,null,512),[[r,!1===e.loading]])])])])}]]);export{x as default};
