/*! na.js */
;!function(){var c=$("#NA_app");var e={};var d=top!==self;if(d){var g=nui.open;nui.open=function(){if(typeof arguments[0]==="object"&&arguments[0].type===4){return g.apply(nui,arguments)}return top.window.nui.open.apply(top.window.nui,arguments)}}var h=$("#NA_iframe",top.window.document.body);e.contentWindow=h[0].contentWindow;e.router={isOk:function(){if(h.length){return true}nui.toast("错误的路由指令");return false},load:function(){var i=h.parents(".na-body");if(i.length){i.addClass("is-loading");h.one("load",function(){i.removeClass("is-loading")})}},push:function(i){if(this.isOk()){h.attr("src",i);this.load()}},refresh:function(){if(this.isOk()){h[0].contentWindow.location.reload(true);this.load()}}};var b=(function(){var o,n=[["requestFullscreen","exitFullscreen"],["webkitRequestFullscreen","webkitExitFullscreen"],["webkitRequestFullScreen","webkitCancelFullScreen"],["mozRequestFullScreen","mozCancelFullScreen"],["msRequestFullscreen","msExitFullscreen"]],m=0,j=n.length,k={};for(;m<j;m++){o=n[m];if(o&&o[1] in document){for(m=0;m<o.length;m++){k[n[0][m]]=o[m]}return k}}return false})();var f=typeof Element!=="undefined"&&"ALLOW_KEYBOARD_INPUT" in Element;e.requestFullscreen=function(j){j=j||document.documentElement;var i=b.requestFullscreen;if(/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)){j[i]()}else{j[i](f&&Element.ALLOW_KEYBOARD_INPUT)}};e.exitFullscreen=function(){document[b.exitFullscreen]()};var a=function(i){return $("["+i+"]")};a("na-route").on("click",function(){e.router.push(this.getAttribute("na-route"))});a("na-click").on("click",function(){var k=$(this),j=k.attr("na-click");if(j){switch(j){case"refresh":e.router.refresh();break;case"fullscreen":var i="is-fullscreen";if(c.hasClass(i)){c.removeClass(i);e.exitFullscreen()}else{c.addClass(i);e.requestFullscreen()}break}}});window.na=e}(jQuery,nui);