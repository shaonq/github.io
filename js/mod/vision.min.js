define(function(t){var e=t("jquery"),i={};window.requestAnimationFrame=window.requestAnimationFrame||function(t){return setInterval(t,1e3/10)};window.cancelAnimationFrame=window.cancelAnimationFrame||function(t){clearInterval(t)};i.util={each:function(t,e){var i=0,n=t.length;for(;i<n;i++){if(e(i,t[i])===false){break}}return this},random:function(t,e){return!e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1)),this},addText:function(t,e,i,n){n=n||{},n.index=0;return function(){t.innerHTML=e.substr(0,n.index)+(n.text||"");n.index++;n.each&&n.each();var r=requestAnimationFrame(arguments.callee);e.length<n.index&&(cancelAnimationFrame(r),i&&i())}(),this},drop:function(t){var e=[],i,n=this.on;var r=function(n){i=true;e=[t.offsetLeft-(n.clientX||n.touches[0].clientX),t.offsetTop-(n.clientY||n.touches[0].clientY)]};var a=function(n){if(i){t.style.right="auto";t.style.left=(n.clientX||n.touches[0].clientX)+e[0]+"px";t.style.top=(n.clientY||n.touches[0].clientY)+e[1]+"px"}};n(t,"mousedown",function(t){if(t.target.tagName=="P"){r(t)}});n(t,"touchstart",function(t){r(t)});n(document,"mouseup",function(t){i=false});n(document,"touchend",function(t){i=false});n(document,"mousemove",function(t){t.preventDefault();a(t)});n(document,"touchmove",function(t){t.preventDefault();a(t)});return this},on:function(t,e,n){return t.attachEvent?t.attachEvent("on"+e,function(){n.call(t,window.event)}):t.addEventListener(e,n,false),i.util}};i.mind=function(t){var e={};e.init=function(){t.el.html('<div class="mind-note"></div><div class="style"><p  type="hd">console: index.css</p><div type="bd"><div class="line"></div><style spellcheck="false" class="code"></style></div></div>');setTimeout(function(){e.main()},1800)}();e.main=function(){var t=document.querySelector(".mind-note");var e=document.querySelector(".code");var n=document.querySelector(".style");var r=function(){var t=(e.offsetHeight-2*14)/16;var i="";for(var n=1;n<=t;n++){i+=n+"<br />"}if(document.querySelector(".line"))document.querySelector(".line").innerHTML=i};var a='{<p> 蒹葭苍苍，白露为霜。</p>\n<p>所谓伊人，在水一方。\n<p class="right"><a>【作者】</a>佚名 <a>【朝代】</a>先秦,</p>\n}';var o=".mind-note p {\n    margin-left: 40px;\n    line-height: 1.4;\n}\n.mind-note a {\n    color: #2d9cd0;\n    margin-left: 10px;\n}\n";i.util.addText(t,a,function(){n.style.display="block";i.util.addText(e,o,function(){e.setAttribute("contenteditable",true);i.util.on(e,"focus",function(){n.style.background="#ebeeef"}).on(e,"blur",function(){n.style.background="#fafafa";window.scroll(0,0)}).on(e,"input",function(){r()})},{each:function(){r()}})},{text:"<em>|</em>"}).drop(n)}};i.parallax=function(t){var e={};e.init=function(){var i="<style>/**视觉差 */\r\n                .parallax { width: 400px; margin: 30px; display: inline-block; text-align: left; text-decoration: none; position: relative; vertical-align: top; }\r\n            .parallax .tl , .parallax .tr , .parallax .bl , .parallax .br { position: absolute; width: 50%; height: 50%; z-index: 10; }\r\n            .parallax .tl { left: 0; top: 0; }\r\n            .parallax .tr { right: 0; top: 0; }\r\n            .parallax .bl { left: 0; bottom: 0; }\r\n            .parallax .br { right: 0; bottom: 0; }\r\n            .parallax .warp { width: 100%; background: #fff; box-shadow: rgba(0, 0, 0, 0.15) 0 3px 20px; -webkit-transform: perspective(1000px); transform: perspective(1000px); -webkit-transform-style: preserve-3d; transform-style: preserve-3d; -webkit-transition: all 0.4s ease; transition: all 0.4s ease; }\r\n            .parallax .br:hover ~ .warp { -webkit-transform: perspective(1000px) rotateX(3deg) rotateY(-3deg); transform: perspective(1000px) rotateX(3deg) rotateY(-3deg); }\r\n            .parallax .tl:hover ~ .warp { -webkit-transform: perspective(1000px) rotateX(-3deg) rotateY(3deg); transform: perspective(1000px) rotateX(-3deg) rotateY(3deg); }\r\n            .parallax .tr:hover ~ .warp { -webkit-transform: perspective(1000px) rotateX(-3deg) rotateY(-3deg); transform: perspective(1000px) rotateX(-3deg) rotateY(-3deg); }\r\n            .parallax .bl:hover ~ .warp { -webkit-transform: perspective(1000px) rotateX(3deg) rotateY(3deg); transform: perspective(1000px) rotateX(3deg) rotateY(3deg); }</style>";i+='<div style="width: 920px;margin: 20px auto 0"><div class="parallax"><i class="tl"></i><i class="tr"></i><i class="bl"></i><i class="br"></i><div class="warp"><img src="http://p2.wmpic.me/article/2015/06/02/1433222287_QyEEtuic.jpg"></div></div><div class="parallax"><i class="tl"></i><i class="tr"></i><i class="bl"></i><i class="br"></i><div class="warp"><img src="http://p1.wmpic.me/article/2015/10/27/1445916243_CmCpJHtM.JPG"></div></div></div>';t.el.html(i);setTimeout(function(){e.main()},1800)}();e.main=function(){}};i.flip=function(t){var e="<style>/**视觉差 */\r\n                .flip,.flip-item,.flip img {transition: 500ms;width: 100% }\r\n                .flip {position: relative;transform: perspective(1000px) rotateY(0);  }\r\n                .flip:hover{transform: perspective(1000px) rotateY(-180deg); }\r\n                .flip-item{position: absolute;left: 0;top:0;box-shadow: rgba(0, 0, 0, 0.15) 0 4px 16px; }\r\n                .flip-item+.flip-item{visibility: hidden;opacity: 0;transform: rotateY(-180deg) }\r\n                .flip:hover .flip-item+.flip-item {visibility: visible;opacity: 1 }\r\n            }</style>";e+='<div style="width: 300px;margin: 20px auto 0">\r\n            <div class="flip"> <div class="flip-item"><img src="http://p2.wmpic.me/article/2015/06/02/1433222287_QyEEtuic.jpg"></div><div class="flip-item"><img src="http://p1.wmpic.me/article/2015/10/27/1445916243_CmCpJHtM.JPG"></div> </div>\r\n        </div>';t.el.html(e)};return i});