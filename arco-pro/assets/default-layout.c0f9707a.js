import{a as J,_ as Z,u as ae,c as F,d as Ce,L as Le,e as Se,f as ne,l as te,g as ce}from"./index.e95f60a7.js";import{F as Me}from"./index.f3525865.js";import{aS as ie,d as E,aJ as B,A as i,aC as y,aF as e,aG as r,E as p,aL as M,aM as S,C as Y,B as T,aH as W,D as U,aD as D,bT as Be,aI as q,bs as Te,bf as ue,bt as De,b6 as le,bo as Ie,bP as Re,bQ as Ee,b5 as Ze,bR as Fe,e as R,r as Ve,t as Ae,c as z,u as f,bb as Pe,by as je,aT as se,bz as Ne,bk as Oe,F as Ue,i as Ke,bU as We,bV as qe,bW as He,bX as Je,bY as Ye,bZ as Ge,b_ as Qe,h as X,bx as ee,b$ as Xe,c0 as eo,w as de,c1 as oo,b8 as ro,b9 as ao,c2 as no,o as to,c3 as co,c4 as io,bq as oe,bD as uo,c5 as lo,p as so,bH as mo,c6 as po,c7 as go,aV as ho,c8 as bo,c9 as vo}from"./arco.634a02a4.js";import{f as H,i as fo,h as xo,j as me,k as _o}from"./vue.8bc1e739.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{a as ko,s as yo}from"./message.d514a750.js";import{u as wo}from"./loading.a603a303.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chart.a55f755a.js";function zo(){const n=H(),a=J();return{logout:async u=>{await a.logout();const h=n.currentRoute.value;ie.success("\u767B\u51FA\u6210\u529F"),n.push({name:u&&typeof u=="string"?u:"login",query:{...n.currentRoute.value.query,redirect:h.name}})}}}const $o=M("\u672A\u5F00\u59CB"),Co=M("\u5DF2\u5F00\u901A"),Lo=M("\u8FDB\u884C\u4E2D"),So=M("\u5373\u5C06\u5230\u671F"),Mo=["onClick"],Bo=["src"],To={class:"footer-wrap"},Do={class:"footer-wrap"},Io=E({__name:"list",props:{renderList:{type:Array,required:!0},unreadCount:{type:Number,default:0}},emits:["itemClick"],setup(n,{emit:a}){const d=n,u=()=>{a("itemClick",[...d.renderList])},h=b=>{b.status||a("itemClick",[b])},m=3;return(b,x)=>{const L=Te,t=B("icon-desktop"),w=ue,$=De,c=le,g=Ie,_=Re,o=Ee,l=Ze,k=Fe;return i(),y(k,{bordered:!1},{footer:e(()=>[r(c,{fill:"",size:0,class:Y({"add-border-top":n.renderList.length<m})},{default:e(()=>[p("div",To,[r(l,{onClick:u},{default:e(()=>[M(S(b.$t("messageBox.allRead")),1)]),_:1})]),p("div",Do,[r(l,null,{default:e(()=>[M(S(b.$t("messageBox.viewMore")),1)]),_:1})])]),_:1},8,["class"])]),default:e(()=>[(i(!0),T(q,null,W(n.renderList,v=>(i(),y(o,{key:v.id,"action-layout":"vertical",style:U({opacity:v.status?.5:1})},{extra:e(()=>[v.messageType===0?(i(),y(L,{key:0,color:"gray"},{default:e(()=>[$o]),_:1})):v.messageType===1?(i(),y(L,{key:1,color:"green"},{default:e(()=>[Co]),_:1})):v.messageType===2?(i(),y(L,{key:2,color:"blue"},{default:e(()=>[Lo]),_:1})):v.messageType===3?(i(),y(L,{key:3,color:"red"},{default:e(()=>[So]),_:1})):D("",!0)]),default:e(()=>[p("div",{class:"item-wrap",onClick:C=>h(v)},[r(_,null,Be({title:e(()=>[r(c,{size:4},{default:e(()=>[p("span",null,S(v.title),1),r($,{type:"secondary"},{default:e(()=>[M(S(v.subTitle),1)]),_:2},1024)]),_:2},1024)]),description:e(()=>[p("div",null,[r(g,{ellipsis:{rows:1}},{default:e(()=>[M(S(v.content),1)]),_:2},1024),v.type==="message"?(i(),y($,{key:0,class:"time-text"},{default:e(()=>[M(S(v.time),1)]),_:2},1024)):D("",!0)])]),_:2},[v.avatar?{name:"avatar",fn:e(()=>[r(w,{shape:"circle"},{default:e(()=>[v.avatar?(i(),T("img",{key:0,src:v.avatar},null,8,Bo)):(i(),y(t,{key:1}))]),_:2},1024)])}:void 0]),1024)],8,Mo)]),_:2},1032,["style"]))),128)),n.renderList.length&&n.renderList.length<3?(i(),T("div",{key:0,style:U({height:(m-n.renderList.length)*86+"px"})},null,4)):D("",!0)]),_:1})}}});var Ro=Z(Io,[["__scopeId","data-v-26899795"]]);const Eo=E({__name:"index",setup(n){const{loading:a,setLoading:d}=wo(!0),u=R("message"),{t:h}=ae(),m=Ve({renderList:[],messageList:[]});Ae(m);const b=[{key:"message",title:h("messageBox.tab.title.message")},{key:"notice",title:h("messageBox.tab.title.notice")},{key:"todo",title:h("messageBox.tab.title.todo")}];async function x(){d(!0);try{const{data:o}=await ko();m.messageList=o}catch{}finally{d(!1)}}async function L(o){const l=o.map(k=>k.id);await yo({ids:l}),x()}const t=z(()=>m.messageList.filter(o=>u.value===o.type)),w=z(()=>t.value.filter(o=>!o.status).length),$=o=>m.messageList.filter(k=>k.type===o&&!k.status),c=o=>{const l=$(o);return l.length?`(${l.length})`:""},g=o=>{t.value.length&&L([...o])},_=()=>{m.messageList=[]};return x(),(o,l)=>{const k=Pe,v=je,C=se,I=Ne,V=Oe;return i(),y(V,{style:{display:"block"},loading:f(a)},{default:e(()=>[r(I,{activeKey:u.value,"onUpdate:activeKey":l[0]||(l[0]=s=>u.value=s),type:"rounded","destroy-on-hide":""},{extra:e(()=>[r(C,{type:"text",onClick:_},{default:e(()=>[M(S(o.$t("messageBox.tab.button")),1)]),_:1})]),default:e(()=>[(i(),T(q,null,W(b,s=>r(v,{key:s.key},{title:e(()=>[p("span",null,S(s.title)+S(c(s.key)),1)]),default:e(()=>[f(t).length?D("",!0):(i(),y(k,{key:0,status:"404"},{subtitle:e(()=>[M(S(o.$t("messageBox.noContent")),1)]),_:1})),r(Ro,{"render-list":f(t),"unread-count":f(w),onItemClick:g},null,8,["render-list","unread-count"])]),_:2},1024)),64))]),_:1},8,["activeKey"])]),_:1},8,["loading"])}}});var Zo=Z(Eo,[["__scopeId","data-v-5b275306"]]);const Fo={width:"143",height:"24",xmlns:"http://www.w3.org/2000/svg"},Vo=Ue('<g fill="none" fill-rule="evenodd"><path d="m3.878 11.98 7.372-7.55a5.096 5.096 0 0 1 7.292 0l.08.083a5.226 5.226 0 0 1 0 7.302l-7.372 7.55a5.096 5.096 0 0 1-7.292 0l-.08-.083a5.226 5.226 0 0 1 0-7.302Z" fill="#12D2AC"></path><path d="m18.548 4.43 7.292 7.467a5.344 5.344 0 0 1 0 7.467 5.096 5.096 0 0 1-7.292 0l-7.292-7.467a5.344 5.344 0 0 1 0-7.467 5.096 5.096 0 0 1 7.292 0Z" fill="#307AF2"></path><path d="m18.632 4.522 3.553 3.638-7.292 7.467L7.601 8.16l3.553-3.638a5.226 5.226 0 0 1 7.478 0Z" fill="#0057FE"></path><path d="M78.644 19.268a1.85 1.85 0 1 0 0-3.7 1.85 1.85 0 0 0 0 3.7Z" fill="var(--color-text-1)"></path><path d="M45.454 8.335v10.659h-2.805v-1.177c-.693.858-1.727 1.452-3.19 1.452-2.937 0-5.159-2.409-5.159-5.61 0-3.201 2.222-5.61 5.159-5.61 1.463 0 2.486.594 3.19 1.463V8.335h2.805Zm-5.467 2.387c-1.683 0-2.75 1.309-2.75 2.937s1.067 2.937 2.75 2.937c1.639 0 2.75-1.254 2.75-2.937 0-1.683-1.111-2.937-2.75-2.937Zm13.167-2.673c.616 0 1.1.088 1.496.231l-.429 2.849c-.473-.209-1.155-.341-1.738-.341-1.331 0-2.244.814-2.244 2.398v5.808h-2.871V8.335h2.783v1.166c.671-1.001 1.694-1.452 3.003-1.452Zm7.007 0c1.782 0 3.289.726 4.268 2.013l-2.068 1.727c-.649-.693-1.342-1.067-2.277-1.067-1.485 0-2.673 1.166-2.673 2.937 0 1.782 1.177 2.937 2.662 2.937.924 0 1.716-.418 2.321-1.078l2.046 1.749c-1.001 1.287-2.497 2.002-4.279 2.002-3.399 0-5.676-2.376-5.676-5.61 0-3.223 2.277-5.61 5.676-5.61Zm10.12 0c3.322 0 5.775 2.398 5.775 5.61s-2.453 5.61-5.775 5.61c-3.311 0-5.753-2.398-5.753-5.61s2.442-5.61 5.753-5.61Zm0 2.673c-1.617 0-2.827 1.21-2.827 2.937 0 1.727 1.21 2.937 2.827 2.937s2.838-1.21 2.838-2.937c0-1.727-1.221-2.937-2.838-2.937Zm16.247-2.673c1.43 0 2.442.561 3.135 1.397V3.154h2.86v15.84h-2.805v-1.177c-.693.858-1.727 1.452-3.19 1.452-2.937 0-5.159-2.409-5.159-5.61 0-3.201 2.222-5.61 5.159-5.61Zm.528 2.673c-1.683 0-2.75 1.309-2.75 2.937s1.067 2.937 2.75 2.937c1.639 0 2.75-1.254 2.75-2.937 0-1.683-1.111-2.937-2.75-2.937Zm12.111-2.673c3.069 0 5.17 2.277 5.181 5.599 0 .33-.022.726-.055.968h-7.557c.308 1.54 1.386 2.211 2.739 2.211.924 0 1.925-.374 2.695-1.023l1.683 1.848c-1.21 1.111-2.75 1.617-4.543 1.617-3.267 0-5.533-2.222-5.533-5.577s2.2-5.643 5.39-5.643Zm-.022 2.475c-1.353 0-2.145.814-2.398 2.134h4.719c-.264-1.364-1.089-2.134-2.321-2.134Zm14.982-1.452-.968 2.233c-.847-.418-2.2-.858-3.399-.869-1.089 0-1.639.385-1.639.968 0 .616.77.77 1.738.913l.946.143c2.31.352 3.597 1.386 3.597 3.19 0 2.2-1.804 3.619-4.895 3.619-1.452 0-3.355-.275-4.741-1.254l1.133-2.178c.913.605 2.024 1.045 3.63 1.045 1.331 0 1.969-.374 1.969-1.001 0-.517-.539-.803-1.771-.979l-.869-.121c-2.464-.341-3.685-1.419-3.685-3.234 0-2.189 1.694-3.487 4.499-3.487 1.705 0 3.036.319 4.455 1.012Zm4.312-.737v10.659h-2.871V8.335h2.871Zm-1.452-5.181c1.034 0 1.837.814 1.837 1.848 0 1.034-.803 1.826-1.837 1.826a1.794 1.794 0 0 1-1.826-1.826c0-1.034.792-1.848 1.826-1.848Zm7.612 4.895c1.485 0 2.574.572 3.3 1.474V8.335h2.816v9.779c0 3.421-2.233 5.489-5.753 5.489-1.683 0-3.465-.44-4.664-1.287l1.023-2.343c1.067.704 2.244 1.089 3.52 1.089 1.782 0 3.036-.99 3.036-2.827v-.748c-.726.891-1.804 1.441-3.278 1.441-2.596 0-4.906-2.167-4.906-5.434 0-3.278 2.31-5.445 4.906-5.445Zm.726 2.64c-1.639 0-2.684 1.254-2.684 2.805 0 1.54 1.045 2.794 2.684 2.794 1.595 0 2.673-1.21 2.673-2.794 0-1.595-1.078-2.805-2.673-2.805Zm13.233-2.64c2.42 0 4.147 1.683 4.147 4.158v6.787h-2.871v-5.863c0-1.54-.77-2.387-2.079-2.387-1.232 0-2.255.803-2.255 2.409v5.841h-2.871V8.335h2.794v1.254c.759-1.133 1.925-1.54 3.135-1.54Z" fill="#fff" fill-rule="nonzero"></path></g>',1),Ao=[Vo];function Po(n,a){return i(),T("svg",Fo,Ao)}var jo={render:Po};const No={class:"navbar"},Oo={class:"layout-logo__warp"},Uo={class:"right-side"},Ko={class:"message-box-trigger"},Wo=["src"],qo=M(),Ho=M(),Jo=M(),Yo=M(),Go=E({__name:"index",setup(n){const a=F(),d=J(),{logout:u}=zo(),{changeLocale:h}=Ce(),m=[...Le],b=z(()=>a.menuCollapse?48:a.menuWidth),x=z(()=>a.menuCollapse),L=z(()=>d.avatar),t=z(()=>a.theme),w=fo({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(s){a.toggleTheme(s)}}),$=xo(w),c=()=>{$()},g=()=>{a.updateSettings({globalSettings:!0})},_=()=>{window.open("https://arco.design/vue/docs/pro/permission")},o=R(),l=R(),k=()=>{const s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});o.value.dispatchEvent(s)},v=()=>{u()},C=()=>{const s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});l.value.dispatchEvent(s)},I=async()=>{const s=await d.switchRoles();ie.success(s)},V=Ke("toggleDrawerMenu");return(s,K)=>{const pe=B("icon-home"),ge=B("icon-menu-fold"),A=le,he=B("icon-language"),P=se,j=We,N=qe,G=He,be=B("icon-moon-fill"),ve=B("icon-sun-fill"),fe=B("icon-notification"),xe=Je,_e=Ye,Q=B("icon-settings"),ke=B("icon-book"),ye=ue,we=B("icon-tag"),ze=B("icon-user"),$e=B("icon-export");return i(),T("div",No,[p("div",{class:"left-side layout-logo",style:U({width:f(b)+"px"})},[r(A,null,{default:e(()=>[p("div",Oo,[f(x)?(i(),y(pe,{key:1,class:"layout-logo__icon-logo"})):(i(),y(f(jo),{key:0}))]),f(a).device==="mobile"?(i(),y(ge,{key:0,style:{"font-size":"22px",cursor:"pointer"},onClick:f(V)},null,8,["onClick"])):D("",!0)]),_:1})],4),p("ul",Uo,[p("li",null,[r(j,{content:s.$t("settings.language")},{default:e(()=>[r(P,{class:"nav-btn",type:"outline",shape:"circle",onClick:C},{icon:e(()=>[r(he)]),_:1})]),_:1},8,["content"]),r(G,{trigger:"click",onSelect:f(h)},{content:e(()=>[(i(),T(q,null,W(m,O=>r(N,{key:O.value,value:O.value},{default:e(()=>[M(S(O.label),1)]),_:2},1032,["value"])),64))]),default:e(()=>[p("div",{ref_key:"triggerBtn",ref:l,class:"trigger-btn"},null,512)]),_:1},8,["onSelect"])]),p("li",null,[r(j,{content:f(t)==="light"?s.$t("settings.navbar.theme.toDark"):s.$t("settings.navbar.theme.toLight")},{default:e(()=>[r(P,{class:"nav-btn",type:"outline",shape:"circle",onClick:c},{icon:e(()=>[f(t)==="dark"?(i(),y(be,{key:0})):(i(),y(ve,{key:1}))]),_:1})]),_:1},8,["content"])]),p("li",null,[r(j,{content:s.$t("settings.navbar.alerts")},{default:e(()=>[p("div",Ko,[r(xe,{count:9,dot:""},{default:e(()=>[r(P,{class:"nav-btn",type:"outline",shape:"circle",onClick:k},{default:e(()=>[r(fe)]),_:1})]),_:1})])]),_:1},8,["content"]),r(_e,{trigger:"click","arrow-style":{display:"none"},"content-style":{padding:0,minWidth:"400px"},"content-class":"message-popover"},{content:e(()=>[r(Zo)]),default:e(()=>[p("div",{ref_key:"refBtn",ref:o,class:"ref-btn"},null,512)]),_:1})]),p("li",null,[r(j,{content:s.$t("settings.title")},{default:e(()=>[r(P,{class:"nav-btn",type:"outline",shape:"circle",onClick:g},{icon:e(()=>[r(Q)]),_:1})]),_:1},8,["content"])]),p("li",null,[r(j,{content:s.$t("settings.helpDocument")},{default:e(()=>[r(P,{class:"nav-btn",type:"outline",shape:"circle",onClick:_},{icon:e(()=>[r(ke)]),_:1})]),_:1},8,["content"])]),p("li",null,[r(G,{trigger:"click"},{content:e(()=>[r(N,null,{default:e(()=>[r(A,{onClick:I},{default:e(()=>[r(we),qo,p("span",null,S(s.$t("messageBox.switchRoles")),1)]),_:1})]),_:1}),r(N,null,{default:e(()=>[r(A,{onClick:K[0]||(K[0]=O=>s.$router.push({name:"Info"}))},{default:e(()=>[r(ze),Ho,p("span",null,S(s.$t("messageBox.userCenter")),1)]),_:1})]),_:1}),r(N,null,{default:e(()=>[r(A,{onClick:K[1]||(K[1]=O=>s.$router.push({name:"Setting"}))},{default:e(()=>[r(Q),Jo,p("span",null,S(s.$t("messageBox.userSettings")),1)]),_:1})]),_:1}),r(N,null,{default:e(()=>[r(A,{onClick:v},{default:e(()=>[r($e),Yo,p("span",null,S(s.$t("messageBox.logout")),1)]),_:1})]),_:1})]),default:e(()=>[r(ye,{size:32,style:{marginRight:"8px",cursor:"pointer"}},{default:e(()=>[p("img",{alt:"avatar",src:f(L)},null,8,Wo)]),_:1})]),_:1})])])])}}});var Qo=Z(Go,[["__scopeId","data-v-3bc37d2a"]]);const Xo=(n,a)=>{const{target:d="_blank",...u}=a||{};window.open(n,d,Object.entries(u).reduce((h,m)=>{const[b,x]=m;return[...h,`${b}=${x}`]},[]).join(","))},er=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),or=[...Se],rr=or.map(n=>{const{name:a,path:d,meta:u,redirect:h,children:m}=n;return{name:a,path:d,meta:u,redirect:h,children:m}});function ar(){const n=ne(),a=F(),d=z(()=>a.menuFromServer?a.appAsyncMenus:rr);return{menuTree:z(()=>{const h=JSON.parse(JSON.stringify(d.value));h.sort((b,x)=>(b.meta.order||0)-(x.meta.order||0));function m(b,x){return b?b.map(t=>{var $,c;if(!n.accessRouter(t))return null;if((($=t.meta)==null?void 0:$.hideChildrenInMenu)||!t.children)return t.children=[],t;t.children=t.children.filter(g=>{var _;return((_=g.meta)==null?void 0:_.hideInMenu)!==!0});const w=m(t.children,x+1);return w.length||x>1?(t.children=w,t):((c=t.meta)==null?void 0:c.hideInMenu)===!1?t:null}).filter(Boolean):null}return m(h,0)})}}function nr(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Ge(n)}var tr=E({emit:["collapse"],setup(){const{t:n}=ae(),a=F(),d=H(),u=me(),{menuTree:h}=ar(),m=z({get(){return a.device==="desktop"?a.menuCollapse:!1},set(c){a.updateSettings({menuCollapse:c})}}),b=R([]),x=R([]),L=c=>{if(er.test(c.path)){Xo(c.path),x.value=[c.name];return}const{hideInMenu:g,activeMenu:_}=c.meta;if(u.name===c.name&&!g&&!_){x.value=[c.name];return}d.push({name:c.name})},t=c=>{const g=[];let _=!1;const o=(l,k,v)=>{var C;if(l.name===v){_=!0,g.push(...k,l.name);return}(C=l.children)!=null&&C.length&&l.children.forEach(I=>{o(I,[...k],v)})};return h.value.forEach(l=>{_||o(l,[l.name],c)}),g};te(c=>{const{requiresAuth:g,activeMenu:_,hideInMenu:o}=c.meta;if(g&&(!o||_)){const l=t(_||c.name),k=new Set([...l,...b.value]);b.value=[...k],x.value=[_||l[l.length-1]]}},!0);const w=c=>{a.device==="desktop"&&a.updateSettings({menuCollapse:c})},$=()=>{function c(g,_=[]){return g&&g.forEach(o=>{var v;const l=(v=o==null?void 0:o.meta)!=null&&v.icon?()=>{var C;return X(ee(`<${(C=o==null?void 0:o.meta)==null?void 0:C.icon}/>`))}:null,k=(o==null?void 0:o.children)&&(o==null?void 0:o.children.length)!==0?r(Xe,{key:o==null?void 0:o.name},{default:()=>[c(o==null?void 0:o.children)],icon:l,title:()=>{var C;return X(ee(n(((C=o==null?void 0:o.meta)==null?void 0:C.locale)||"")))}}):r(eo,{key:o==null?void 0:o.name,onClick:()=>L(o)},{default:()=>{var C;return[n(((C=o==null?void 0:o.meta)==null?void 0:C.locale)||"")]},icon:l});_.push(k)}),_}return c(h.value)};return()=>{let c;return r(Qe,{class:"layout-menu",collapsed:m.value,"onUpdate:collapsed":g=>m.value=g,"open-keys":b.value,"onUpdate:open-keys":g=>b.value=g,"show-collapse-button":a.device!=="mobile","auto-open":!1,"selected-keys":x.value,"auto-open-selected":!0,"level-indent":34,style:"height: 100%",onCollapse:w},nr(c=$())?c:{default:()=>[c]})}}});var re=Z(tr,[["__scopeId","data-v-28cd1091"]]);const cr=n=>(ro("data-v-04fe86a0"),n=n(),ao(),n),ir={class:"tab-bar-container"},ur={class:"tab-bar-box"},lr={class:"tab-bar-scroll"},sr={class:"tags-wrap"},dr=["onClick"],mr={class:"tag-link"},pr=["onClick"],gr=cr(()=>p("div",{class:"tag-bar-operation"},null,-1)),hr=E({__name:"index",setup(n){const a=F(),d=ce(),u=H(),h=R(),m=z(()=>d.getTabList),b=z(()=>a.navbar?60:0);de(()=>a.navbar,()=>{h.value.updatePosition()}),te(t=>{!t.meta.noAffix&&!m.value.some(w=>w.fullPath===t.fullPath)&&d.updateTabList(t)},!0);const x=(t,w)=>{if(d.deleteTag(w,t),w===m.value.length){const $=m.value[m.value.length-1];u.push({name:$.name})}},L=t=>{u.push({...t})};return(t,w)=>{const $=B("icon-close"),c=no;return i(),T("div",ir,[r(c,{ref_key:"affixRef",ref:h,"offset-top":f(b)},{default:e(()=>[p("div",ur,[p("div",lr,[p("div",sr,[(i(!0),T(q,null,W(f(m),(g,_)=>(i(),T("span",{key:g.fullPath,class:Y(["arco-tag arco-tag-checked",{"link-activated":g.fullPath===t.$route.fullPath}]),onClick:o=>L(g)},[p("span",mr,S(t.$t(g.title)),1),p("span",{class:"arco-icon-hover arco-tag-icon-hover arco-icon-hover-size-medium arco-tag-close-btn",onClick:oo(o=>x(g,_),["stop"])},[r($)],8,pr)],10,dr))),128))])]),gr])]),_:1},8,["offset-top"])])}}});var br=Z(hr,[["__scopeId","data-v-04fe86a0"]]);function vr(n,a,d,u=!1){n.addEventListener&&typeof n.addEventListener=="function"&&n.addEventListener(a,d,u)}function fr(n,a,d,u=!1){n.removeEventListener&&typeof n.removeEventListener=="function"&&n.removeEventListener(a,d,u)}const xr=992;function _r(){return document.body.getBoundingClientRect().width-1<xr}function kr(n){const a=F();function d(){if(!document.hidden){const h=_r();a.toggleDevice(h?"mobile":"desktop"),a.toggleMenu(h)}}const u=_o(d,100);to(()=>{n&&u()}),co(()=>{vr(window,"resize",u)}),io(()=>{fr(window,"resize",u)})}const yr=E({__name:"page-layout",setup(n){const a=ce(),d=z(()=>a.getCacheList);return(u,h)=>{const m=B("router-view");return i(),y(m,null,{default:e(({Component:b,route:x})=>[r(lo,{name:"fade",mode:"out-in",appear:""},{default:e(()=>[x.meta.ignoreCache?(i(),y(oe(b),{key:x.fullPath})):(i(),y(uo,{key:1,include:f(d)},[(i(),y(oe(b),{key:x.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})}}});const wr={key:0,class:"layout-navbar"},zr={class:"menu-wrapper"},$r=E({__name:"default-layout",setup(n){const a=F(),d=J(),u=H(),h=me(),m=ne();kr(!0);const b="60px",x=z(()=>a.navbar),L=z(()=>a.menu),t=z(()=>a.hideMenu),w=z(()=>a.footer),$=z(()=>a.menuCollapse?48:a.menuWidth),c=z(()=>a.menuCollapse),g=z(()=>{const k=L.value&&!t.value?{paddingLeft:`${$.value}px`}:{},v=x.value?{paddingTop:b}:{};return{...k,...v}}),_=k=>{a.updateSettings({menuCollapse:k})};de(()=>d.role,k=>{k&&!m.accessRouter(h)&&u.push({name:"notFound"})});const o=R(!1),l=()=>{o.value=!1};return so("toggleDrawerMenu",()=>{o.value=!o.value}),(k,v)=>{const C=go,I=ho,V=bo,s=vo;return i(),y(s,{class:Y(["layout",{"layout-mobile":f(a).hideMenu,"layout-collapsed":f(c)}])},{default:e(()=>[f(x)?(i(),T("div",wr,[r(Qo)])):D("",!0),r(s,null,{default:e(()=>[r(s,null,{default:e(()=>[f(L)?mo((i(),y(C,{key:0,class:"layout-sider",breakpoint:"xl",collapsed:f(c),collapsible:!0,width:f($),style:U({paddingTop:f(x)?"60px":""}),"hide-trigger":!0,onCollapse:_},{default:e(()=>[p("div",zr,[r(re)])]),_:1},8,["collapsed","width","style"])),[[po,!f(t)]]):D("",!0),f(t)?(i(),y(I,{key:1,class:"layout-menu--drawer",visible:o.value,placement:"left",footer:!1,"mask-closable":"",closable:!1,onCancel:l},{default:e(()=>[r(re)]),_:1},8,["visible"])):D("",!0),r(s,{class:"layout-content",style:U(f(g))},{default:e(()=>[f(a).tabBar?(i(),y(br,{key:0})):D("",!0),r(V,null,{default:e(()=>[r(yr)]),_:1}),f(w)?(i(),y(Me,{key:1})):D("",!0)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1},8,["class"])}}});var qr=Z($r,[["__scopeId","data-v-e97e6754"]]);export{qr as default};
