var D=Object.defineProperty,P=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var j=(i,s,n)=>s in i?D(i,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[s]=n,g=(i,s)=>{for(var n in s||(s={}))G.call(s,n)&&j(i,n,s[n]);if(T)for(var n of T(s))J.call(s,n)&&j(i,n,s[n]);return i},N=(i,s)=>P(i,z(s));import{b as K,_ as V}from"./index.5d6a70c8.js";/* empty css                *//* empty css                *//* empty css                */import{d as w,e as y,A as b,aC as h,aF as a,aG as t,E as C,aM as m,aL as u,b1 as q,b6 as L,bu as I,bv as B,bC as O,aT as S,b5 as M,aR as Z,bB as H,b4 as U,B as R,bb as Q,bc as W,b3 as X,bo as Y,aJ as x,aD as ee,bD as te,u as oe,bE as ae,bF as re,bj as le,bk as se}from"./arco.820dc93e.js";import{u as ne}from"./loading.31c807e3.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               */import"./chart.70830779.js";import"./vue.d8391d64.js";function ie(i){return K.post("/api/channel-form/submit",{data:i})}const pe=u("APP\u901A\u7528\u6E20\u9053"),ue=w({emits:["changeStep"],setup(i,{emit:s}){const n=y(),e=y({activityName:"",channelType:"",promotionTime:[],promoteLink:"https://arco.design"}),f=async()=>{var o;await((o=n.value)==null?void 0:o.validate())||s("changeStep","forward",g({},e.value))};return(l,o)=>{const r=q,p=L,d=I,_=B,$=O,F=S,k=M;return b(),h(k,{ref_key:"formRef",ref:n,model:e.value,class:"form","label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:a(()=>[t(p,{field:"activityName",label:l.$t("stepForm.form.label.activityName"),rules:[{required:!0,message:l.$t("stepForm.form.error.activityName.required")},{match:/^[a-zA-Z0-9\u4e00-\u9fa5]{1,20}$/,message:l.$t("stepForm.form.error.activityName.pattern")}]},{default:a(()=>[t(r,{modelValue:e.value.activityName,"onUpdate:modelValue":o[0]||(o[0]=c=>e.value.activityName=c),placeholder:l.$t("stepForm.placeholder.activityName")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(p,{field:"channelType",label:l.$t("stepForm.form.label.channelType"),rules:[{required:!0,message:l.$t("stepForm.form.error.channelType.required")}]},{default:a(()=>[t(_,{modelValue:e.value.channelType,"onUpdate:modelValue":o[1]||(o[1]=c=>e.value.channelType=c),placeholder:l.$t("stepForm.placeholder.channelType")},{default:a(()=>[t(d,null,{default:a(()=>[pe]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(p,{field:"promotionTime",label:l.$t("stepForm.form.label.promotionTime"),rules:[{required:!0,message:l.$t("stepForm.form.error.promotionTime.required")}]},{default:a(()=>[t($,{modelValue:e.value.promotionTime,"onUpdate:modelValue":o[2]||(o[2]=c=>e.value.promotionTime=c)},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(p,{field:"promoteLink",label:l.$t("stepForm.form.label.promoteLink"),rules:[{required:!0,message:l.$t("stepForm.form.error.promoteLink.required")},{type:"url",message:l.$t("stepForm.form.error.promoteLink.pattern")}],"row-class":"keep-margin"},{help:a(()=>[C("span",null,m(l.$t("stepForm.form.tip.promoteLink")),1)]),default:a(()=>[t(r,{modelValue:e.value.promoteLink,"onUpdate:modelValue":o[3]||(o[3]=c=>e.value.promoteLink=c),placeholder:l.$t("stepForm.placeholder.promoteLink")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(p,null,{default:a(()=>[t(F,{type:"primary",onClick:f},{default:a(()=>[u(m(l.$t("stepForm.button.next")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}});var me=V(ue,[["__scopeId","data-v-d122e240"]]);const de=u("\u4ECA\u65E5\u5934\u6761"),ce=u("\u706B\u5C71"),_e=w({emits:["changeStep"],setup(i,{emit:s}){const n=y(),e=y({advertisingSource:"",advertisingMedia:"",keyword:[],pushNotify:!0,advertisingContent:""}),f=async()=>{var r;await((r=n.value)==null?void 0:r.validate())||s("changeStep","submit",g({},e.value))},l=()=>{s("changeStep","backward")};return(o,r)=>{const p=q,d=L,_=I,$=B,F=Z,k=H,c=S,A=U,E=M;return b(),h(E,{ref_key:"formRef",ref:n,model:e.value,class:"form","label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:a(()=>[t(d,{field:"advertisingSource",label:o.$t("stepForm.form.label.advertisingSource"),rules:[{required:!0,message:o.$t("stepForm.form.error.advertisingSource.required")}]},{default:a(()=>[t(p,{modelValue:e.value.advertisingSource,"onUpdate:modelValue":r[0]||(r[0]=v=>e.value.advertisingSource=v),placeholder:o.$t("stepForm.placeholder.advertisingSource")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(d,{field:"advertisingMedia",label:o.$t("stepForm.form.label.advertisingMedia"),rules:[{required:!0,message:o.$t("stepForm.form.error.advertisingMedia.required")}]},{default:a(()=>[t(p,{modelValue:e.value.advertisingMedia,"onUpdate:modelValue":r[1]||(r[1]=v=>e.value.advertisingMedia=v),placeholder:o.$t("stepForm.placeholder.advertisingMedia")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(d,{field:"keyword",label:o.$t("stepForm.form.label.keyword"),rules:[{required:!0,message:o.$t("stepForm.form.error.keyword.required")}]},{default:a(()=>[t($,{modelValue:e.value.keyword,"onUpdate:modelValue":r[2]||(r[2]=v=>e.value.keyword=v),placeholder:o.$t("stepForm.placeholder.keyword"),multiple:""},{default:a(()=>[t(_,null,{default:a(()=>[de]),_:1}),t(_,null,{default:a(()=>[ce]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(d,{field:"pushNotify",label:o.$t("stepForm.form.label.pushNotify"),rules:[{required:!0}]},{default:a(()=>[t(F,{modelValue:e.value.pushNotify,"onUpdate:modelValue":r[3]||(r[3]=v=>e.value.pushNotify=v)},null,8,["modelValue"])]),_:1},8,["label"]),t(d,{field:"advertisingContent",label:o.$t("stepForm.form.label.advertisingContent"),rules:[{required:!0,message:o.$t("stepForm.form.error.advertisingContent.required")},{maxLength:200,message:o.$t("stepForm.form.error.advertisingContent.maxLength")}],"row-class":"keep-margin"},{default:a(()=>[t(k,{modelValue:e.value.advertisingContent,"onUpdate:modelValue":r[4]||(r[4]=v=>e.value.advertisingContent=v),placeholder:o.$t("stepForm.placeholder.advertisingContent")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(d,null,{default:a(()=>[t(A,null,{default:a(()=>[t(c,{type:"secondary",onClick:l},{default:a(()=>[u(m(o.$t("stepForm.button.prev")),1)]),_:1}),t(c,{type:"primary",onClick:f},{default:a(()=>[u(m(o.$t("stepForm.button.next")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});var fe=V(_e,[["__scopeId","data-v-4d98230c"]]);const ve={class:"success-wrap"},be={class:"details-wrapper"},ge=w({emits:["changeStep"],setup(i,{emit:s}){const n=()=>{s("changeStep",1)};return(e,f)=>{const l=Q,o=S,r=U,p=W,d=X,_=Y;return b(),R("div",ve,[t(l,{status:"success",title:e.$t("stepForm.success.title"),subtitle:e.$t("stepForm.success.subTitle")},null,8,["title","subtitle"]),t(r,{size:16},{default:a(()=>[t(o,{key:"view",type:"primary"},{default:a(()=>[u(m(e.$t("stepForm.button.view")),1)]),_:1}),t(o,{key:"again",type:"secondary",onClick:n},{default:a(()=>[u(m(e.$t("stepForm.button.again")),1)]),_:1})]),_:1}),C("div",be,[t(p,{heading:6,style:{"margin-top":"0"}},{default:a(()=>[u(m(e.$t("stepForm.form.description.title")),1)]),_:1}),t(_,{style:{"margin-bottom":"0"}},{default:a(()=>[u(m(e.$t("stepForm.form.description.text"))+" ",1),t(d,{href:"link"},{default:a(()=>[u(m(e.$t("stepForm.button.view")),1)]),_:1})]),_:1})])])}}});var ye=V(ge,[["__scopeId","data-v-20859232"]]);const he={class:"container"},$e={class:"wrapper"},Fe={name:"Step"},ke=w(N(g({},Fe),{setup(i){const{loading:s,setLoading:n}=ne(!1),e=y(1),f=y({}),l=async()=>{n(!0);try{await ie(f.value),e.value=3,f.value={}}catch{}finally{n(!1)}},o=(r,p)=>{if(typeof r=="number"){e.value=r;return}if(r==="forward"||r==="submit"){if(f.value=g(g({},f.value),p),r==="submit"){l();return}e.value+=1}else r==="backward"&&(e.value-=1)};return(r,p)=>{const d=x("Breadcrumb"),_=ae,$=re,F=le,k=se;return b(),R("div",he,[t(d,{items:["menu.form","menu.form.step"]},null,8,["items"]),t(k,{loading:oe(s),style:{width:"100%"}},{default:a(()=>[t(F,{class:"general-card"},{title:a(()=>[u(m(r.$t("stepForm.step.title")),1)]),default:a(()=>[C("div",$e,[t($,{current:e.value,"onUpdate:current":p[0]||(p[0]=c=>e.value=c),style:{width:"580px"},"line-less":"",class:"steps"},{default:a(()=>[t(_,{description:r.$t("stepForm.step.subTitle.baseInfo")},{default:a(()=>[u(m(r.$t("stepForm.step.title.baseInfo")),1)]),_:1},8,["description"]),t(_,{description:r.$t("stepForm.step.subTitle.channel")},{default:a(()=>[u(m(r.$t("stepForm.step.title.channel")),1)]),_:1},8,["description"]),t(_,{description:r.$t("stepForm.step.subTitle.finish")},{default:a(()=>[u(m(r.$t("stepForm.step.title.finish")),1)]),_:1},8,["description"])]),_:1},8,["current"]),(b(),h(te,null,[e.value===1?(b(),h(me,{key:0,onChangeStep:o})):e.value===2?(b(),h(fe,{key:1,onChangeStep:o})):e.value===3?(b(),h(ye,{key:2,onChangeStep:o})):ee("",!0)],1024))])]),_:1})]),_:1},8,["loading"])])}}}));var Ge=V(ke,[["__scopeId","data-v-689f09d3"]]);export{Ge as default};
